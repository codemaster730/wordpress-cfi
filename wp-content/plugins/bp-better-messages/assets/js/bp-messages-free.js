/*! For license information please see bp-messages-free.js.LICENSE.txt */
(()=>{var __webpack_modules__={7757:(e,t,n)=>{e.exports=n(5666)},6333:(e,t,n)=>{"use strict";function i(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{Z:()=>i})},2057:(e,t,n)=>{"use strict";function i(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}n.d(t,{Z:()=>i})},2556:(e,t,n)=>{"use strict";n.d(t,{Re:()=>a,Zq:()=>o,kK:()=>r});var i=n(2057);function r(e){return e instanceof(0,i.Z)(e).Element||e instanceof Element}function a(e){return e instanceof(0,i.Z)(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!=typeof ShadowRoot&&(e instanceof(0,i.Z)(e).ShadowRoot||e instanceof ShadowRoot)}},7824:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(6333),r=n(2556);const a={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},a=t.attributes[e]||{},o=t.elements[e];(0,r.Re)(o)&&(0,i.Z)(o)&&(Object.assign(o.style,n),Object.keys(a).forEach((function(e){var t=a[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var a=t.elements[e],o=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,r.Re)(a)&&(0,i.Z)(a)&&(Object.assign(a.style,s),Object.keys(o).forEach((function(e){a.removeAttribute(e)})))}))}},requires:["computeStyles"]}},3086:(e,t,n)=>{"use strict";n.d(t,{fi:()=>me});var i=n(2556),r=Math.max,a=Math.min,o=Math.round;function s(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,a=1;if((0,i.Re)(e)&&t){var s=e.offsetHeight,l=e.offsetWidth;l>0&&(r=o(n.width)/l||1),s>0&&(a=o(n.height)/s||1)}return{width:n.width/r,height:n.height/a,top:n.top/a,right:n.right/r,bottom:n.bottom/a,left:n.left/r,x:n.left/r,y:n.top/a}}var l=n(2057);function c(e){var t=(0,l.Z)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}var u=n(6333);function d(e){return(((0,i.kK)(e)?e.ownerDocument:e.document)||window.document).documentElement}function p(e){return s(d(e)).left+c(e).scrollLeft}function f(e){return(0,l.Z)(e).getComputedStyle(e)}function h(e){var t=f(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function m(e,t,n){void 0===n&&(n=!1);var r,a,f=(0,i.Re)(t),m=(0,i.Re)(t)&&function(e){var t=e.getBoundingClientRect(),n=o(t.width)/e.offsetWidth||1,i=o(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),g=d(t),v=s(e,m),b={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(f||!f&&!n)&&(("body"!==(0,u.Z)(t)||h(g))&&(b=(r=t)!==(0,l.Z)(r)&&(0,i.Re)(r)?{scrollLeft:(a=r).scrollLeft,scrollTop:a.scrollTop}:c(r)),(0,i.Re)(t)?((_=s(t,!0)).x+=t.clientLeft,_.y+=t.clientTop):g&&(_.x=p(g))),{x:v.left+b.scrollLeft-_.x,y:v.top+b.scrollTop-_.y,width:v.width,height:v.height}}function g(e){var t=s(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function v(e){return"html"===(0,u.Z)(e)?e:e.assignedSlot||e.parentNode||((0,i.Zq)(e)?e.host:null)||d(e)}function b(e){return["html","body","#document"].indexOf((0,u.Z)(e))>=0?e.ownerDocument.body:(0,i.Re)(e)&&h(e)?e:b(v(e))}function _(e,t){var n;void 0===t&&(t=[]);var i=b(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),a=(0,l.Z)(i),o=r?[a].concat(a.visualViewport||[],h(i)?i:[]):i,s=t.concat(o);return r?s:s.concat(_(v(o)))}function y(e){return["table","td","th"].indexOf((0,u.Z)(e))>=0}function w(e){return(0,i.Re)(e)&&"fixed"!==f(e).position?e.offsetParent:null}function x(e){for(var t=(0,l.Z)(e),n=w(e);n&&y(n)&&"static"===f(n).position;)n=w(n);return n&&("html"===(0,u.Z)(n)||"body"===(0,u.Z)(n)&&"static"===f(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&(0,i.Re)(e)&&"fixed"===f(e).position)return null;var n=v(e);for((0,i.Zq)(n)&&(n=n.host);(0,i.Re)(n)&&["html","body"].indexOf((0,u.Z)(n))<0;){var r=f(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var k="top",$="bottom",C="right",T="left",O="auto",S=[k,$,C,T],A="start",P="end",E="viewport",j="popper",M=S.reduce((function(e,t){return e.concat([t+"-"+A,t+"-"+P])}),[]),B=[].concat(S,[O]).reduce((function(e,t){return e.concat([t,t+"-"+A,t+"-"+P])}),[]),I=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function R(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}var D={placement:"bottom",modifiers:[],strategy:"absolute"};function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function z(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?D:a;return function(e,t,n){void 0===n&&(n=o);var a,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},D,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(n){var a="function"==typeof n?n(l.options):n;p(),l.options=Object.assign({},o,l.options,a),l.scrollParents={reference:(0,i.kK)(e)?_(e):e.contextElement?_(e.contextElement):[],popper:_(t)};var s,u,f=function(e){var t=R(e);return I.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(r,l.options.modifiers),u=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return l.orderedModifiers=f.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var a=r({state:l,name:t,instance:d,options:i});c.push(a||function(){})}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(L(t,n)){l.rects={reference:m(t,x(n),"fixed"===l.options.strategy),popper:g(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var r=l.orderedModifiers[i],a=r.fn,o=r.options,s=void 0===o?{}:o,c=r.name;"function"==typeof a&&(l=a({state:l,options:s,name:c,instance:d})||l)}else l.reset=!1,i=-1}}},update:(a=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(a())}))}))),s}),destroy:function(){p(),u=!0}};if(!L(e,t))return d;function p(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}var N={passive:!0};const H={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,a=void 0===r||r,o=i.resize,s=void 0===o||o,c=(0,l.Z)(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,N)})),s&&c.addEventListener("resize",n.update,N),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,N)})),s&&c.removeEventListener("resize",n.update,N)}},data:{}};function F(e){return e.split("-")[0]}function W(e){return e.split("-")[1]}function q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function U(e){var t,n=e.reference,i=e.element,r=e.placement,a=r?F(r):null,o=r?W(r):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(a){case k:t={x:s,y:n.y-i.height};break;case $:t={x:s,y:n.y+n.height};break;case C:t={x:n.x+n.width,y:l};break;case T:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=a?q(a):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case A:t[c]=t[c]-(n[u]/2-i[u]/2);break;case P:t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}const V={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=U({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var G={top:"auto",right:"auto",bottom:"auto",left:"auto"};function K(e){var t,n=e.popper,i=e.popperRect,r=e.placement,a=e.variation,s=e.offsets,c=e.position,u=e.gpuAcceleration,p=e.adaptive,h=e.roundOffsets,m=e.isFixed,g=s.x,v=void 0===g?0:g,b=s.y,_=void 0===b?0:b,y="function"==typeof h?h({x:v,y:_}):{x:v,y:_};v=y.x,_=y.y;var w=s.hasOwnProperty("x"),O=s.hasOwnProperty("y"),S=T,A=k,E=window;if(p){var j=x(n),M="clientHeight",B="clientWidth";j===(0,l.Z)(n)&&"static"!==f(j=d(n)).position&&"absolute"===c&&(M="scrollHeight",B="scrollWidth"),(r===k||(r===T||r===C)&&a===P)&&(A=$,_-=(m&&j===E&&E.visualViewport?E.visualViewport.height:j[M])-i.height,_*=u?1:-1),r!==T&&(r!==k&&r!==$||a!==P)||(S=C,v-=(m&&j===E&&E.visualViewport?E.visualViewport.width:j[B])-i.width,v*=u?1:-1)}var I,R=Object.assign({position:c},p&&G),D=!0===h?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:o(t*i)/i||0,y:o(n*i)/i||0}}({x:v,y:_}):{x:v,y:_};return v=D.x,_=D.y,u?Object.assign({},R,((I={})[A]=O?"0":"",I[S]=w?"0":"",I.transform=(E.devicePixelRatio||1)<=1?"translate("+v+"px, "+_+"px)":"translate3d("+v+"px, "+_+"px, 0)",I)):Object.assign({},R,((t={})[A]=O?_+"px":"",t[S]=w?v+"px":"",t.transform="",t))}const X={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,c={placement:F(t.placement),variation:W(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,K(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,K(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Y=n(7824);const Z={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,a=void 0===r?[0,0]:r,o=B.reduce((function(e,n){return e[n]=function(e,t,n){var i=F(e),r=[T,k].indexOf(i)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*r,[T,C].indexOf(i)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}};var Q={left:"right",right:"left",bottom:"top",top:"bottom"};function J(e){return e.replace(/left|right|bottom|top/g,(function(e){return Q[e]}))}var ee={start:"end",end:"start"};function te(e){return e.replace(/start|end/g,(function(e){return ee[e]}))}function ne(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,i.Zq)(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ie(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function re(e,t){return t===E?ie(function(e){var t=(0,l.Z)(e),n=d(e),i=t.visualViewport,r=n.clientWidth,a=n.clientHeight,o=0,s=0;return i&&(r=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,s=i.offsetTop)),{width:r,height:a,x:o+p(e),y:s}}(e)):(0,i.kK)(t)?function(e){var t=s(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ie(function(e){var t,n=d(e),i=c(e),a=null==(t=e.ownerDocument)?void 0:t.body,o=r(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=r(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-i.scrollLeft+p(e),u=-i.scrollTop;return"rtl"===f(a||n).direction&&(l+=r(n.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}(d(e)))}function ae(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function oe(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function se(e,t){void 0===t&&(t={});var n=t,o=n.placement,l=void 0===o?e.placement:o,c=n.boundary,p=void 0===c?"clippingParents":c,h=n.rootBoundary,m=void 0===h?E:h,g=n.elementContext,b=void 0===g?j:g,y=n.altBoundary,w=void 0!==y&&y,T=n.padding,O=void 0===T?0:T,A=ae("number"!=typeof O?O:oe(O,S)),P=b===j?"reference":j,M=e.rects.popper,B=e.elements[w?P:b],I=function(e,t,n){var o="clippingParents"===t?function(e){var t=_(v(e)),n=["absolute","fixed"].indexOf(f(e).position)>=0&&(0,i.Re)(e)?x(e):e;return(0,i.kK)(n)?t.filter((function(e){return(0,i.kK)(e)&&ne(e,n)&&"body"!==(0,u.Z)(e)})):[]}(e):[].concat(t),s=[].concat(o,[n]),l=s[0],c=s.reduce((function(t,n){var i=re(e,n);return t.top=r(i.top,t.top),t.right=a(i.right,t.right),t.bottom=a(i.bottom,t.bottom),t.left=r(i.left,t.left),t}),re(e,l));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}((0,i.kK)(B)?B:B.contextElement||d(e.elements.popper),p,m),R=s(e.elements.reference),D=U({reference:R,element:M,strategy:"absolute",placement:l}),L=ie(Object.assign({},M,D)),z=b===j?L:R,N={top:I.top-z.top+A.top,bottom:z.bottom-I.bottom+A.bottom,left:I.left-z.left+A.left,right:z.right-I.right+A.right},H=e.modifiersData.offset;if(b===j&&H){var F=H[l];Object.keys(N).forEach((function(e){var t=[C,$].indexOf(e)>=0?1:-1,n=[k,$].indexOf(e)>=0?"y":"x";N[e]+=F[n]*t}))}return N}const le={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,a=void 0===r||r,o=n.altAxis,s=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,g=t.options.placement,v=F(g),b=l||(v!==g&&h?function(e){if(F(e)===O)return[];var t=J(e);return[te(e),t,te(t)]}(g):[J(g)]),_=[g].concat(b).reduce((function(e,n){return e.concat(F(n)===O?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?B:l,u=W(i),d=u?s?M:M.filter((function(e){return W(e)===u})):S,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=se(e,{placement:n,boundary:r,rootBoundary:a,padding:o})[F(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),y=t.rects.reference,w=t.rects.popper,x=new Map,P=!0,E=_[0],j=0;j<_.length;j++){var I=_[j],R=F(I),D=W(I)===A,L=[k,$].indexOf(R)>=0,z=L?"width":"height",N=se(t,{placement:I,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),H=L?D?C:T:D?$:k;y[z]>w[z]&&(H=J(H));var q=J(H),U=[];if(a&&U.push(N[R]<=0),s&&U.push(N[H]<=0,N[q]<=0),U.every((function(e){return e}))){E=I,P=!1;break}x.set(I,U)}if(P)for(var V=function(e){var t=_.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},G=h?3:1;G>0&&"break"!==V(G);G--);t.placement!==E&&(t.modifiersData[i]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ce(e,t,n){return r(e,a(t,n))}const ue={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,s=void 0===o||o,l=n.altAxis,c=void 0!==l&&l,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.padding,h=n.tether,m=void 0===h||h,v=n.tetherOffset,b=void 0===v?0:v,_=se(t,{boundary:u,rootBoundary:d,padding:f,altBoundary:p}),y=F(t.placement),w=W(t.placement),O=!w,S=q(y),P="x"===S?"y":"x",E=t.modifiersData.popperOffsets,j=t.rects.reference,M=t.rects.popper,B="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,I="number"==typeof B?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(E){if(s){var L,z="y"===S?k:T,N="y"===S?$:C,H="y"===S?"height":"width",U=E[S],V=U+_[z],G=U-_[N],K=m?-M[H]/2:0,X=w===A?j[H]:M[H],Y=w===A?-M[H]:-j[H],Z=t.elements.arrow,Q=m&&Z?g(Z):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=J[z],te=J[N],ne=ce(0,j[H],Q[H]),ie=O?j[H]/2-K-ne-ee-I.mainAxis:X-ne-ee-I.mainAxis,re=O?-j[H]/2+K+ne+te+I.mainAxis:Y+ne+te+I.mainAxis,ae=t.elements.arrow&&x(t.elements.arrow),oe=ae?"y"===S?ae.clientTop||0:ae.clientLeft||0:0,le=null!=(L=null==R?void 0:R[S])?L:0,ue=U+re-le,de=ce(m?a(V,U+ie-le-oe):V,U,m?r(G,ue):G);E[S]=de,D[S]=de-U}if(c){var pe,fe="x"===S?k:T,he="x"===S?$:C,me=E[P],ge="y"===P?"height":"width",ve=me+_[fe],be=me-_[he],_e=-1!==[k,T].indexOf(y),ye=null!=(pe=null==R?void 0:R[P])?pe:0,we=_e?ve:me-j[ge]-M[ge]-ye+I.altAxis,xe=_e?me+j[ge]+M[ge]-ye-I.altAxis:be,ke=m&&_e?function(e,t,n){var i=ce(e,t,n);return i>n?n:i}(we,me,xe):ce(m?we:ve,me,m?xe:be);E[P]=ke,D[P]=ke-me}t.modifiersData[i]=D}},requiresIfExists:["offset"]},de={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=F(n.placement),l=q(s),c=[T,C].indexOf(s)>=0?"height":"width";if(a&&o){var u=function(e,t){return ae("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:oe(e,S))}(r.padding,n),d=g(a),p="y"===l?k:T,f="y"===l?$:C,h=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],m=o[l]-n.rects.reference[l],v=x(a),b=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,_=h/2-m/2,y=u[p],w=b-d[c]-u[f],O=b/2-d[c]/2+_,A=ce(y,O,w),P=l;n.modifiersData[i]=((t={})[P]=A,t.centerOffset=A-O,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&ne(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function fe(e){return[k,C,$,T].some((function(t){return e[t]>=0}))}const he={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,a=t.modifiersData.preventOverflow,o=se(t,{elementContext:"reference"}),s=se(t,{altBoundary:!0}),l=pe(o,i),c=pe(s,r,a),u=fe(l),d=fe(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var me=z({defaultModifiers:[H,V,X,Y.Z,Z,le,ue,de,he]})},1592:(e,t,n)=>{"use strict";var i=n(1332).z,r={stringify(e){var t=i.enc.Hex.parse(e.salt.toString()).toString(i.enc.Latin1),n=e.ciphertext.toString(i.enc.Latin1);return i.enc.Latin1.parse("Salted__"+t+n).toString(i.enc.Base64)},parse(e){if("Salted__"!==(e=i.enc.Base64.parse(e).toString(i.enc.Latin1)).substr(0,8))throw new Error("Error parsing salt");var t=e.substr(8,8),n=e.substr(16);return i.lib.CipherParams.create({ciphertext:i.enc.Latin1.parse(n),salt:i.enc.Latin1.parse(t)})}},a={encrypt:function(e,t){return i.AES.encrypt(e,t,{format:r}).toString()},decrypt:function(e,t){return i.AES.decrypt(e,t,{format:r}).toString(i.enc.Utf8)}};e.exports=a},2819:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>p,$w:()=>c,EI:()=>d,hG:()=>u,z9:()=>s});var i=n(3334),r=n(9729),a=n(6674),o=!1;function s(){if("0"===i.x6.user_id)return!1;if(clearInterval(i.Rl.checkerTimer),i.Rl.checkerTimer=setTimeout(s,i.x6.threadRefresh),"1"!=i.x6.realtime&&!o){var e=(0,r.EY)("bp-messages-last-check"),t=(0,i.$)(".messages-stack:last-child .messages-list li:last-child").attr("data-time");o=!0,i.$.post(i.x6.ajaxUrl,{action:"bp_messages_thread_check_new",last_check:e,thread_id:i.Rl.thread,last_message:t},(function(e){i.$.each(e.messages,(function(){"string"==typeof this.avatar&&(this.avatar=this.avatar.replace("loading='lazy'","").replace('loading="lazy"',"")),(0,a.F$)(this)})),i.$.each(e.threads,(function(){"string"==typeof this.avatar&&(this.avatar=this.avatar.replace("loading='lazy'","").replace('loading="lazy"',"")),(0,a.PV)(this.thread_id,this.message,this.name,this.avatar)})),(0,r.PE)(e.total_unread),o=!1}))}}(0,i.$)(document).on("bp-better-messages-refresh-thread",(function(e){s()}));var l=!1;function c(){if(clearInterval(i.Rl.checkerTimer),i.Rl.checkerTimer=window.setTimeout(c,i.x6.siteRefresh),"1"!=i.x6.realtime&&!l){var e=(0,r.EY)("bp-messages-last-check");l=!0,i.$.post(i.x6.ajaxUrl,{action:"bp_messages_check_new",last_check:e},(function(e){e.threads.length>0&&i.$.each(e.threads,(function(){var e=this;"string"==typeof e.avatar&&(e.avatar=e.avatar.replace("loading='lazy'","").replace('loading="lazy"',"")),(0,r.$$)(e),i.Rl.threads||(0,a.PV)(e.thread_id,e.message,e.name,e.avatar)})),(0,r.PE)(e.total_unread),l=!1}))}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getElements(),r=(0,i.$)(n.host);if(r.hasClass("loadingAtTheMoment")||r.hasClass("allMessagesWasLoaded"))return!1;var o=r.data("id");r.find(".loading-messages").show(),r.addClass("loadingAtTheMoment");var s=r.find(".messages-stack:first-child .messages-list li:first-child"),l=s.attr("data-id");i.$.post(i.x6.ajaxUrl,{action:"bp_messages_thread_load_messages",thread_id:o,message_id:l},(function(n){if(r.find(".loading-messages").hide(),""===n.trim()&&r.addClass("allMessagesWasLoaded"),(0,i.$)(n).prependTo(r.find(".list")),r.addClass("hasLoadedMessages"),""!==n.trim()){var o=r.find(".loading-messages").height()+15;e.scroll({el:s.closest(".messages-stack"),margin:o}),(0,a.hM)(),r.removeClass("loadingAtTheMoment"),t&&0===e.scroll().max.y&&u(e,!0)}}))}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.$)(e);if(n.hasClass("loading-more")||n.hasClass("all-loaded"))return!1;n.addClass("loading-more"),n.find(".loading-messages").show();var r=[],a=n.find(".loading-messages");n.find(".threads-list > .thread").each((function(){r.push((0,i.$)(this).data("id"))}));var o={action:"bp_messages_get_more_threads",loaded_threads:r,user_id:i.x6.displayed_user_id};n.closest(".bp-messages-wrap").hasClass("bp-better-messages-list")&&(o.user_id=i.x6.user_id),i.$.post(i.x6.ajaxUrl,o,(function(r){(0,i.$)(r).insertBefore(a),n.removeClass("loading-more"),n.find(".loading-messages").hide(),""===r.trim()?n.addClass("all-loaded"):t&&Math.ceil(e.get(0).scrollHeight)<=Math.ceil(e.innerHeight())&&d(e,!0)}))}function p(e){i.$.each(e,(function(){var e=(0,i.$)('.bp-messages-wrap .list .messages-stack .content .messages-list li[data-id="'+this+'"]'),t=e.closest(".messages-stack");e.remove(),0===t.find(".messages-list > li").length&&t.remove(),(0,i.$)(i.St+'[data-message="'+this+'"] .info p').text("...")}))}},6674:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{hM:()=>re,F$:()=>ae,PV:()=>oe});var r=n(3334),a=n(3086),o=n(7824),s="tippy-content",l="tippy-arrow",c="tippy-svg-arrow",u={passive:!0,capture:!0},d=function(){return document.body};function p(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function f(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function h(e,t){return"function"==typeof e?e.apply(void 0,t):e}function m(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout((function(){e(i)}),t)};var n}function g(e){return[].concat(e)}function v(e,t){-1===e.indexOf(t)&&e.push(t)}function b(e){return[].slice.call(e)}function _(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function y(){return document.createElement("div")}function w(e){return["Element","Fragment"].some((function(t){return f(e,t)}))}function x(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function k(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function $(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[i](t,n)}))}function C(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=null==n.getRootNode||null==(i=n.getRootNode())?void 0:i.host}return!1}var T={isTouch:!1},O=0;function S(){T.isTouch||(T.isTouch=!0,window.performance&&document.addEventListener("mousemove",A))}function A(){var e=performance.now();e-O<20&&(T.isTouch=!1,document.removeEventListener("mousemove",A)),O=e}function P(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var n=t._tippy;t.blur&&!n.state.isVisible&&t.blur()}}var E=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),j=Object.assign({appendTo:d,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),M=Object.keys(j);function B(e){var t=(e.plugins||[]).reduce((function(t,n){var i,r=n.name,a=n.defaultValue;return r&&(t[r]=void 0!==e[r]?e[r]:null!=(i=j[r])?i:a),t}),{});return Object.assign({},e,t)}function I(e,t){var n=Object.assign({},t,{content:h(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(B(Object.assign({},j,{plugins:t}))):M).reduce((function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},j.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function R(e,t){e.innerHTML=t}function D(e){var t=y();return!0===e?t.className=l:(t.className=c,w(e)?t.appendChild(e):R(t,e)),t}function L(e,t){w(t.content)?(R(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?R(e,t.content):e.textContent=t.content)}function z(e){var t=e.firstElementChild,n=b(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(s)})),arrow:n.find((function(e){return e.classList.contains(l)||e.classList.contains(c)})),backdrop:n.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function N(e){var t=y(),n=y();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=y();function r(n,i){var r=z(t),a=r.box,o=r.content,s=r.arrow;i.theme?a.setAttribute("data-theme",i.theme):a.removeAttribute("data-theme"),"string"==typeof i.animation?a.setAttribute("data-animation",i.animation):a.removeAttribute("data-animation"),i.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?a.setAttribute("role",i.role):a.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||L(o,e.props),i.arrow?s?n.arrow!==i.arrow&&(a.removeChild(s),a.appendChild(D(i.arrow))):a.appendChild(D(i.arrow)):s&&a.removeChild(s)}return i.className=s,i.setAttribute("data-state","hidden"),L(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props),{popper:t,onUpdate:r}}N.$$tippy=!0;var H=1,F=[],W=[];function q(e,t){var n,i,r,o,s,l,c,w,O=I(e,Object.assign({},j,B(_(t)))),S=!1,A=!1,P=!1,M=!1,R=[],D=m(be,O.interactiveDebounce),L=H++,N=(w=O.plugins).filter((function(e,t){return w.indexOf(e)===t})),q={id:L,reference:e,popper:y(),popperInstance:null,props:O,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:N,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(r)},setProps:function(t){if(!q.state.isDestroyed){re("onBeforeUpdate",[q,t]),ge();var n=q.props,i=I(e,Object.assign({},n,_(t),{ignoreAttributes:!0}));q.props=i,me(),n.interactiveDebounce!==i.interactiveDebounce&&(se(),D=m(be,i.interactiveDebounce)),n.triggerTarget&&!i.triggerTarget?g(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&e.removeAttribute("aria-expanded"),oe(),ie(),G&&G(n,i),q.popperInstance&&(xe(),$e().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),re("onAfterUpdate",[q,t])}},setContent:function(e){q.setProps({content:e})},show:function(){var e=q.state.isVisible,t=q.state.isDestroyed,n=!q.state.isEnabled,i=T.isTouch&&!q.props.touch,r=p(q.props.duration,0,j.duration);if(!(e||t||n||i||J().hasAttribute("disabled")||(re("onShow",[q],!1),!1===q.props.onShow(q)))){if(q.state.isVisible=!0,Q()&&(V.style.visibility="visible"),ie(),de(),q.state.isMounted||(V.style.transition="none"),Q()){var a=te();x([a.box,a.content],0)}var o,s,c;l=function(){var e;if(q.state.isVisible&&!M){if(M=!0,V.offsetHeight,V.style.transition=q.props.moveTransition,Q()&&q.props.animation){var t=te(),n=t.box,i=t.content;x([n,i],r),k([n,i],"visible")}ae(),oe(),v(W,q),null==(e=q.popperInstance)||e.forceUpdate(),re("onMount",[q]),q.props.animation&&Q()&&function(e,t){fe(e,(function(){q.state.isShown=!0,re("onShown",[q])}))}(r)}},s=q.props.appendTo,c=J(),(o=q.props.interactive&&s===d||"parent"===s?c.parentNode:h(s,[c])).contains(V)||o.appendChild(V),q.state.isMounted=!0,xe()}},hide:function(){var e=!q.state.isVisible,t=q.state.isDestroyed,n=!q.state.isEnabled,i=p(q.props.duration,1,j.duration);if(!(e||t||n)&&(re("onHide",[q],!1),!1!==q.props.onHide(q))){if(q.state.isVisible=!1,q.state.isShown=!1,M=!1,S=!1,Q()&&(V.style.visibility="hidden"),se(),pe(),ie(!0),Q()){var r=te(),a=r.box,o=r.content;q.props.animation&&(x([a,o],i),k([a,o],"hidden"))}ae(),oe(),q.props.animation?Q()&&function(e,t){fe(e,(function(){!q.state.isVisible&&V.parentNode&&V.parentNode.contains(V)&&t()}))}(i,q.unmount):q.unmount()}},hideWithInteractivity:function(e){ee().addEventListener("mousemove",D),v(F,D),D(e)},enable:function(){q.state.isEnabled=!0},disable:function(){q.hide(),q.state.isEnabled=!1},unmount:function(){q.state.isVisible&&q.hide(),q.state.isMounted&&(ke(),$e().forEach((function(e){e._tippy.unmount()})),V.parentNode&&V.parentNode.removeChild(V),W=W.filter((function(e){return e!==q})),q.state.isMounted=!1,re("onHidden",[q]))},destroy:function(){q.state.isDestroyed||(q.clearDelayTimeouts(),q.unmount(),ge(),delete e._tippy,q.state.isDestroyed=!0,re("onDestroy",[q]))}};if(!O.render)return q;var U=O.render(q),V=U.popper,G=U.onUpdate;V.setAttribute("data-tippy-root",""),V.id="tippy-"+q.id,q.popper=V,e._tippy=q,V._tippy=q;var K=N.map((function(e){return e.fn(q)})),X=e.hasAttribute("aria-expanded");return me(),oe(),ie(),re("onCreate",[q]),O.showOnCreate&&Ce(),V.addEventListener("mouseenter",(function(){q.props.interactive&&q.state.isVisible&&q.clearDelayTimeouts()})),V.addEventListener("mouseleave",(function(){q.props.interactive&&q.props.trigger.indexOf("mouseenter")>=0&&ee().addEventListener("mousemove",D)})),q;function Y(){var e=q.props.touch;return Array.isArray(e)?e:[e,0]}function Z(){return"hold"===Y()[0]}function Q(){var e;return!(null==(e=q.props.render)||!e.$$tippy)}function J(){return c||e}function ee(){var e,t,n=J().parentNode;return n?null!=(t=g(n)[0])&&null!=(e=t.ownerDocument)&&e.body?t.ownerDocument:document:document}function te(){return z(V)}function ne(e){return q.state.isMounted&&!q.state.isVisible||T.isTouch||o&&"focus"===o.type?0:p(q.props.delay,e?0:1,j.delay)}function ie(e){void 0===e&&(e=!1),V.style.pointerEvents=q.props.interactive&&!e?"":"none",V.style.zIndex=""+q.props.zIndex}function re(e,t,n){var i;void 0===n&&(n=!0),K.forEach((function(n){n[e]&&n[e].apply(n,t)})),n&&(i=q.props)[e].apply(i,t)}function ae(){var t=q.props.aria;if(t.content){var n="aria-"+t.content,i=V.id;g(q.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(q.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var r=t&&t.replace(i,"").trim();r?e.setAttribute(n,r):e.removeAttribute(n)}}))}}function oe(){!X&&q.props.aria.expanded&&g(q.props.triggerTarget||e).forEach((function(e){q.props.interactive?e.setAttribute("aria-expanded",q.state.isVisible&&e===J()?"true":"false"):e.removeAttribute("aria-expanded")}))}function se(){ee().removeEventListener("mousemove",D),F=F.filter((function(e){return e!==D}))}function le(t){if(!T.isTouch||!P&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!q.props.interactive||!C(V,n)){if(g(q.props.triggerTarget||e).some((function(e){return C(e,n)}))){if(T.isTouch)return;if(q.state.isVisible&&q.props.trigger.indexOf("click")>=0)return}else re("onClickOutside",[q,t]);!0===q.props.hideOnClick&&(q.clearDelayTimeouts(),q.hide(),A=!0,setTimeout((function(){A=!1})),q.state.isMounted||pe())}}}function ce(){P=!0}function ue(){P=!1}function de(){var e=ee();e.addEventListener("mousedown",le,!0),e.addEventListener("touchend",le,u),e.addEventListener("touchstart",ue,u),e.addEventListener("touchmove",ce,u)}function pe(){var e=ee();e.removeEventListener("mousedown",le,!0),e.removeEventListener("touchend",le,u),e.removeEventListener("touchstart",ue,u),e.removeEventListener("touchmove",ce,u)}function fe(e,t){var n=te().box;function i(e){e.target===n&&($(n,"remove",i),t())}if(0===e)return t();$(n,"remove",s),$(n,"add",i),s=i}function he(t,n,i){void 0===i&&(i=!1),g(q.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,i),R.push({node:e,eventType:t,handler:n,options:i})}))}function me(){var e;Z()&&(he("touchstart",ve,{passive:!0}),he("touchend",_e,{passive:!0})),(e=q.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(he(e,ve),e){case"mouseenter":he("mouseleave",_e);break;case"focus":he(E?"focusout":"blur",ye);break;case"focusin":he("focusout",ye)}}))}function ge(){R.forEach((function(e){var t=e.node,n=e.eventType,i=e.handler,r=e.options;t.removeEventListener(n,i,r)})),R=[]}function ve(e){var t,n=!1;if(q.state.isEnabled&&!we(e)&&!A){var i="focus"===(null==(t=o)?void 0:t.type);o=e,c=e.currentTarget,oe(),!q.state.isVisible&&f(e,"MouseEvent")&&F.forEach((function(t){return t(e)})),"click"===e.type&&(q.props.trigger.indexOf("mouseenter")<0||S)&&!1!==q.props.hideOnClick&&q.state.isVisible?n=!0:Ce(e),"click"===e.type&&(S=!n),n&&!i&&Te(e)}}function be(e){var t=e.target,n=J().contains(t)||V.contains(t);if("mousemove"!==e.type||!n){var i=$e().concat(V).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:O}:null})).filter(Boolean);(function(e,t){var n=t.clientX,i=t.clientY;return e.every((function(e){var t=e.popperRect,r=e.popperState,a=e.props.interactiveBorder,o=r.placement.split("-")[0],s=r.modifiersData.offset;if(!s)return!0;var l="bottom"===o?s.top.y:0,c="top"===o?s.bottom.y:0,u="right"===o?s.left.x:0,d="left"===o?s.right.x:0,p=t.top-i+l>a,f=i-t.bottom-c>a,h=t.left-n+u>a,m=n-t.right-d>a;return p||f||h||m}))})(i,e)&&(se(),Te(e))}}function _e(e){we(e)||q.props.trigger.indexOf("click")>=0&&S||(q.props.interactive?q.hideWithInteractivity(e):Te(e))}function ye(e){q.props.trigger.indexOf("focusin")<0&&e.target!==J()||q.props.interactive&&e.relatedTarget&&V.contains(e.relatedTarget)||Te(e)}function we(e){return!!T.isTouch&&Z()!==e.type.indexOf("touch")>=0}function xe(){ke();var t=q.props,n=t.popperOptions,i=t.placement,r=t.offset,o=t.getReferenceClientRect,s=t.moveTransition,c=Q()?z(V).arrow:null,u=o?{getBoundingClientRect:o,contextElement:o.contextElement||J()}:e,d=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(Q()){var n=te().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];Q()&&c&&d.push({name:"arrow",options:{element:c,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),q.popperInstance=(0,a.fi)(u,V,Object.assign({},n,{placement:i,onFirstUpdate:l,modifiers:d}))}function ke(){q.popperInstance&&(q.popperInstance.destroy(),q.popperInstance=null)}function $e(){return b(V.querySelectorAll("[data-tippy-root]"))}function Ce(e){q.clearDelayTimeouts(),e&&re("onTrigger",[q,e]),de();var t=ne(!0),i=Y(),r=i[0],a=i[1];T.isTouch&&"hold"===r&&a&&(t=a),t?n=setTimeout((function(){q.show()}),t):q.show()}function Te(e){if(q.clearDelayTimeouts(),re("onUntrigger",[q,e]),q.state.isVisible){if(!(q.props.trigger.indexOf("mouseenter")>=0&&q.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&S)){var t=ne(!1);t?i=setTimeout((function(){q.state.isVisible&&q.hide()}),t):r=requestAnimationFrame((function(){q.hide()}))}}else pe()}}function U(e,t){void 0===t&&(t={});var n=j.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",S,u),window.addEventListener("blur",P);var i,r=Object.assign({},t,{plugins:n}),a=(i=e,w(i)?[i]:function(e){return f(e,"NodeList")}(i)?b(i):Array.isArray(i)?i:b(document.querySelectorAll(i))).reduce((function(e,t){var n=t&&q(t,r);return n&&e.push(n),e}),[]);return w(e)?a[0]:a}U.defaultProps=j,U.setDefaultProps=function(e){Object.keys(e).forEach((function(t){j[t]=e[t]}))},U.currentInput=T,Object.assign({},o.Z,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),U.setDefaultProps({render:N});const V=U;function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.$)(".bp-messages-wrap");if(r.tq)return!1;(0,r.$)(e).find(".bpbm-users-avatars-list-item[title], .status[title], .bpbm-reply[title], .chat-header [title], .chat-footer [title], .threads-list [title], .chats .chat .head .controls [title],.bm-tippy-title[title]").each((function(){var e=(0,r.$)(this);e.is("strong")||e.is("input")||(void 0!==e[0]._tippy&&e[0]._tippy.destroy(),V(e[0],{placement:"top",content:e.attr("title"),allowHTML:!0,arrow:!1,offset:[0,5],theme:"bpbmtheme",onShow:function(e){var t=(0,r.$)(e.reference);if(t.is(".expandingButtons")&&t.hasClass("expandingButtonsOpen"))return!1}}),e[0].setAttribute("data-title",e.attr("title")),e[0].removeAttribute("title"))}))}var K=n(9729),X=n(2819),Y=n(6469),Z=n(4069),Q=n(1155);function J(){var e=r.x6.reactions;if(void 0===e)return!1;var t='<span class="bm-reactions-selector">';jQuery.each(e,(function(e,n){t+='<span title="'+n+'" data-unicode="'+e+'" class="bm-reaction-icon"><img alt="'+n+'" src="https://cdn.bpbettermessages.com/emojies/6.6/png/unicode/32/'+e+'.png"></span>'})),t+="</span>",jQuery(".bp-messages-wrap .list .messages-stack .content .messages-list > li:not(.my) .message-content:not(.bm-reactions-selector-added)").each((function(){jQuery(this).addClass("bm-reactions-selector-added").append(t);var e=jQuery(this).find(".bm-reactions-selector");r.tq&&(e.on("mouseenter",(function(){var e=(0,r.$)(this);setTimeout((function(){e.addClass("bm-reactions-selector-hover")}),500)})),e.on("mouseleave",(function(){var e=(0,r.$)(this);setTimeout((function(){e.removeClass("bm-reactions-selector-hover")}),500)}))),e.on("click",".bm-reaction-icon",(function(e){e.preventDefault();var t=(0,r.$)(this),n=t.closest("li"),i=t.attr("data-unicode"),a=n.attr("data-id"),o=n.find(".message-content"),s=t.closest(".bm-reactions-selector");if(r.tq&&!s.hasClass("bm-reactions-selector-hover"))return!1;r.$.post(r.x6.ajaxUrl,{action:"bp_messages_add_reaction",message_id:a,unicode:i,nonce:r.x6.userNonce},(function(e){if(!0===e.success){var t=e.data,n=o.find(".bm-reactions");n.length>0?n.replaceWith(t):o.append(t)}}))}))}))}var ee=n(3936),te=n(3050);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var ie=window.joypixels;function re(){r.Rl.thread=!1,r.Rl.threads=!1,r.Rl.reIniting=!0,clearTimeout(r.Rl.checkerTimer),"1"!==r.x6.realtime&&(0,K.PE)(r.x6.total_unread),document.dispatchEvent(new r.D0("bp-better-messages-reinit-start")),(0,K.v2)(),(0,K.a_)(),(0,r.$)(".bp-messages-wrap:not(.bp-better-messages-mini,.bp-better-messages-list,.bp-better-messages-secondary) .thread.bm-infodiv").length>0?r.Rl.thread=(0,r.$)(".bp-messages-wrap:not(.bp-better-messages-mini,.bp-better-messages-list,.bp-better-messages-secondary) .thread.bm-infodiv[data-id]").attr("data-id"):(0,r.$)(".bp-messages-wrap:not(.bp-better-messages-mini,.bp-better-messages-list,#bp-better-messages-mini-mobile-container,.bp-better-messages-secondary) .threads-list").length>0&&(r.Rl.threads=!0),r.Rl.thread?r.Rl.checkerTimer=window.setTimeout(X.z9,r.x6.threadRefresh):r.Rl.checkerTimer=window.setTimeout(X.$w,r.x6.siteRefresh),"1"===r.x6.miniChats&&r.$.each(r.Rl.miniChats,(function(e){e!==r.Rl.thread?(0,te.TK)(e,this):(0,r.$)('.bp-messages-wrap.bp-better-messages-mini .chats .chat[data-thread="'+r.Rl.thread+'"]').remove()})),!1!==r.Rl.miniMessages?((0,r.$)(".bp-better-messages-list").addClass("bp-better-messages-list-open"),(0,r.$)('.bp-better-messages-list .tabs > div[data-tab="'+r.Rl.miniMessages+'"]').addClass("active"),(0,r.$)(".bp-better-messages-list .tabs-content ."+r.Rl.miniMessages).addClass("active"),(0,r.$)('.bp-better-messages-list .tabs > div[data-tab="bpbm-close"]').show(),(0,Y.e)(String(r.Rl.miniMessages))):((0,r.$)(".bp-better-messages-list").removeClass("bp-better-messages-list-open"),(0,r.$)('.bp-better-messages-list .tabs > div[data-tab="bpbm-close"]').hide());var e="ltr";r.Rl.isRtl&&(e="rtl");var t={toolbar:{allowMultiParagraphSelection:!1,buttons:["bold","italic","underline","strikethrough","subscript","superscript","removeFormat"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",relativeContainer:!1,standardizeSelectionStart:!1,static:!1,align:"center",sticky:!1,updateOnEmptySelection:!0},placeholder:!1,imageDragging:!1,extensions:{mention:new BMTCMention({tagName:"span",renderPanelContent:function(e,t,n,i){var a=(0,r.$)(e),o=t.substring(1).toLowerCase(),s=(0,r.$)(i.base.elements[0]).closest(".bpbm-chat-content").find(".bm-infodiv[data-id]").attr("data-id"),l={};function c(e){var t=[];if(r.$.each(e,(function(e,n){r.x6.user_id!==e&&-1!==n.name.toLowerCase().indexOf(o)&&t.push('<li data-user-id="'+e+'" data-label="'+n.name+'">'+n.avatar+" "+n.name+"</li>")})),t.length>0){var i="<ul>";i+=t.join(""),i+="</ul>",a.html(i),a.find("> ul > li").click((function(e){e.preventDefault(),e.stopImmediatePropagation();var t=(0,r.$)(this),i=t.attr("data-user-id"),a=t.attr("data-label"),o=(0,r.$)(".bm-medium-editor-mention-at-active");o.attr("data-user-id",i),o.text("@"+a),o.addClass("bm-medium-editor-mention-user-"+i),n()})),a.show()}else a.hide()}void 0===l[s]&&(l[s]={}),void 0!==l[s][o]?c(l[s][o]):(a.html('<i class="fas fa-spinner fa-spin"></i>'),r.$.post(r.x6.ajaxUrl,{action:"bm_get_thread_mentions_suggestions",thread_id:s,search:o,nonce:r.x6.userNonce},(function(e){l[s][e.search]=e.users,c(e.users)})))},activeTriggerList:["@"]})}};function n(e,t){var n=document.createRange(),i=window.getSelection();n.setStart(e,t),n.collapse(!0),i.removeAllRanges(),i.addRange(n)}function a(e){e.subscribe("focus",(function(e,t){var i=(0,r.$)(t);0===t.childNodes.length&&(i.html("<p></p>"),n(t.childNodes[0],0),t.focus())})),e.subscribe("editableInput",(function(e,t){var i=(0,r.$)(t);i.hasClass("bm-mobile-area")&&i.next().trigger("change");var a=t.childNodes;if(a.length>0){var o=a[a.length-1];"<p><br></p>"===o.outerHTML&&(n(o,0),t.focus())}i.find("font").removeAttr("color")})),e.subscribe("editablePaste",(function(e,t){var n=(0,r.$)(t).closest(".reply");if(n.find("form > .message").hasClass("file-uploader-enabled")){var i=(0,K.qo)(event.clipboardData.items),a=[];if(i.forEach((function(e){if("file"===e.kind){var t=e.getAsFile();t&&a.push({name:e.name,type:e.type,data:t})}})),a.length>0){var o=n.find('input[name="thread_id"]').val();n.find(".upload-btn").click();var s=(0,r.$)("body > .uppy.uppy-thread-"+o);s.length>0&&(s=s[0].uppy,a.forEach((function(e){var t={source:s.id,type:e.type,data:e.data};void 0!==e.name&&"undefined"!==e.name?t.name=e.name:t.name="",s.addFile(t).catch((function(){}))})))}}}))}r.tq||(0,r.$)("body").hasClass("bp-messages-mobile")?((0,r.$)(".bp-messages-wrap.mobile-ready .reply .message textarea").each((function(){var e=(0,r.$)(this),n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);e.attr("data-placeholder",e.attr("placeholder")),n.placeholder=!0,setTimeout((function(){var t=new BPBM_MediumEditor(e,n);(0,r.$)(t.elements[0]).addClass("bm-mobile-area"),a(t)}),333)})),(0,K.Q2)()):(0,r.$)(".bp-messages-wrap .reply .message textarea, .bp-messages-wrap .new-message #message-input, .bp-messages-wrap .bulk-message #message-input").each((function(){var t=(0,r.$)(this);if(!t.hasClass("bp-emoji-area-launched")){t.addClass("bp-emoji-area-launched");var n=t.BPemojioneArea({tones:!0,tonesStyle:"bullet",saveEmojisAs:"unicode",autocomplete:!1,stayFocused:!1,attributes:{dir:e}});if(void 0!==n[0]){n.closest("form").addClass("bp-emoji-enabled");try{n[0].BPemojioneArea.on("onLoad",(function(){s(n)}))}catch(e){}setTimeout(s,333)}}}));var o=!1;function s(e){if(!0===o)return!1;e.next(".bp-emojionearea").length>0?(o=!0,(0,K.Q2)(),a(new BPBM_MediumEditor(document.querySelectorAll(".bp-emojionearea-editor"),t)),(0,r.$)(e).html("<p></p>")):setTimeout(s,333)}if("function"==typeof r.$.fn.BPBMoverlayScrollbars&&((0,r.$)(document).on("bp-better-messages-init-scrollers",(function(){(0,r.$)(".bpbm-users-avatars-list").BPBMoverlayScrollbars({sizeAutoCapable:!0,overflowBehavior:{x:"scroll",y:"hidden"},scrollbars:{clickScrolling:!0,autoHide:"leave"}}),(0,r.$)(".bp-messages-wrap div.new-message").BPBMoverlayScrollbars({sizeAutoCapable:!0,overflowBehavior:{x:"hidden"}}),(0,r.$)(".bpbm-stickers-selector .bpbm-stickers-head .bpbm-stickers-tabs").BPBMoverlayScrollbars({sizeAutoCapable:!1,overflowBehavior:{y:"hidden"}}),(0,r.$)(".scroller.thread").BPBMoverlayScrollbars({sizeAutoCapable:!1,autoUpdate:!0,overflowBehavior:{x:"hidden"},callbacks:{onInitialized:function(){var e=this,t=this.getElements(),n=this.scroll(),i=(0,r.$)(this.getElements().host),a=n.max.y,o=!1;if((0,K.ak)("message_id").length>0){var s=(0,K.ak)("message_id"),l=(0,r.$)(t.content).find(".messages-list li[data-id='"+s+"']");l.length>0&&(o=l)}setTimeout((function(){var t=(0,r.$)('<span class="bpbm-scroll-down"><i class="fas fa-chevron-down"></i></span>').prependTo(i);t.on("click touchstartPassive",(function(n){e.scrollStop(),e.scroll({y:"100%"}),t.removeClass("bpbm-shown"),t.addClass("bmbm-blocked"),setTimeout((function(){t.removeClass("bmbm-blocked")}),1e3)}))}),1e3),!1!==o?((0,r.$)(e.getElements().host).addClass("user-scrolled"),e.scroll({el:o,scroll:"ifneeded",margin:20})):(0,r.$)(t.host).is(":visible")&&0===a?(0,X.hG)(this,!0):(e.scrollStop(),e.scroll({y:"100%"}))},onScroll:function(e){var t=this.scroll(),n=t.position.y,i=t.max.y,a=(0,r.$)(this.getElements().host),o=a.find(".bpbm-scroll-down:not(.bmbm-blocked)");i-n>2*a.height()?o.addClass("bpbm-shown"):o.removeClass("bpbm-shown"),0===i?((0,X.hG)(this,!0),a.addClass("user-scrolled")):0===n?((0,X.hG)(this),a.addClass("user-scrolled")):n>=i&&setTimeout((function(){n=t.position.y,i=t.max.y,n>=i&&a.removeClass("user-scrolled")}),300)},onContentSizeChanged:function(e){var t=this.getElements(),n=this.scroll(),i=n.max.y,a=n.position.y,o=(0,r.$)(t.host),s=(0,r.$)(t.content).find(".list .messages-stack:last .content .messages-list li:last").outerHeight();s<100&&(s=100);var l=this;(!o.hasClass("user-scrolled")||i-a<s+50)&&(r.Rl.isTapped||(l.scrollStop(),l.scroll({y:"100%"},100,void 0,(function(){})))),setTimeout((function(){o.hasClass("user-scrolled")||r.Rl.isTapped||(l.scrollStop(),l.scroll({y:"100%"},100,void 0,(function(){})))}),100)},onHostSizeChanged:function(){var e=this,t=this.scroll(),n=t.position.y,i=t.max.y;(0,r.$)(e.getElements().host).hasClass("user-scrolled")||(0,r.$)("body").hasClass("bpbm-os-dragging")?n>=i&&setTimeout((function(){n=t.position.y,i=t.max.y,n>=i&&(0,r.$)(e.getElements().host).removeClass("user-scrolled")}),300):(this.scrollStop(),this.scroll({y:"100%"},0))}}}),(0,r.$)(".scroller.threads-list-wrapper").BPBMoverlayScrollbars({sizeAutoCapable:!1,overflowBehavior:{x:"hidden"},callbacks:{onInitialized:function(){},onScroll:function(e){var t=this.getElements(),n=this.scroll(),i=n.position.y,a=n.max.y,o=(0,r.$)(t.host);a-i<=100&&(0,X.EI)(o)},onContentSizeChanged:function(e){}}}),(0,r.$)(".bp-better-messages-list .tabs-content .scroller,.scroller.search, .scroller.starred").BPBMoverlayScrollbars({sizeAutoCapable:!1,overflowBehavior:{x:"hidden"}})})),document.dispatchEvent(new CustomEvent("bp-better-messages-init-scrollers"))),(0,r.$)(".scrollbar-inner").on("touchstartPassive click mousewheelPassive DOMMouseScroll",(function(e){0===(0,r.$)(e.target).closest(".bpbm-reply").length&&(0,r.$)(this).addClass("user-scrolled")})),(0,K.No)(),(0,K.Q2)(),(0,r.$)(window).on("resize",(function(){(0,K.Q2)()})),(0,r.$)(".bp-messages-wrap #send-to:not(.ready)").length>0){var l=new Map,c={valueField:"value",labelField:"label",searchField:"label",delimiter:",",create:!0,loadThrottle:300,closeAfterSelect:!0,openOnFocus:!1,plugins:["remove_button"],render:{option:function(e,t){var n="";try{return void 0!==(e=JSON.parse(e.label)).img&&(n+='<span class="bpbm-avatar"><img src="'+t(e.img)+'" class="avatar photo" width="50" height="50"></span>'),"<div>"+n+'<span class="bpbm-name">'+t(e.label)+"</span></div>"}catch(e){}return void 0!==e.img&&(n+='<span class="bpbm-avatar">'+e.img+"</span>"),void 0!==e.label?"<div>"+n+'<span class="bpbm-name">'+t(e.label)+"</span></div>":"<div></div>"},option_create:function(e,t){return'<div class="create"><strong>'+t(e.input)+"</strong></div>"},item:function(e,t){var n="";if(l.has(e.value)){var i=l.get(e.value);return void 0!==i.img&&(n+='<span class="bpbm-avatar"><img src="'+t(i.img)+'" class="avatar photo" width="50" height="50"></span>'),'<div><span class="bpbm-avatar">'+n+'</span><span class="bpbm-name">'+t(i.label)+"</span></div>"}return void 0!==e.label?(void 0!==e.img&&(n+='<span class="bpbm-avatar">'+e.img+"</span>"),"<div>"+n+'<span class="bpbm-name">'+t(e.label)+"</span></div>"):'<div><span class="bpbm-name">'+t(e.value)+"</span></div>"}},formatValueToKey:function(e){try{var t=JSON.parse(e);return l.set(t.value,t),t.value}catch(e){}return e},onChange:function(e){(0,r.$)('input[name="recipients[]"]').remove();var t=e.split(",");r.$.each(t,(function(){(0,r.$)('<input type="hidden" name="recipients[]" value="'+this+'">').insertAfter((0,r.$)("#send-to"))}))}};"0"===r.x6.disableUsersSearch&&((0,r.$)(".bpbm-users-avatars-list .bpbm-users-avatars-list-item").click((function(e){e.preventDefault();var t=(0,r.$)(this),n=t.find(".bpbm-users-avatars-list-item-name").text(),i=t.find(".bpbm-users-avatars-list-item-avatar img").attr("src"),a=t.attr("data-nicename");(0,r.$)("#send-to")[0].bmselectize.createItem(JSON.stringify({value:a,img:i,label:n}))})),c.load=function(e,t){if(!e.length)return t();r.$.ajax({url:r.x6.ajaxUrl+"?q="+encodeURIComponent(e)+"&limit=10&action=bp_messages_autocomplete&cookie="+(0,K.ML)(),type:"GET",error:function(){t()},success:function(e){t(e)}})});var u=(0,r.$)("#send-to").bmselectize(c),d=(0,r.$)('input[name="to"]');d.length>0&&(0,r.$)(d).each((function(){var e=(0,r.$)(this).data("img"),t=(0,r.$)(this).data("label");u[0].bmselectize.createItem(JSON.stringify({value:(0,r.$)(this).val(),img:e,label:t})),(0,r.$)(this).remove()}))}void 0!==r.Rl.bpMessagesWrap&&r.Rl.bpMessagesWrap.find(".bp-messages-mobile-tap").css("line-height",r.Rl.bpMessagesWrap.height()+"px"),(0,r.$)(".bp-messages-side-threads .threads-list .thread.bp-messages-active-thread").removeClass("bp-messages-active-thread"),r.Rl.thread&&(0,r.$)('.bp-messages-side-threads .threads-list .thread[data-id="'+r.Rl.thread+'"]').addClass("bp-messages-active-thread");var p={},f={},h={show:function(e){e.$trigger.closest("li").addClass("selected")},hide:function(e){e.$trigger.closest("li").removeClass("selected")}};p.copy={name:r.x6.strings.copy_text,icon:"fas fa-copy",callback:function(e,t){var n=t.$trigger,i=n.find(".bpbm-replied-message-reply");i.length>0?(0,K.vQ)(i.text()):(0,K.vQ)(n.text())}},f.copy={name:r.x6.strings.copy_text,icon:"fas fa-copy",callback:function(e,t){var n=t.$trigger,i=n.find(".bpbm-replied-message-reply");i.length>0?(0,K.vQ)(i.text()):(0,K.vQ)(n.text())}},"1"===r.x6.allowEditMessages&&(p.edit={name:r.x6.strings.edit,icon:"fas fa-pen",callback:function(e,t){var n=t.$trigger,i=r.x6.userNonce,a=n.closest("li"),o=a.closest(".messages-stack").closest(".bp-messages-threads-wrapper"),s=a.attr("data-id"),l="",c="",u=a.find(".bpbm-replied-message-reply");u.length>0?l+=u.text():l+=a.find(".message-content").text();var d=a.find(".message-content > [data-desc]");d.length>0&&d.each((function(){var e=(0,r.$)(this).attr("data-desc");void 0!==e&&(c+='<span class="bpbm-preview-desc">'+atob(e)+"</span>")}));var p='<div class="bpbm-preview-message bpbm-edit-message" style="display:none" data-message-id="'+s+'"><div class="bpbm-preview-message-cancel"><i class="far fa-times-circle"></i></div><div class="bpbm-preview-message-content"><span class="bpbm-preview-message-name">'+r.x6.strings.edit_message+'</span><div class="bpbm-preview-message-text"></div></div></div>',f=o.find(".bpbm-preview-message");f.length>0?(f=f.replaceWith(p),(f=o.find(".bpbm-preview-message")).show(),(0,te.zo)()):(f=(0,r.$)(p).insertBefore(o.find(".reply"))).slideDown(100,(function(){(0,te.zo)()})),f.find(".bpbm-preview-message-text").text(l),f.find(".bpbm-preview-message-text").append(c),f.find(".bpbm-gifs-icon").html(r.ci.gif),r.$.post(r.x6.ajaxUrl,{action:"bp_messages_get_edit_message",message_id:s,_wpnonce:i},(function(e){if(void 0!==e.errors)(0,Z.x)(e.errors[0]),f.find(".bpbm-preview-message-cancel").click();else{var t=o.find(".bp-emojionearea-editor");if(t.length>0)t.html(ie.toImage(e));else{var n=o.find(".reply .message .bm-mobile-area");n.html(ie.toImage(e)),n.removeClass("bpbm-medium-editor-placeholder"),o.find(".reply .message textarea").trigger("change")}}}))},visible:function(e,t){return t.$trigger.closest(".bp-messages-threads-wrapper").find(".reply").length>0}});var m={name:r.x6.strings.delete,icon:"fas fa-trash",callback:function(e,t){var n=t.$trigger,i=r.x6.userNonce,a=r.x6.strings.confirm_delete,o=n.closest("li");if(confirm(a)){var s=[o.attr("data-id")],l=o.attr("data-thread");r.$.post(r.x6.ajaxUrl,{action:"bp_messages_delete_message",thread_id:l,messages_ids:s,_wpnonce:i},(function(e){e.result?((0,Z.s)(e.message),(0,X.$Z)(s)):(0,Z.x)(e.errors[0])}))}},visible:function(e,t){return t.$trigger.closest(".bp-messages-threads-wrapper").find(".reply").length>0&&(!("1"!==r.x6.allowDeleteMessages||!t.$trigger.closest(".messages-stack").hasClass("outgoing"))||!!t.$trigger.closest(".list").hasClass("can-moderate"))}};if("1"===r.x6.enableReplies&&(f.reply={name:r.x6.strings.reply,icon:"fas fa-reply",callback:function(e,t){t.$trigger.closest("li").find(".bpbm-reply").click()},visible:function(e,t){return t.$trigger.closest(".bp-messages-threads-wrapper").find(".reply").length>0}}),p.delete=m,f.delete=m,"0"!==r.x6.user_id){r.$.BPBMcontextMenu({selector:r.Ao,events:h,items:p,autoHide:!1,zIndex:10,position:function(e,t,n){var i=window.innerWidth-e.$menu.width()-100;t>i&&(t=i),e.$menu.css({left:t,top:n})}}),r.$.BPBMcontextMenu({selector:r.gr,events:h,items:f,autoHide:!1,zIndex:10,position:function(e,t,n){var i=window.innerWidth-e.$menu.width()-100;t>i&&(t=i),e.$menu.css({left:t,top:n})}});var g={};g.open={name:r.x6.strings.open,icon:"fas fa-external-link-square-alt",callback:function(e,t){t.$trigger.closest(".thread").click()}},g.delete={name:r.x6.strings.delete,icon:"fas fa-trash",callback:function(e,t){t.$trigger.closest(".thread").find("span.delete").click()},visible:function(e,t){return t.$trigger.closest(".thread").find("span.delete").length>0}},r.$.BPBMcontextMenu({selector:r.St,events:h,items:g,autoHide:!1,zIndex:10,position:function(e,t,n){var i=window.innerWidth-e.$menu.width()-100;t>i&&(t=i),e.$menu.css({left:t,top:n})}}),(0,Q.KC)()}(0,K.CL)(r.Rl.bpMessagesWrap),(0,r.$)(".bpbm-gifs-icon").html(r.ci.gif),(0,K.ei)(),G(),r.tq&&void 0!==r.Rl.bpMessagesWrap&&r.Rl.bpMessagesWrap.find(".bpbm-chat-content").css("max-height","calc( 100% - "+r.Rl.bpMessagesWrap.find(".chat-header").outerHeight()+"px )"),J(),document.dispatchEvent(new r.D0("bp-better-messages-reinit-end")),r.Rl.reIniting=!1}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".bp-messages-wrap:not(.bp-better-messages-mini,.bp-better-messages-list,.bp-better-messages-secondary)";if("string"==typeof r.x6.fast&&e.fast&&"1"!==r.x6.fast)return!1;var n=!1,i=!1;if(""==e.message.trim())return!1;var a,o="1"==e.edit;if("1"==r.x6.realtime&&e.fast){var s=(0,r.$)(t+' .messages-list li[data-temp-id="'+e.id+'"]');if(s.length>0)return!1}a="string"!=typeof e.avatar||"1"!==r.x6.showAvatars?"":'<div class="pic">'+e.avatar.replace("loading='lazy'","").replace('loading="lazy"',"")+"</div>","1"!=r.x6.realtime||e.fast||(o?(n=!0,e.temp_id=e.id):e.temp_id&&(n=!0));var l=moment(C).format("YYYY-MM-DD HH:mm:ss").toString(),c=(0,r.$)(t+" .messages-stack:last-child"),u=c.closest(".bp-messages-wrap");0===u.length&&(u=(0,r.$)(t));var d="standard";u.hasClass("bpbm-template-modern")&&(d="modern"),0===c.length&&(0,r.$)(t+" .empty-thread").length>0&&(i=!0);var p=(0,r.$)(t+' .messages-list li[data-id="'+e.id+'"]'),f="",h=(0,r.$)("body").hasClass("bp-messages-mobile")&&parseInt(e.thread_id)===parseInt(r.Rl.thread);h||r.Eq.now("active")||"1"!=r.x6.realtime||e.user_id===r.x6.user_id||(f+=" unread"),e.user_id==r.x6.user_id&&(f+=" my"),e.fast&&(f+=" fast"),e.user_id==r.x6.user_id&&"1"==r.x6.realtime&&(f+=" sent"),f=f.trim();var m=(0,r.$)(t+' .messages-list li[data-id="'+e.temp_id+'"]');o&&m.length>0&&(f=m.attr("class"));var g="";n&&(g=' data-temp-id="'+e.temp_id+'"');var v='<li class="'+f+'" data-thread="'+e.thread_id+'" title="'+l+'" data-time="'+e.timestamp+'" data-id="'+e.id+'" '+g+">",b="",_="",y="",w="message-content";if("1"===r.x6.enableReplies&&(e.user_id!=r.x6.user_id&&(_='<span class="bpbm-reply" title="'+r.x6.strings.reply+'"><i class="fas fa-reply"></i></span>'),w+=" reply-enabled"),"1"===r.x6.messagesStatus&&e.user_id==r.x6.user_id&&(b+='<span class="status" title="'+r.x6.strings.sent+'"></span>'),"1"!==r.x6.disableFavoriteMessages&&(y+='<span class="favorite"><i class="fas" aria-hidden="true"></i></span>'),"standard"===d&&(v+=b,v+=y,v+=_),v+='<span class="'+w+'">',"modern"===d&&(v+=_,v+=b,v+=y),v+=e.message,v+="</span></li>",n&&m.length>0)return e.message!==m.find(".message-content").html()?(m.replaceWith(v),(0,r.$)('.bp-messages-wrap .list .messages-stack .content .messages-list li[data-id="'+e.id+'"]').each((function(){(0,te.mU)(this),G((0,r.$)(this))}))):(m.attr("data-id",e.id),m.removeClass("fast"),(0,te.mU)(m)),(0,Q.KC)(),(0,K.ei)(),!0;if(0===p.length&&(c.length>0||i)){1==i&&(0,r.$)(t+" .empty-thread").remove();var x=!0,k=new Date(1e3*c.find(".messages-list > li:last-child").attr("data-time")),$=k.getFullYear()+"-"+k.getMonth()+"-"+k.getDate()+"-"+k.getHours()+"-"+k.getMinutes(),C=new Date(1e3*e.timestamp),T=C.getFullYear()+"-"+C.getMonth()+"-"+C.getDate()+"-"+C.getHours()+"-"+C.getMinutes();if(c.attr("data-user-id")===e.user_id&&(x=!1),$!==T&&(x=!0),!1===x)c.find(".messages-list").append(v);else{var O="messages-stack";e.user_id==r.x6.user_id?O+=" outgoing":O+=" incoming";var S='<a href="'+e.link+'">'+e.name+"</a>";!1===e.link&&(S="<span>"+e.name+"</span>");var A='<div class="'+O+'" data-user-id="'+e.user_id+'">';A+=a,A+='<div class="content"><div class="info"><div class="name">'+S+'</div><div class="time" title="'+l+'" data-livestamp="'+e.timestamp+'"></div></div><ul class="messages-list"></ul></div></div>',(0,r.$)(t+" .list").append(A),(0,r.$)(t+" .messages-stack:last-child .messages-list").append(v)}"function"==typeof r.$.fn.BPBMmagnificPopup&&(0,r.$)(".bp-messages-wrap .list .messages-stack .content .messages-list li .images").BPBMmagnificPopup({delegate:"a",type:"image"}),void 0===r.x6.mutedThreads[e.thread_id]&&r.x6.user_id!=e.user_id&&(void 0!==e.count_unread?"0"!==e.count_unread&&(0,ee.GN)(e.id):(0,ee.GN)(e.id))}var P=(0,r.$)('.bp-messages-wrap .list .messages-stack .content .messages-list li[data-id="'+e.id+'"]');r.tq||P.find(".bpbm-gif").each((function(){var e=(0,r.$)(this);e.find(".bpbm-gif-play").remove(),e.find("video")[0].play()})),(0,r.$)(".bpbm-gifs-icon").html(r.ci.gif),(0,te.mU)(P),(0,K.No)(),(0,K.a_)(),(0,Q.KC)(),(0,K.ei)(),G(P),J(),document.dispatchEvent(new r.D0("bp-better-messages-message-render-end"))}function oe(e,t,n,i){if("1"!==r.x6.disableOnSiteNotification&&void 0===r.Rl.openThreads[e]&&void 0===r.x6.mutedThreads[e]&&!(0,r.$)("body").hasClass("bp-messages-mobile")){if((0,r.$)(r.St+'[data-id="'+e+'"]:visible').length>0)return!1;if("string"==typeof i){var a=i.match(/src\="([^\s]*)"\s/),o=i.match(/src\='([^\s]*)'\s/);null!=a&&(i=a[1]),null!=o&&(i=o[1])}else i=!1;var s=(0,r.$)(".amaran.thread_"+e);if(s.length>0){s.find(".icon > img").attr("src",i);var l="<b>"+n+"</b>";return l+=t,s.find(".info").html(l),!0}if("1"==r.x6.miniMessages&&"messages"===r.Rl.miniMessages);else{var c={user:n,message:t};if(c.img=!1!==i?i:"",r.$.amaran({theme:"user message thread_"+e,content:c,sticky:!0,closeOnClick:!1,closeButton:!0,delay:1e4,thread_id:e,position:"bottom right",onClick:function(){(0,K.E7)(this.thread_id)}}),!1===i){var u=(0,r.$)(".amaran.thread_"+e);u.find(".icon").remove(),u.find(".info").css("paddingLeft",0)}(0,r.$)(".bpbm-gifs-icon").html(r.ci.gif)}void 0!==t.count_unread?"0"!==t.count_unread&&(0,ee.GN)(t.id):(0,ee.GN)(t.id)}}},9729:(e,t,n)=>{"use strict";n.d(t,{$$:()=>k,CL:()=>O,D8:()=>u,Di:()=>l,E7:()=>y,EY:()=>b,HL:()=>_,ML:()=>T,No:()=>$,PE:()=>m,Q2:()=>w,Wj:()=>v,a_:()=>c,ak:()=>x,ei:()=>S,fy:()=>d,q7:()=>p,qo:()=>f,v2:()=>g,vQ:()=>C,xq:()=>A});var i=n(3334),r=n(9805),a=n(4069),o=n(6674),s=n(3936);function l(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function c(){(0,i.$)(".bp-messages-wrap img.avatar[data-user-id]").each((function(){var e=(0,i.$)(this),t=e.attr("data-user-id"),n=e.attr("data-bpbm-status-color"),a=!1;if(e.parent().hasClass("bbpm-avatar")&&(a=e.parent()),!a){var o=e.data("size"),s=e.data("size"),l=e.height(),c=e.height();o<l&&(l=o),s<c&&(c=s);var u=e.css("marginTop"),d=e.css("marginLeft"),p=e.css("marginBottom"),f=e.css("marginRight");(0,i.$)(this).css({marginTop:0,marginLeft:0,marginRight:0,marginBottom:0});var h='<span class="avatar bbpm-avatar" data-user-id="'+t+'"';"0"!==i.x6.userStatus&&void 0!==n&&(h+='style="color:'+n+'"'),h+="></span>",e.wrap(h),(a=e.parent()).css({marginTop:u,marginLeft:d,marginRight:f,marginBottom:p,minWidth:l,minHeight:c})}r.ps.indexOf(t)>-1?(0,i.$)(a).addClass("online"):(0,i.$)(a).removeClass("online")})),u()}function u(){var e=(0,i.$)(".bp-better-messages-list .tabs-content .friends,.bp-better-messages-list .tabs-content .um-friends,.bp-better-messages-list .tabs-content .ps-friends, .bpbm-friends-list, .bpbm-um-friends-list, .bpbm-ps-friends-list");e.length>0&&e.each((function(){var e=(0,i.$)(this).find(".bp-messages-user-list");if(e.length>0){var t=[];e.find(" > .user").each((function(){var n=(0,i.$)(this),a=n.attr("data-id"),o=n.prev().hasClass("online");r.ps.indexOf(a)>-1?(n.addClass("online"),o||n.prependTo(e)):(t.push(n),n.removeClass("online"))})),t.length>0&&i.$.each(t,(function(){var t=(0,i.$)(this);t.next().hasClass("online")&&t.insertAfter(e.find(" > .user.online:last"))}))}}))}function d(e,t){if(void 0===t){var n=(0,i.$)(event.target);t=n.hasClass("bp-messages-wrap")?n:n.closest(".bp-messages-wrap")}if(void 0===window.BMAppDeviceId&&t.hasClass("bp-messages-wrap-main")&&!t.hasClass("bp-messages-group-thread"))try{window.history.pushState("","",e)}catch(e){}p(t);var r=t.height();t.css("min-height",r),(0,i.$)(window).off(".bp-messages");var s="",l=!1;void 0!==i.x6.ajaxUrl.split("?")[1]&&(l=!0),s+=l?"&":"?",void 0!==e.split("?")[1]?s+=e.split("?")[1]+"&action=bp_messages_load_via_ajax":s+="action=bp_messages_load_via_ajax";var c=t.find(".bp-messages-side-threads"),u=i.x6.ajaxUrl+s;c.length>0&&(u+="&ignore_threads"),(0,i.$)(".bpbm-notice").remove(),document.dispatchEvent(new CustomEvent("bp-better-messages-ajax-refresh-start")),i.$.ajax({method:"GET",url:u,dataType:"json",cache:!1,success:function(e){void 0!==e.total_unread&&m(e.total_unread),void 0!==e.errors&&i.$.each(e.errors,(function(){(0,a.x)(this)}));var n=e.html,r=(0,i.$)(n),s=r.find(".bp-messages-side-threads");c.length>0&&s.length>0?(t.find(".bp-messages-threads-wrapper .bp-messages-column").html(r.find(".bp-messages-threads-wrapper .bp-messages-column").html()),t.find(".bp-messages-threads-wrapper").closest(".bp-messages-wrap").find(".chat-header:not(.side-header)").html(r.find(".bp-messages-threads-wrapper").closest(".bp-messages-wrap").find(".chat-header:not(.side-header)").html())):t.html((0,i.$)(r).html()),t.hasClass("bp-messages-wrap-main")&&(r.attr("data-thread-id")?t.attr("data-thread-id",r.attr("data-thread-id")):t.removeAttr("data-thread-id"),void 0!==e.errors&&(0,i.$)(e.errors.join("")).insertBefore(t)),t.is("#bp-better-messages-mini-mobile-container")&&t.attr("data-thread",r.attr("data-thread-id")),t.hasClass("bp-messages-wrap-chat")&&t.find(".chat-header .back").remove(),(0,o.hM)(),t.removeClass("bpbm-call-view"),t.css("min-height",""),document.dispatchEvent(new CustomEvent("bp-better-messages-ajax-refresh-end"))}})}function p(e){var t=e.find(".chat-header").height(),n=e.find(".preloader");n.show(),n.parent().hasClass("bp-messages-column")||(n.css("top",t),n.css("height","calc(100% - "+t+"px)"))}function f(e,t){for(var n=[],i=(t=t||0)||0;i<e.length;i++)n[i-t]=e[i];return n}(0,i.$)(window).on("beforeunload",(function(){false}));var h=document.title;function m(e){var t=parseInt(e);isNaN(t)&&(t=0),document.dispatchEvent(new CustomEvent("bp-better-messages-update-unread",{detail:{unread:t}})),i.x6.total_unread=t,0===t&&(0,i.$)(".bp-messages-wrap .threads-list .thread .unread-count").html(""),"1"===i.x6.titleNotifications&&(isNaN(t)||t<=0?document.title=h:document.title="("+e+") "+h)}function g(){if(!i.h.enabled)return!1;i.Rl.openThreads=i.h.get("bp-better-messages-open-threads")||{},!1!==i.Rl.thread&&(i.Rl.openThreads[i.Rl.thread]=Date.now()),i.$.each(i.Rl.openThreads,(function(e){this+2e3<Date.now()&&delete i.Rl.openThreads[e]})),v("bp-better-messages-open-threads",i.Rl.openThreads)}function v(e,t){try{i.h.set(e,t)}catch(e){console.debug("Not possible to write to LocalStorage")}}function b(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}function _(e){}function y(e){if(i.tq){var t=(0,i.$)("#bp-better-messages-mini-mobile-open");if(t.length>0){var n=i.x6.baseUrl;i.x6.baseUrl=i.x6.threadUrl+this.thread_id,t.click(),i.x6.baseUrl=n,(0,i.$)(".amaran.user.message.thread_"+e).remove()}else location.href=i.x6.threadUrl+e}else{var r=i.x6.threadUrl+e+"&scrollToContainer",a=(0,i.$)(".bp-messages-wrap.bp-messages-wrap-main");a.length>0?(d(r,a),(0,i.$)(".amaran.user.message.thread_"+e).remove()):location.href=r}}function w(){i.$.each(i.Rl.bpMessagesWrap,(function(e,t){var n=(0,i.$)(t);if(n.hasClass("bp-messages-wrap-main")){var r=n.find("> .bp-messages-threads-wrapper .bp-messages-side-threads");if(r.length>0){var a=r.closest(".bp-messages-threads-wrapper"),o=2*r.width();o<800&&(o=800),n.width()<o?(a.addClass("threads-hidden"),r.hide()):(a.removeClass("threads-hidden"),r.show())}}if(n.hasClass("bp-messages-mobile")){var s=window.innerHeight,l=0;l+=n.find(".chat-header").outerHeight(),n.find(".chat-footer:visible").length>0&&(l+=n.find(".chat-footer:visible").outerHeight()),n.find(".reply").length>0&&(l+=n.find(".reply").outerHeight()),n.find(".scroller").css({height:s-l})}else!function(){var e=(0,i.$)(window).height()-50,t=(0,i.$)("#wpadminbar");t.length>0&&t.is(":visible")&&(e-=t.height());var n=e,r=i.x6.min_height;e>i.x6.max_height&&(e=i.x6.max_height),i.x6.fixedHeaderHeight>0&&(e-=i.x6.fixedHeaderHeight),(e=parseInt(e))<r&&(e=r),(0,i.$)(".bp-messages-wrap .scroller").each((function(){var t=(0,i.$)(this),r=t.closest(".bp-messages-column"),a=t.closest(".bp-messages-wrap");if(a.hasClass("bp-better-messages-mini")){var o=i.x6.miniChatsHeight,s=a.find(".reply").outerHeight();o>n&&(o=n-s-10),t.css("max-height",o),t.css("height",o)}else if(a.hasClass("bp-better-messages-list")){var l=i.x6.miniWindowsHeight;if(l>n){l=n-10;var c=t.closest(".messages");if(c.length>0){var u=c.find(".chat-header");u.length>0&&(l-=u.outerHeight())}}t.css("max-height",l),t.css("height",l)}else if(r.length>0&&r.parent().find(".bp-messages-side-threads").is(":visible"))(d=t.closest(".bp-messages-threads-wrapper")).css("max-height",e),d.css("height",e);else{var d;(d=t.closest(".bp-messages-threads-wrapper")).css("max-height",e),d.css("height",e)}})),(0,i.$)(".bp-messages-wrap.bp-better-messages-list .scroller").css("max-height",e-50),(0,i.$)(".bp-messages-wrap.bp-better-messages-mini .scroller").css("max-height",e-50)}()}))}function x(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null==t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function k(e){if(void 0===e.html)return!1;if(e.fast||"1"==e.edit)return!1;(0,i.$)(".bp-messages-wrap .threads-list .empty").remove(),(0,i.$)(".bp-messages-wrap .bp-messages-threads-wrapper.no-threads").removeClass("no-threads");var t=e.thread_id,n=e.html;n=n.replace('loading="lazy"',"");var r=(0,i.$)(i.St+"[data-id='"+t+"']");if(r.length>0){var a=e.content_site;r.each((function(){var t=(0,i.$)(this),n=t.find(".info p"),r=t.closest(".threads-list");if(r.removeClass("empty"),n.html(a),void 0!==n.attr("writing-reserved")&&n.attr("writing-reserved",a),t.attr("data-message",e.id),t.prependTo(r),"1"===i.x6.realtime){var o=t.find(".time-wrapper"),s=parseInt(e.timestamp);o.livestamp(new Date(1e3*s))}else"1"!==i.x6.realtime&&void 0!==e.html&&t.replaceWith(e.html)}))}else(0,i.$)(".bp-messages-wrap .threads-list").each((function(){0===(0,i.$)(this).closest(".bpbm-search-results-section").length&&((0,i.$)(this).removeClass("empty"),(0,i.$)(n).prependTo((0,i.$)(this)))}));void 0===i.x6.mutedThreads[t]&&i.x6.user_id!=e.user_id&&(void 0!==e.count_unread?"0"!==e.count_unread&&(0,s.GN)(e.id):(0,s.GN)(e.id)),c()}function $(){"function"==typeof i.$.fn.BPBMmagnificPopup&&(0,i.$)(".bp-messages-wrap .list .messages-stack .content .messages-list li .images").each((function(){var e=(0,i.$)(this),t=e.closest("li");e.BPBMmagnificPopup({delegate:"a",key:t.attr("data-id"),type:"image",gallery:{enabled:!0}})}))}function C(e){var t=(0,i.$)("<input>");(0,i.$)("body").append(t),t.val(e).select(),document.execCommand("copy"),t.remove()}function T(){var e,t,n,r,a,o=document.cookie.split(";"),s={};for(e=0;e<o.length;e++)n=(t=o[e]).indexOf("="),r=i.$.trim(unescape(t.slice(0,n))),a=unescape(t.slice(n+1)),0===r.indexOf("bp-")&&(s[r]=a);return encodeURIComponent(i.$.param(s))}function O(e){if(void 0===e)return!1;e.each((function(){var e=(0,i.$)(this);if(e.is(":visible")){var t=e.find(".chat-header:not(.side-header)"),n=t.find("> strong"),r=t.find("> .user"),a=0;t.find("> a:visible:not(.user),> div:visible").each((function(){a+=(0,i.$)(this).width()}));var o=a+10;n.length>0&&n.css("width","calc(100% - "+o+"px)"),r.length>0&&r.css("max-width","calc(100% - "+o+"px)"),e.find(".chats .chat").each((function(){var e=(0,i.$)(this).find("> .head"),t=e.find("> .title"),n=0;e.find("> div.controls").each((function(){n+=(0,i.$)(this).width()}));var r=n+40;t.length>0&&t.css("max-width","calc(100% - "+r+"px)")}))}else setTimeout((function(){O(e)}),100)}))}function S(){(0,i.$)(".bp-messages-iframe-container").each((function(){(0,i.$)(this).closest(".message-content").addClass("has-iframe")}))}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".bp-messages-wrap:not(.bp-better-messages-mini,.bp-better-messages-list,.bp-better-messages-secondary)";if(0!=(0,i.$)(e+" .list").length){var t=(0,i.$)(e+" .scroller[data-id]"),n=t.data("id");if(void 0!==i.Rl.loadingMore[n])return!1;var r=(0,i.$)(e+" .list"),a=r[0].offsetHeight;if(x("message_id").length>0){var o=x("message_id"),s=(0,i.$)(e+" .messages-list li[data-id='"+o+"']");s.length>0&&(a=s[0].offsetTop-s[0].offsetHeight-100)}var l=r.closest(".scroller");if(0!==l.length){var c=l.hasClass("user-scrolled"),u=l[0].scrollHeight-l.scrollTop()-l.height();if(!(a<l.outerHeight())&&(!c||100>=u)){var d=t.BPBMoverlayScrollbars();void 0!==d&&(d.update(),d.scroll({y:"100%"}))}}}}window.BPBMurlBase64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i},window.BPBMOpenUrlOrNewTab=function(e){2===event.which?(window.open(e,"newWindow"),event.preventDefault()):location.href=e},window.BBPMOpenPrivateThread=function(e){(0,i.$)(document).trigger("bp-better-messages-open-private-thread",[e])}},3334:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,Ao:()=>p,D0:()=>o,Eq:()=>l,Rl:()=>u,St:()=>f,ci:()=>m,gr:()=>d,h:()=>r,tq:()=>h,x6:()=>a});var i=n(9729);window.global=window;var r=n(8971),a=window.BP_Messages,o=Event,s=window.jQuery.noConflict(),l=n(5281);l.setIdleDuration(10),s.event.special.touchstartPassive={setup:function(e,t,n){this.addEventListener("touchstart",n,{passive:!t.includes("noPreventDefault")})}},s.event.special.touchmovePassive={setup:function(e,t,n){this.addEventListener("touchmove",n,{passive:!t.includes("noPreventDefault")})}},s.event.special.wheelPassive={setup:function(e,t,n){this.addEventListener("wheel",n,{passive:!0})}},s.event.special.mousewheelPassive={setup:function(e,t,n){this.addEventListener("mousewheel",n,{passive:!0})}};var c=s;window.BPBMJQ=s,void 0!==a.me&&s.each(a.me,(function(e,t){a.me[e]=(0,i.Di)(t)}));var u={checkerTimer:null,thread:!1,threads:null,openThreads:{},miniChats:{},miniMessages:!1,bpMessagesWrap:null,loadingMore:{},unread:{},reIniting:!1,blockScroll:!1,isRtl:0!==c('html[dir="rtl"]').length,isInCall:!1,blockSelect:!1,loadingHtml:'<div class="loading-messages"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>',badWords:!1,isTapped:!1,mainColor:a.color,blockOpen:!1,touchmoved:!1,miniMobileContainer:c("#bp-better-messages-mini-mobile-container"),mobileViewContainer:"#bp-better-messages-mobile-view-container",mobileOpenButton:c("#bp-better-messages-mini-mobile-open")},d=".bp-messages-wrap .list .messages-stack.incoming .content .messages-list li .message-content",p=".bp-messages-wrap .list .messages-stack.outgoing .content .messages-list li .message-content",f=".bp-messages-wrap .threads-list .thread";if(void 0!==a.badWordList)try{u.badWords=JSON.parse(atob(a.badWordList))}catch(e){}var h=!1;(/iPad|iPhone|iPod/.test(navigator.userAgent)||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(h=!0),"1"===a.forceMobile&&(h=!0),n(8695),n(3130),n(5827),n(6996),n(6706),n(1844);var m={gif:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="5.002 9.969 23.017 13.042">\n<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n<g fill="currentColor">\n<path d="M8.00684834,10 C6.34621185,10 5,11.3422643 5,12.9987856 L5,20.0012144 C5,21.6573979 6.33599155,23 8.00684834,23 L24.9931517,23 C26.6537881,23 28,21.6577357 28,20.0012144 L28,12.9987856 C28,11.3426021 26.6640085,10 24.9931517,10 L8.00684834,10 L8.00684834,10 Z M7.99456145,11 C6.89299558,11 6,11.9001762 6,12.992017 L6,20.007983 C6,21.1081436 6.90234375,22 7.99456145,22 L25.0054385,22 C26.1070044,22 27,21.0998238 27,20.007983 L27,12.992017 C27,11.8918564 26.0976562,11 25.0054385,11 L7.99456145,11 L7.99456145,11 Z M13,17 L13,19 L10.9998075,19 C10.4437166,19 10,18.5523709 10,18.0001925 L10,14.9998075 C10,14.4437166 10.4476291,14 10.9998075,14 L14,14 L14,13 L11.0048815,13 C9.89761602,13 9,13.8865548 9,15.0059191 L9,17.9940809 C9,19.1019194 9.8938998,20 11.0048815,20 L14,20 L14,19.25 L14,19.25 L14,17 L14,16 L11,16 L11,17 L13,17 L13,17 Z M16,14 L16,19 L15,19 L15,20 L18,20 L18,19 L17,19 L17,14 L18,14 L18,13 L15,13 L15,14 L16,14 L16,14 Z M20,16 L20,14 L24,14 L24,13 L19,13 L19,20 L20,20 L20,17 L23,17 L23,16 L20,16 L20,16 Z"/>\n</g>\n</g>\n</svg>'}},6469:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var i=n(3334),r=n(9729);function a(e){var t;"friends"===e&&((t=(0,i.$)(".bp-better-messages-list .tabs-content > .friends")).hasClass("bpbm-loaded")||(t.addClass("bpbm-loaded"),i.$.post(i.x6.ajaxUrl,{action:"bp_messages_load_friends_list",nonce:i.x6.userNonce,mini:!0},(function(e){t.find(".bp-messages-user-list").html(e),(0,r.a_)(),(0,r.D8)()})))),"ps-friends"===e&&((t=(0,i.$)(".bp-better-messages-list .tabs-content > .ps-friends")).hasClass("bpbm-loaded")||(t.addClass("bpbm-loaded"),i.$.post(i.x6.ajaxUrl,{action:"bp_messages_load_ps_friends_list",nonce:i.x6.userNonce,mini:!0},(function(e){t.find(".bp-messages-user-list").html(e),(0,r.a_)(),(0,r.D8)()})))),"um-friends"===e&&((t=(0,i.$)(".bp-better-messages-list .tabs-content > .um-friends")).hasClass("bpbm-loaded")||(t.addClass("bpbm-loaded"),i.$.post(i.x6.ajaxUrl,{action:"bp_messages_load_um_friends_list",nonce:i.x6.userNonce,mini:!0},(function(e){t.find(".bp-messages-user-list").html(e),(0,r.a_)(),(0,r.D8)()})))),"bpbm-groups"===e&&((t=(0,i.$)(".bp-better-messages-list .tabs-content > .bpbm-groups")).hasClass("bpbm-loaded")||(t.addClass("bpbm-loaded"),i.$.post(i.x6.ajaxUrl,{action:"bp_messages_load_groups_list",nonce:i.x6.userNonce,mini:!0},(function(e){t.find(".bp-messages-group-list").html(e)})))),"ps-groups"===e&&((t=(0,i.$)(".bp-better-messages-list .tabs-content > .ps-groups")).hasClass("bpbm-loaded")||(t.addClass("bpbm-loaded"),i.$.post(i.x6.ajaxUrl,{action:"bp_messages_load_ps_groups_list",nonce:i.x6.userNonce,mini:!0},(function(e){t.find(".bp-messages-group-list").html(e)})))),"bmum-groups"===e&&((t=(0,i.$)(".bp-better-messages-list .tabs-content > .bmum-groups")).hasClass("bpbm-loaded")||(t.addClass("bpbm-loaded"),i.$.post(i.x6.ajaxUrl,{action:"bp_messages_load_um_groups_list",nonce:i.x6.userNonce,mini:!0},(function(e){t.find(".bp-messages-group-list").html(e)}))))}},1155:(e,t,n)=>{"use strict";n.d(t,{KC:()=>s,Ld:()=>d,Q4:()=>c});var i=n(3334),r=n(9729),a=n(6674),o=n(4069);function s(){i.tq&&((0,i.$)(i.gr).BPBMswipe("destroy"),(0,i.$)(i.gr).BPBMswipe({longTap:function(e,t){(0,i.$)(this).contextMenu({x:e.changedTouches[0].screenX,y:e.changedTouches[0].screenY})}}),(0,i.$)(i.Ao).BPBMswipe("destroy"),(0,i.$)(i.Ao).BPBMswipe({longTap:function(e,t){(0,i.$)(this).contextMenu({x:e.changedTouches[0].screenX,y:e.changedTouches[0].screenY})}}),(0,i.$)(i.St).BPBMswipe("destroy"),(0,i.$)(i.St).BPBMswipe({longTap:function(e,t){(0,i.$)(this).contextMenu({x:e.changedTouches[0].screenX,y:e.changedTouches[0].screenY})}}))}var l="bp-better-messages-mobile-holder";function c(e){if(0===e.length)return!1;0===(0,i.$)("."+l).length&&(0,i.$)('<div class="'+l+'"></div>').insertBefore(e);var t=e;t.addClass("bp-messages-mobile"),t.attr("id","bp-better-messages-mobile-view-container");var n=window.innerHeight;(0,i.$)("html").addClass("bp-messages-mobile").css("overflow","hidden"),(0,i.$)("body").addClass("bp-messages-mobile").css("min-height",n);var a=t.appendTo((0,i.$)("body"));a.show();var o=0,s=a.find(".chat-header").outerHeight();o+=s,a.find(".chat-footer:visible").length>0&&(o+=a.find(".chat-footer:visible").outerHeight()),a.find(".reply").length>0&&(o+=a.find(".reply").outerHeight()),i.Rl.bpMessagesWrap.find(".bpbm-chat-content").css("max-height","calc( 100% - "+s+"px )");var c=n-o;a.find(".scroller").css({"max-height":"",height:c}),(0,r.CL)(a),(0,r.xq)(),u(),document.dispatchEvent(new CustomEvent("bp-better-messages-mobile-open")),i.Rl.blockScroll=!0}function u(){if("1"!==i.x6.hPBE)return!1;(0,i.$)("*:not(.bp-messages-hide-on-full-screen)").filter((function(){return("fixed"===(0,i.$)(this).css("position")||"absolute"===(0,i.$)(this).css("position"))&&!(0,i.$)(this).hasClass("bp-messages-wrap")&&0===(0,i.$)(this).closest(".uppy").length&&0===(0,i.$)(this).closest(".bp-messages-wrap").length})).addClass("bp-messages-hide-on-full-screen")}function d(e){var t=(0,i.$)("#bp-better-messages-mini-mobile-container");t.addClass("bp-messages-mobile"),t.find(".bp-messages-mobile-tap").remove();var n=window.innerHeight;(0,i.$)("html").addClass("bp-messages-mobile").css("overflow","hidden"),(0,i.$)("body").addClass("bp-messages-mobile").css("min-height",n),t.addClass("bp-messages-mobile").css("min-height",n);var s=0,l=t.find(".chat-header").outerHeight();s+=l;var c=n-(s+=t.find(".reply").outerHeight());(0,i.$)(".scroller").css({"max-height":"",height:c}),i.Rl.bpMessagesWrap.find(".bpbm-chat-content").css("max-height","calc( 100% - "+l+"px )"),u(),t.show().html('<div class="loading-messages" style="display: block;line-height: '+c+'px">\n<div class="bounce1"></div>\n<div class="bounce2"></div>\n<div class="bounce3"></div>\n</div>');var d="?action=bp_messages_load_via_ajax&mobileFullScreen=1";void 0!==e.split("?")[1]&&(d="?"+e.split("?")[1]+"&action=bp_messages_load_via_ajax&mobileFullScreen=1");var p=i.x6.ajaxUrl+d;i.$.get(p,(function(e){void 0!==e.total_unread&&(0,r.PE)(e.total_unread),void 0!==e.errors&&i.$.each(e.errors,(function(){(0,o.x)(this)}));var n=e.html,s=(0,i.$)(n).filter(".bp-messages-wrap").html();t.html(s).show(),i.Rl.blockScroll=!0,(0,a.hM)(),(0,i.$)("#bp-better-messages-mini-mobile-open").removeClass("loading")}),"json")}(0,i.$)(document).on("click",".bp-messages-wrap .mobileClose",(function(e){var t=(0,i.$)(e.target).closest(".bp-messages-wrap");if(t.hasClass("bp-messages-mobile")){if(e.preventDefault(),e.stopImmediatePropagation(),i.Rl.blockOpen=!0,(0,i.$)("html").removeClass("bp-messages-mobile").css("overflow","auto"),t.removeClass("bp-messages-mobile").css("min-height",""),(0,i.$)("body").removeClass("bp-messages-mobile").css("min-height",""),i.Rl.blockScroll=!1,t.find(".bp-messages-mobile-tap").css("line-height",t.height()+"px"),t.is(i.Rl.miniMobileContainer)&&i.Rl.miniMobileContainer.hide(),t.is(i.Rl.mobileViewContainer)){var n=t;n.removeClass("bp-messages-mobile"),n.removeAttr("id");var r=(0,i.$)("."+l);n.insertBefore(r),r.remove()}(0,i.$)(window).trigger("resize"),setTimeout((function(){i.Rl.blockOpen=!1}),100)}}))},3050:(e,t,n)=>{"use strict";n.d(t,{TK:()=>u,mU:()=>p,zo:()=>f});var i=n(1002),r=(n(7757),n(3334)),a=n(9729),o=n(6674),s=n(4069);n(9805),n(2819),n(3936),n(7294).Component,n(1592),window.joypixels;var l,c=[];function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=new r.$.Deferred;if("1"!=r.x6.miniChats||c.indexOf(e)>-1)l.reject(!1);else{var u=(0,r.$)('.bp-messages-wrap.bp-better-messages-mini .chats .chat[data-thread="'+e+'"]');if(u.length>0&&!n){if(!r.Rl.reIniting){var p=u.find(".head");u.addClass("open"),u.removeClass("blink");var f=0,h=setInterval((function(){p.toggleClass("blink"),++f>=6&&clearInterval(h)}),500)}l.reject(!1)}else{c.push(e);var m="?action=bp_messages_load_via_ajax&thread_id="+e+"&mini=1",g=r.x6.ajaxUrl+m;r.$.ajax({method:"GET",url:g,dataType:"json",cache:!1,success:function(n){void 0!==n.total_unread&&(0,a.PE)(n.total_unread),void 0!==n.errors&&r.$.each(n.errors,(function(){(0,s.x)(this)}));var i=n.html,u=(0,r.$)(i),p=u.find(".chat-header"),f="",h=p.find(".expandingButtons");h.length>0&&(f+=h[0].outerHTML.replace("fa-ellipsis-v","fa-ellipsis-h"),h.remove());var m=p.find(".group-call");m.length>0&&m.remove();var g=p.find(".group-audio-call");g.length>0&&g.remove();var v=p.find(".video-call");v.length>0&&(f+='<span class="video-call" data-user-id="'+v.data("user-id")+'" title="'+r.x6.strings.video_call+'"><i class="fas fa-video"></i></span>',v.remove());var b=p.find(".audio-call");b.length>0&&(f+='<span class="audio-call" data-user-id="'+b.data("user-id")+'" title="'+r.x6.strings.audio_call+'"><i class="fas fa-phone"></i></span>',b.remove()),p=p.html().trim(),u.find(".chat-header").remove();var _="chat",y="visibility: hidden";1==t&&(_+=" open",y=""),"1"===r.x6.disableEnterForDesktop&&(_+=" enter-disabled");var w='<div class="'+_+'" data-thread="'+e+'" style="'+y+'">';w+='<div class="head"><span class="unread-count count-0"></span><span class="title">'+p+"</span>",w+='<div class="controls">\n'+f+'<span class="open" title="'+r.x6.strings.maximize+'"><i class="fas fa-window-maximize" aria-hidden="true"></i></span>\n<span class="close" title="'+r.x6.strings.close+'"><i class="fas fa-times" aria-hidden="true"></i></span>\n</div></div>',w+=u.html(),w+="</div>";var x=(0,r.$)('.bp-better-messages-mini .chats .chat[data-thread="'+e+'"]');x.length>0?x.replaceWith(w):(0,r.$)(w).appendTo(".bp-messages-wrap.bp-better-messages-mini .chats"),r.Rl.miniChats[e]=t,(0,a.Wj)("bp-better-messages-mini-chats",r.Rl.miniChats),delete c[c.indexOf(e)],(0,o.hM)(),1==t&&(0,a.HL)(e),d(),l.resolve(!0)},statusCode:{403:function(t){"object"===(0,i.Z)(t.responseJSON)&&r.$.each(t.responseJSON,(function(){(0,s.x)(this)})),delete c[c.indexOf(e)],delete r.Rl.miniChats[e],(0,a.Wj)("bp-better-messages-mini-chats",r.Rl.miniChats),l.resolve(!0)}}})}}return l.promise()}function d(){clearTimeout(l),l=window.setTimeout((function(){(0,r.$)(".bp-messages-wrap.bp-better-messages-mini .chats .chat").each((function(){var e=(0,r.$)(this).data("thread");parseInt((0,r.$)(".bp-messages-wrap.bp-better-messages-mini").outerHeight())-parseInt((0,r.$)(this).position().top+(0,r.$)(this).outerHeight())>1&&((0,r.$)(this).remove(),void 0!==r.Rl.miniChats[e]&&delete r.Rl.miniChats[e],(0,a.Wj)("bp-better-messages-mini-chats",r.Rl.miniChats))})),(0,r.$)(".bp-messages-wrap.bp-better-messages-mini .chats .chat").css("visibility","visible")}),100)}function p(e){}function f(){(0,r.$)("span.writing").each((function(){var e=(0,r.$)(this),t=e.closest(".bp-messages-threads-wrapper"),n=t.find(".reply").outerHeight(),i=t.find(".bpbm-preview-message").outerHeight();void 0!==i&&(n+=i),e.css("bottom",n)}))}(0,r.$)(window).resize(d)},9805:(e,t,n)=>{"use strict";n.d(t,{CH:()=>Le,ps:()=>De,Wb:()=>{}}),n(7757),n(3334);var i=n(1002);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"===(0,i.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}function m(e,t,n){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}},m(e,t,n||e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var v=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,b=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],_=function(e){var t,n,i=e,r=e.indexOf("["),a=e.indexOf("]");-1!=r&&-1!=a&&(e=e.substring(0,r)+e.substring(r,a).replace(/:/g,";")+e.substring(a,e.length));for(var o,s,l=v.exec(e||""),c={},u=14;u--;)c[b[u]]=l[u]||"";return-1!=r&&-1!=a&&(c.source=i,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=(t=c.path,n=t.replace(/\/{2,9}/g,"/").split("/"),"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1),"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1),n),c.queryKey=(o=c.query,s={},o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(s[t]=n)})),s),c},y={exports:{}};try{y.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){y.exports=!1}var w=y.exports,x="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function k(e){var t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||w))return new XMLHttpRequest}catch(e){}if(!t)try{return new(x[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function $(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var C=setTimeout,T=clearTimeout;function O(e,t){t.useNativeTimers?(e.setTimeoutFn=C.bind(x),e.clearTimeoutFn=T.bind(x)):(e.setTimeoutFn=setTimeout.bind(x),e.clearTimeoutFn=clearTimeout.bind(x))}var S=A;function A(e){if(e)return function(e){for(var t in A.prototype)e[t]=A.prototype[t];return e}(e)}A.prototype.on=A.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},A.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},A.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},A.prototype.emitReserved=A.prototype.emit,A.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},A.prototype.hasListeners=function(e){return!!this.listeners(e).length};var P=Object.create(null);P.open="0",P.close="1",P.ping="2",P.pong="3",P.message="4",P.upgrade="5",P.noop="6";var E=Object.create(null);Object.keys(P).forEach((function(e){E[P[e]]=e}));for(var j={type:"error",data:"parser error"},M="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),B="function"==typeof ArrayBuffer,I=function(e,t,n){var i,r=e.type,a=e.data;return M&&a instanceof Blob?t?n(a):R(a,n):B&&(a instanceof ArrayBuffer||(i=a,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?t?n(a):R(new Blob([a]),n):n(P[r]+(a||""))},R=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L="undefined"==typeof Uint8Array?[]:new Uint8Array(256),z=0;z<D.length;z++)L[D.charCodeAt(z)]=z;var N,H="function"==typeof ArrayBuffer,F=function(e,t){if("string"!=typeof e)return{type:"message",data:q(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:W(e.substring(1),t)}:E[n]?e.length>1?{type:E[n],data:e.substring(1)}:{type:E[n]}:j},W=function(e,t){if(H){var n=function(e){var t,n,i,r,a,o=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=L[e.charCodeAt(t)],i=L[e.charCodeAt(t+1)],r=L[e.charCodeAt(t+2)],a=L[e.charCodeAt(t+3)],u[l++]=n<<2|i>>4,u[l++]=(15&i)<<4|r>>2,u[l++]=(3&r)<<6|63&a;return c}(e);return q(n,t)}return{base64:!0,data:e}},q=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},U=String.fromCharCode(30),V=function(e){c(n,e);var t=h(n);function n(e){var i;return a(this,n),(i=t.call(this)).writable=!1,O(p(i),e),i.opts=e,i.query=e.query,i.readyState="",i.socket=e.socket,i}return s(n,[{key:"onError",value:function(e,t){var i=new Error(e);return i.type="TransportError",i.description=t,m(u(n.prototype),"emit",this).call(this,"error",i),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,m(u(n.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(e){var t=F(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){m(u(n.prototype),"emit",this).call(this,"packet",e)}},{key:"onClose",value:function(){this.readyState="closed",m(u(n.prototype),"emit",this).call(this,"close")}}]),n}(S),G="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),K={},X=0,Y=0;function Z(e){var t="";do{t=G[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Q(){var e=Z(+new Date);return e!==N?(X=0,N=e):e+"."+Z(X++)}for(;Y<64;Y++)K[G[Y]]=Y;Q.encode=Z,Q.decode=function(e){var t=0;for(Y=0;Y<e.length;Y++)t=64*t+K[e.charAt(Y)];return t};var J=Q,ee=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},te=function(e){for(var t={},n=e.split("&"),i=0,r=n.length;i<r;i++){var a=n[i].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t},ne=function(e){c(n,e);var t=h(n);function n(){var e;return a(this,n),(e=t.apply(this,arguments)).polling=!1,e}return s(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var i=0;this.polling&&(i++,this.once("pollComplete",(function(){--i||n()}))),this.writable||(i++,this.once("drain",(function(){--i||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(U),i=[],r=0;r<n.length;r++){var a=F(n[r],t);if(i.push(a),"error"===a.type)break}return i})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,n){var i=e.length,r=new Array(i),a=0;e.forEach((function(e,n){I(e,!1,(function(e){var o;r[n]=e,++a===i&&(o=r.join(U),t.doWrite(o,(function(){t.writable=!0,t.emit("drain")})))}))}))}(e)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=J()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var i=ee(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}}]),n}(V);function ie(){}var re=null!=new k({xdomain:!1}).responseType,ae=function(e){c(n,e);var t=h(n);function n(e){var i;if(a(this,n),i=t.call(this,e),"undefined"!=typeof location){var r="https:"===location.protocol,o=location.port;o||(o=r?"443":"80"),i.xd="undefined"!=typeof location&&e.hostname!==location.hostname||o!==e.port,i.xs=e.secure!==r}var s=e&&e.forceBase64;return i.supportsBinary=re&&!s,i}return s(n,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(e,{xd:this.xd,xs:this.xs},this.opts),new oe(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(function(e){n.onError("xhr post error",e)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t){e.onError("xhr poll error",t)})),this.pollXhr=t}}]),n}(ne),oe=function(e){c(n,e);var t=h(n);function n(e,i){var r;return a(this,n),O(p(r=t.call(this)),i),r.opts=i,r.method=i.method||"GET",r.uri=e,r.async=!1!==i.async,r.data=void 0!==i.data?i.data:null,r.create(),r}return s(n,[{key:"create",value:function(){var e=this,t=$(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var i=this.xhr=new k(t);try{i.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var r in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}catch(e){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{i.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=function(){4===i.readyState&&(200===i.status||1223===i.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"==typeof i.status?i.status:0)}),0))},i.send(this.data)}catch(t){return void this.setTimeoutFn((function(){e.onError(t)}),0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=ie,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"abort",value:function(){this.cleanup()}}]),n}(S);function se(){for(var e in oe.requests)oe.requests.hasOwnProperty(e)&&oe.requests[e].abort()}oe.requestsCount=0,oe.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",se):"function"==typeof addEventListener&&addEventListener("onpagehide"in x?"pagehide":"unload",se,!1));var le="function"==typeof Promise&&"function"==typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},ce=x.WebSocket||x.MozWebSocket,ue="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),de=function(e){c(n,e);var t=h(n);function n(e){var i;return a(this,n),(i=t.call(this,e)).supportsBinary=!e.forceBase64,i}return s(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=ue?{}:$(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=ue?new ce(e,t,n):t?new ce(e,t):new ce(e)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(n){var i=e[n],r=n===e.length-1;I(i,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(e){}r&&le((function(){t.writable=!0,t.emit("drain")}),t.setTimeoutFn)}))},i=0;i<e.length;i++)n(i)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=J()),this.supportsBinary||(e.b64=1);var i=ee(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}},{key:"check",value:function(){return!(!ce||"__initialize"in ce&&this.name===n.prototype.name)}}]),n}(V),pe={websocket:de,polling:ae},fe=function(e){c(n,e);var t=h(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a(this,n),i=t.call(this),e&&"object"===r(e)&&(o=e,e=null),e?(e=_(e),o.hostname=e.host,o.secure="https"===e.protocol||"wss"===e.protocol,o.port=e.port,e.query&&(o.query=e.query)):o.host&&(o.hostname=_(o.host).host),O(p(i),o),i.secure=null!=o.secure?o.secure:"undefined"!=typeof location&&"https:"===location.protocol,o.hostname&&!o.port&&(o.port=i.secure?"443":"80"),i.hostname=o.hostname||("undefined"!=typeof location?location.hostname:"localhost"),i.port=o.port||("undefined"!=typeof location&&location.port?location.port:i.secure?"443":"80"),i.transports=o.transports||["polling","websocket"],i.readyState="",i.writeBuffer=[],i.prevBufferLen=0,i.opts=l({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},o),i.opts.path=i.opts.path.replace(/\/$/,"")+"/","string"==typeof i.opts.query&&(i.opts.query=te(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,"function"==typeof addEventListener&&(i.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())}),!1),"localhost"!==i.hostname&&(i.offlineEventListener=function(){i.onClose("transport close")},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return s(n,[{key:"createTransport",value:function(e){var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=l({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new pe[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(){t.onClose("transport close")}))}},{key:"probe",value:function(e){var t=this,i=this.createTransport(e),r=!1;n.priorWebsocketSuccess=!1;var a=function(){r||(i.send([{type:"ping",data:"probe"}]),i.once("packet",(function(e){if(!r)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",i),!i)return;n.priorWebsocketSuccess="websocket"===i.name,t.transport.pause((function(){r||"closed"!==t.readyState&&(d(),t.setTransport(i),i.send([{type:"upgrade"}]),t.emitReserved("upgrade",i),i=null,t.upgrading=!1,t.flush())}))}else{var a=new Error("probe error");a.transport=i.name,t.emitReserved("upgradeError",a)}})))};function o(){r||(r=!0,d(),i.close(),i=null)}var s=function(e){var n=new Error("probe error: "+e);n.transport=i.name,o(),t.emitReserved("upgradeError",n)};function l(){s("transport closed")}function c(){s("socket closed")}function u(e){i&&e.name!==i.name&&o()}var d=function(){i.removeListener("open",a),i.removeListener("error",s),i.removeListener("close",l),t.off("close",c),t.off("upgrading",u)};i.once("open",a),i.once("error",s),i.once("close",l),this.once("close",c),this.once("upgrading",u),i.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},i=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?i():t()})):this.upgrading?i():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(S);fe.protocol=4;var he,me="function"==typeof ArrayBuffer,ge=Object.prototype.toString,ve="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===ge.call(Blob),be="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===ge.call(File);function _e(e){return me&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||ve&&e instanceof Blob||be&&e instanceof File}function ye(e,t){if(!e||"object"!==r(e))return!1;if(Array.isArray(e)){for(var n=0,i=e.length;n<i;n++)if(ye(e[n]))return!0;return!1}if(_e(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return ye(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&ye(e[a]))return!0;return!1}function we(e){var t=[],n=e.data,i=e;return i.data=xe(n,t),i.attachments=t.length,{packet:i,buffers:t}}function xe(e,t){if(!e)return e;if(_e(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var i=new Array(e.length),a=0;a<e.length;a++)i[a]=xe(e[a],t);return i}if("object"===r(e)&&!(e instanceof Date)){var o={};for(var s in e)e.hasOwnProperty(s)&&(o[s]=xe(e[s],t));return o}return e}function ke(e,t){return e.data=$e(e.data,t),e.attachments=void 0,e}function $e(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=$e(e[n],t);else if("object"===r(e))for(var i in e)e.hasOwnProperty(i)&&(e[i]=$e(e[i],t));return e}!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(he||(he={}));var Ce=function(){function e(){a(this,e)}return s(e,[{key:"encode",value:function(e){return e.type!==he.EVENT&&e.type!==he.ACK||!ye(e)?[this.encodeAsString(e)]:(e.type=e.type===he.EVENT?he.BINARY_EVENT:he.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==he.BINARY_EVENT&&e.type!==he.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),t}},{key:"encodeAsBinary",value:function(e){var t=we(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}]),e}(),Te=function(e){c(n,e);var t=h(n);function n(){return a(this,n),t.call(this)}return s(n,[{key:"add",value:function(e){var t;if("string"==typeof e)(t=this.decodeString(e)).type===he.BINARY_EVENT||t.type===he.BINARY_ACK?(this.reconstructor=new Oe(t),0===t.attachments&&m(u(n.prototype),"emitReserved",this).call(this,"decoded",t)):m(u(n.prototype),"emitReserved",this).call(this,"decoded",t);else{if(!_e(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,m(u(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,i={type:Number(e.charAt(0))};if(void 0===he[i.type])throw new Error("unknown packet type "+i.type);if(i.type===he.BINARY_EVENT||i.type===he.BINARY_ACK){for(var r=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var a=e.substring(r,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(a)}if("/"===e.charAt(t+1)){for(var o=t+1;++t&&","!==e.charAt(t)&&t!==e.length;);i.nsp=e.substring(o,t)}else i.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var l=t+1;++t;){var c=e.charAt(t);if(null==c||Number(c)!=c){--t;break}if(t===e.length)break}i.id=Number(e.substring(l,t+1))}if(e.charAt(++t)){var u=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!n.isPayloadValid(i.type,u))throw new Error("invalid payload");i.data=u}return i}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case he.CONNECT:return"object"===r(t);case he.DISCONNECT:return void 0===t;case he.CONNECT_ERROR:return"string"==typeof t||"object"===r(t);case he.EVENT:case he.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case he.ACK:case he.BINARY_ACK:return Array.isArray(t)}}}]),n}(S),Oe=function(){function e(t){a(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return s(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=ke(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}(),Se=Object.freeze({__proto__:null,protocol:5,get PacketType(){return he},Encoder:Ce,Decoder:Te});function Ae(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var Pe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ee=function(e){c(n,e);var t=h(n);function n(e,i,r){var o;return a(this,n),(o=t.call(this)).connected=!1,o.disconnected=!0,o.receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=e,o.nsp=i,r&&r.auth&&(o.auth=r.auth),o.io._autoConnect&&o.open(),o}return s(n,[{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[Ae(e,"open",this.onopen.bind(this)),Ae(e,"packet",this.onpacket.bind(this)),Ae(e,"error",this.onerror.bind(this)),Ae(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(Pe.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.unshift(e);var r={type:he.EVENT,data:n,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){var a=this.ids++,o=n.pop();this._registerAckCallback(a,o),r.id=a}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,l=this.flags.volatile&&(!s||!this.connected);return l||(this.connected?this.packet(r):this.sendBuffer.push(r)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n=this,i=this.flags.timeout;if(void 0!==i){var r=this.io.setTimeoutFn((function(){delete n.acks[e];for(var i=0;i<n.sendBuffer.length;i++)n.sendBuffer[i].id===e&&n.sendBuffer.splice(i,1);t.call(n,new Error("operation has timed out"))}),i);this.acks[e]=function(){n.io.clearTimeoutFn(r);for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];t.apply(n,[null].concat(i))}}else this.acks[e]=t}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e.packet({type:he.CONNECT,data:t})})):this.packet({type:he.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case he.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case he.EVENT:case he.BINARY_EVENT:this.onevent(e);break;case he.ACK:case he.BINARY_ACK:this.onack(e);break;case he.DISCONNECT:this.ondisconnect();break;case he.CONNECT_ERROR:this.destroy();var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(this._anyListeners.slice());try{for(i.s();!(t=i.n()).done;)t.value.apply(this,e)}catch(e){i.e(e)}finally{i.f()}}m(u(n.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];t.packet({type:he.ACK,id:e,data:r})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){return e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:he.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),n}(S),je=Me;function Me(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Me.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Me.prototype.reset=function(){this.attempts=0},Me.prototype.setMin=function(e){this.ms=e},Me.prototype.setMax=function(e){this.max=e},Me.prototype.setJitter=function(e){this.jitter=e};var Be=function(e){c(n,e);var t=h(n);function n(e,i){var o,s;a(this,n),(o=t.call(this)).nsps={},o.subs=[],e&&"object"===r(e)&&(i=e,e=void 0),(i=i||{}).path=i.path||"/socket.io",o.opts=i,O(p(o),i),o.reconnection(!1!==i.reconnection),o.reconnectionAttempts(i.reconnectionAttempts||1/0),o.reconnectionDelay(i.reconnectionDelay||1e3),o.reconnectionDelayMax(i.reconnectionDelayMax||5e3),o.randomizationFactor(null!==(s=i.randomizationFactor)&&void 0!==s?s:.5),o.backoff=new je({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==i.timeout?2e4:i.timeout),o._readyState="closed",o.uri=e;var l=i.parser||Se;return o.encoder=new l.Encoder,o.decoder=new l.Decoder,o._autoConnect=!1!==i.autoConnect,o._autoConnect&&o.open(),o}return s(n,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new fe(this.uri,this.opts);var n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;var r=Ae(n,"open",(function(){i.onopen(),e&&e()})),a=Ae(n,"error",(function(n){i.cleanup(),i._readyState="closed",t.emitReserved("error",n),e?e(n):i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;0===o&&r();var s=this.setTimeoutFn((function(){r(),n.close(),n.emit("error",new Error("timeout"))}),o);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(r),this.subs.push(a),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(Ae(e,"ping",this.onping.bind(this)),Ae(e,"data",this.ondata.bind(this)),Ae(e,"error",this.onerror.bind(this)),Ae(e,"close",this.onclose.bind(this)),Ae(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new Ee(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var i=n[t];if(this.nsps[i].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var i=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&i.unref(),this.subs.push((function(){clearTimeout(i)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),n}(S),Ie={};function Re(e,t){"object"===r(e)&&(t=e,e=void 0);var n,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),i=_(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+t,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}(e,(t=t||{}).path||"/socket.io"),a=i.source,o=i.id,s=i.path,l=Ie[o]&&s in Ie[o].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||l?n=new Be(a,t):(Ie[o]||(Ie[o]=new Be(a,t)),n=Ie[o]),i.query&&!t.query&&(t.query=i.queryKey),n.socket(i.path,t)}l(Re,{Manager:Be,Socket:Ee,io:Re,connect:Re}),n(9729);var De=[],Le=[]},3936:(e,t,n)=>{"use strict";n.d(t,{GN:()=>s,jX:()=>a});var i=n(3334),r=n(1766).Howl,a={},o=i.x6.soundLevels;function s(e){if("1"!==i.x6.enableSound||"dnd"===i.x6.userStatus)return!1;"string"==typeof e&&"tmp_"!==e.substr(0,4)&&void 0!==a.notification&&a.notification.play()}o.notification>0&&(a.notification=new r({src:[i.x6.assets+"notification.mp3",i.x6.assets+"notification.ogg"],loop:!1,volume:o.notification})),o.sent>0&&(a.sent=new r({src:[i.x6.assets+"sent.mp3",i.x6.assets+"sent.ogg"],loop:!1,volume:o.sent}))},4069:(e,t,n)=>{"use strict";n.d(t,{s:()=>r,x:()=>a});var i=n(3334);function r(e){void 0!==window.BMAppNoticeToast?window.BMAppNoticeToast("",e,1e4):i.$.amaran({theme:"colorful",content:{bgcolor:"black",color:"#fff",message:e},sticky:!1,closeOnClick:!0,closeButton:!0,delay:1e4,position:"bottom right"})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;void 0!==window.BMAppErrorToast?window.BMAppErrorToast("",notice,t):i.$.amaran({theme:"colorful",content:{bgcolor:"#c0392b",color:"#fff",message:e},sticky:!1,closeOnClick:!0,closeButton:!0,delay:t,position:"bottom right"})}n(8723),window.BBPMShowNotice=r,window.BBPMNotice=r,window.BBPMShowError=a,window.BBPMError=a},5827:(e,t,n)=>{"use strict";n.r(t);var i,r=n(3334);r.$.support.htmlMenuitem="HTMLMenuItemElement"in window,r.$.support.htmlCommand="HTMLCommandElement"in window,r.$.support.eventSelectstart="onselectstart"in document.documentElement,r.$.ui&&r.$.widget||(r.$.cleanData=(i=r.$.cleanData,function(e){var t,n,a;for(a=0;null!=e[a];a++){n=e[a];try{(t=r.$._data(n,"events"))&&t.remove&&(0,r.$)(n).triggerHandler("remove")}catch(e){}}i(e)}));var a=null,o=!1,s=(0,r.$)(window),l=0,c={},u={},d={},p={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,classNames:{hover:"bpbm-context-menu-hover",disabled:"bpbm-context-menu-disabled",visible:"bpbm-context-menu-visible",notSelectable:"bpbm-context-menu-not-selectable",icon:"bpbm-context-menu-icon",iconEdit:"bpbm-context-menu-icon-edit",iconCut:"bpbm-context-menu-icon-cut",iconCopy:"bpbm-context-menu-icon-copy",iconPaste:"bpbm-context-menu-icon-paste",iconDelete:"bpbm-context-menu-icon-delete",iconAdd:"bpbm-context-menu-icon-add",iconQuit:"bpbm-context-menu-icon-quit",iconLoadingClass:"bpbm-context-menu-icon-loading"},determinePosition:function(e){if(r.$.ui&&r.$.ui.position)e.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var t=this.offset();t.top+=this.outerHeight(),t.left+=this.outerWidth()/2-e.outerWidth()/2,e.css(t)}},position:function(e,t,n){var i;if(t||n){if("maintain"===t&&"maintain"===n)i=e.$menu.position();else{var r=e.$menu.offsetParent().offset();i={top:n-r.top,left:t-r.left}}var a=s.scrollTop()+s.height(),o=s.scrollLeft()+s.width(),l=e.$menu.outerHeight(),c=e.$menu.outerWidth();i.top+l>a&&(i.top-=l),i.top<0&&(i.top=0),i.left+c>o&&(i.left-=c),i.left<0&&(i.left=0),e.$menu.css(i)}else e.determinePosition.call(this,e.$menu)},positionSubmenu:function(e){if(void 0!==e)if(r.$.ui&&r.$.ui.position)e.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var t={top:-9,left:this.outerWidth()-5};e.css(t)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{preShow:r.$.noop,show:r.$.noop,hide:r.$.noop,activated:r.$.noop},callback:null,items:{}},f={timer:null,pageX:null,pageY:null},h={abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(e){var t=(0,r.$)(this);if(!1!==e.data.events.preShow(t,e)&&("right"===e.data.trigger&&(e.preventDefault(),e.stopImmediatePropagation()),!("right"!==e.data.trigger&&"demand"!==e.data.trigger&&e.originalEvent||!(void 0===e.mouseButton||!e.data||"left"===e.data.trigger&&0===e.mouseButton||"right"===e.data.trigger&&2===e.mouseButton)||t.hasClass("bpbm-context-menu-active")||t.hasClass("bpbm-context-menu-disabled")))){if(a=t,e.data.build){var n=e.data.build(a,e);if(!1===n)return;if(e.data=r.$.extend(!0,{},p,e.data,n||{}),!e.data.items||r.$.isEmptyObject(e.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");e.data.$trigger=a,m.create(e.data)}m.show.call(t,e.data,e.pageX,e.pageY)}},click:function(e){e.preventDefault(),e.stopImmediatePropagation(),(0,r.$)(this).trigger(r.$.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))},mousedown:function(e){var t=(0,r.$)(this);a&&a.length&&!a.is(t)&&a.data("contextMenu").$menu.trigger("contextmenu:hide"),2===e.button&&(a=t.data("contextMenuActive",!0))},mouseup:function(e){var t=(0,r.$)(this);t.data("contextMenuActive")&&a&&a.length&&a.is(t)&&!t.hasClass("bpbm-context-menu-disabled")&&(e.preventDefault(),e.stopImmediatePropagation(),a=t,t.trigger(r.$.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))),t.removeData("contextMenuActive")},mouseenter:function(e){var t=(0,r.$)(this),n=(0,r.$)(e.relatedTarget),i=(0,r.$)(document);n.is(".bpbm-context-menu-list")||n.closest(".bpbm-context-menu-list").length||a&&a.length||(f.pageX=e.pageX,f.pageY=e.pageY,f.data=e.data,i.on("mousemove.contextMenuShow",h.mousemove),f.timer=setTimeout((function(){f.timer=null,i.off("mousemove.contextMenuShow"),a=t,t.trigger(r.$.Event("contextmenu",{data:f.data,pageX:f.pageX,pageY:f.pageY}))}),e.data.delay))},mousemove:function(e){f.pageX=e.pageX,f.pageY=e.pageY},mouseleave:function(e){var t=(0,r.$)(e.relatedTarget);if(!t.is(".bpbm-context-menu-list")&&!t.closest(".bpbm-context-menu-list").length){try{clearTimeout(f.timer)}catch(e){}f.timer=null}},layerClick:function(e){var t,n,i=(0,r.$)(this).data("contextMenuRoot"),a=e.button,o=e.pageX,l=e.pageY,c=void 0===o;e.preventDefault(),setTimeout((function(){if(c)null!=i&&null!==i.$menu&&void 0!==i.$menu&&i.$menu.trigger("contextmenu:hide");else{var u,d="left"===i.trigger&&0===a||"right"===i.trigger&&2===a;if(document.elementFromPoint&&i.$layer){if(i.$layer.hide(),null!==(t=document.elementFromPoint(o-s.scrollLeft(),l-s.scrollTop()))&&t.isContentEditable){var p=document.createRange(),f=window.getSelection();p.selectNode(t),p.collapse(!0),f.removeAllRanges(),f.addRange(p)}(0,r.$)(t).trigger(e),i.$layer.show()}if(i.hideOnSecondTrigger&&d&&null!==i.$menu&&void 0!==i.$menu)i.$menu.trigger("contextmenu:hide");else{if(i.reposition&&d)if(document.elementFromPoint){if(i.$trigger.is(t))return void i.position.call(i.$trigger,i,o,l)}else if(n=i.$trigger.offset(),u=(0,r.$)(window),n.top+=u.scrollTop(),n.top<=e.pageY&&(n.left+=u.scrollLeft(),n.left<=e.pageX&&(n.bottom=n.top+i.$trigger.outerHeight(),n.bottom>=e.pageY&&(n.right=n.left+i.$trigger.outerWidth(),n.right>=e.pageX))))return void i.position.call(i.$trigger,i,o,l);t&&d&&i.$trigger.one("contextmenu:hidden",(function(){(0,r.$)(t).contextMenu({x:o,y:l,button:a})})),null!=i&&null!==i.$menu&&void 0!==i.$menu&&i.$menu.trigger("contextmenu:hide")}}}),50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t={};a&&(t=a.data("contextMenu")||{}),void 0===t.zIndex&&(t.zIndex=0);var n=0;if(function e(t){""!==t.style.zIndex?n=t.style.zIndex:null!==t.offsetParent&&void 0!==t.offsetParent?e(t.offsetParent):null!==t.parentElement&&void 0!==t.parentElement&&e(t.parentElement)}(e.target),!(t.$menu&&parseInt(n,10)>parseInt(t.$menu.css("zIndex"),10))){switch(e.keyCode){case 9:case 38:if(h.keyStop(e,t),t.isInput){if(9===e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));if(38===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!==e.keyCode||e.shiftKey)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));break;case 40:if(h.keyStop(e,t),!t.isInput)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(9===e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(40===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(h.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("bpbm-context-menu-root")){var i=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=i)}break;case 39:if(h.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var r=t.$selected.data("contextMenu")||{};if(r.$menu&&t.$selected.hasClass("bpbm-context-menu-submenu"))return t.$selected=null,r.$selected=null,void r.$menu.trigger("nextcommand");break;case 35:case 36:return t.$selected&&t.$selected.find("input, textarea, select").length?void 0:((t.$selected&&t.$selected.parent()||t.$menu).children(":not(."+t.classNames.disabled+", ."+t.classNames.notSelectable+")")[36===e.keyCode?"first":"last"]().trigger("contextmenu:focus"),void e.preventDefault());case 13:if(h.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void h.keyStop(e,t);case 27:return h.keyStop(e,t),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide"));default:var o=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[o])return void t.accesskeys[o].$node.trigger(t.accesskeys[o].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger(e)}},prevItem:function(e){e.stopPropagation();var t=(0,r.$)(this).data("contextMenu")||{},n=(0,r.$)(this).data("contextMenuRoot")||{};if(t.$selected){var i=t.$selected;(t=t.$selected.parent().data("contextMenu")||{}).$selected=i}for(var a=t.$menu.children(),o=t.$selected&&t.$selected.prev().length?t.$selected.prev():a.last(),s=o;o.hasClass(n.classNames.disabled)||o.hasClass(n.classNames.notSelectable)||o.is(":hidden");)if((o=o.prev().length?o.prev():a.last()).is(s))return;t.$selected&&h.itemMouseleave.call(t.$selected.get(0),e),h.itemMouseenter.call(o.get(0),e);var l=o.find("input, textarea, select");l.length&&l.focus()},nextItem:function(e){e.stopPropagation();var t=(0,r.$)(this).data("contextMenu")||{},n=(0,r.$)(this).data("contextMenuRoot")||{};if(t.$selected){var i=t.$selected;(t=t.$selected.parent().data("contextMenu")||{}).$selected=i}for(var a=t.$menu.children(),o=t.$selected&&t.$selected.next().length?t.$selected.next():a.first(),s=o;o.hasClass(n.classNames.disabled)||o.hasClass(n.classNames.notSelectable)||o.is(":hidden");)if((o=o.next().length?o.next():a.first()).is(s))return;t.$selected&&h.itemMouseleave.call(t.$selected.get(0),e),h.itemMouseenter.call(o.get(0),e);var l=o.find("input, textarea, select");l.length&&l.focus()},focusInput:function(){var e=(0,r.$)(this).closest(".bpbm-context-menu-item"),t=e.data(),n=t.contextMenu,i=t.contextMenuRoot;i.$selected=n.$selected=e,i.isInput=n.isInput=!0},blurInput:function(){var e=(0,r.$)(this).closest(".bpbm-context-menu-item").data(),t=e.contextMenu;e.contextMenuRoot.isInput=t.isInput=!1},menuMouseenter:function(){(0,r.$)(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(e){var t=(0,r.$)(this).data().contextMenuRoot;t.$layer&&t.$layer.is(e.relatedTarget)&&(t.hovering=!1)},itemMouseenter:function(e){var t=(0,r.$)(this),n=t.data(),i=n.contextMenu,a=n.contextMenuRoot;a.hovering=!0,e&&a.$layer&&a.$layer.is(e.relatedTarget)&&(e.preventDefault(),e.stopImmediatePropagation()),(i.$menu?i:a).$menu.children("."+a.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),t.hasClass(a.classNames.disabled)||t.hasClass(a.classNames.notSelectable)?i.$selected=null:t.trigger("contextmenu:focus")},itemMouseleave:function(e){var t=(0,r.$)(this),n=t.data(),i=n.contextMenu,a=n.contextMenuRoot;if(a!==i&&a.$layer&&a.$layer.is(e.relatedTarget))return void 0!==a.$selected&&null!==a.$selected&&a.$selected.trigger("contextmenu:blur"),e.preventDefault(),e.stopImmediatePropagation(),void(a.$selected=i.$selected=i.$node);i&&i.$menu&&i.$menu.hasClass("bpbm-context-menu-visible")||t.trigger("contextmenu:blur")},itemClick:function(e){var t,n=(0,r.$)(this),i=n.data(),a=i.contextMenu,o=i.contextMenuRoot,s=i.contextMenuKey;if(!(!a.items[s]||n.is("."+o.classNames.disabled+", .bpbm-context-menu-separator, ."+o.classNames.notSelectable)||n.is(".bpbm-context-menu-submenu")&&!1===o.selectableSubMenu)){if(e.preventDefault(),e.stopImmediatePropagation(),r.$.isFunction(a.callbacks[s])&&Object.prototype.hasOwnProperty.call(a.callbacks,s))t=a.callbacks[s];else{if(!r.$.isFunction(o.callback))return;t=o.callback}!1!==t.call(o.$trigger,s,o,e)?o.$menu.trigger("contextmenu:hide"):o.$menu.parent().length&&m.update.call(o.$trigger,o)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(e,t){var n=(0,r.$)(this).data("contextMenuRoot");m.hide.call(n.$trigger,n,t&&t.force)},focusItem:function(e){e.stopPropagation();var t=(0,r.$)(this),n=t.data(),i=n.contextMenu,a=n.contextMenuRoot;t.hasClass(a.classNames.disabled)||t.hasClass(a.classNames.notSelectable)||(t.addClass([a.classNames.hover,a.classNames.visible].join(" ")).parent().find(".bpbm-context-menu-item").not(t).removeClass(a.classNames.visible).filter("."+a.classNames.hover).trigger("contextmenu:blur"),i.$selected=a.$selected=t,i&&i.$node&&i.$node.hasClass("bpbm-context-menu-submenu")&&i.$node.addClass(a.classNames.hover),i.$node&&a.positionSubmenu.call(i.$node,i.$menu))},blurItem:function(e){e.stopPropagation();var t=(0,r.$)(this),n=t.data(),i=n.contextMenu,a=n.contextMenuRoot;i.autoHide&&t.removeClass(a.classNames.visible),t.removeClass(a.classNames.hover),i.$selected=null}},m={show:function(e,t,n){var i=(0,r.$)(this),o={};if((0,r.$)("#bpbm-context-menu-layer").trigger("mousedown"),e.$trigger=i,!1!==e.events.show.call(i,e))if(!1!==m.update.call(i,e)){if(e.position.call(i,e,t,n),e.zIndex){var s=e.zIndex;"function"==typeof e.zIndex&&(s=e.zIndex.call(i,e)),o.zIndex=function(e){for(var t=0,n=e;t=Math.max(t,parseInt(n.css("z-index"),10)||0),(n=n.parent())&&n.length&&!("html body".indexOf(n.prop("nodeName").toLowerCase())>-1););return t}(i)+s}m.layer.call(e.$menu,e,o.zIndex),e.$menu.find("ul").css("zIndex",o.zIndex+1),e.$menu.css(o)[e.animation.show](e.animation.duration,(function(){i.trigger("contextmenu:visible"),m.activated(e),e.events.activated(e)})),i.data("contextMenu",e).addClass("bpbm-context-menu-active"),(0,r.$)(document).off("keydown.contextMenu").on("keydown.contextMenu",h.key),e.autoHide&&(0,r.$)(document).on("mousemove.contextMenuAutoHide",(function(t){var n=i.offset();n.right=n.left+i.outerWidth(),n.bottom=n.top+i.outerHeight(),!e.$layer||e.hovering||t.pageX>=n.left&&t.pageX<=n.right&&t.pageY>=n.top&&t.pageY<=n.bottom||setTimeout((function(){e.hovering||null===e.$menu||void 0===e.$menu||e.$menu.trigger("contextmenu:hide")}),50)}))}else a=null;else a=null},hide:function(e,t){var n=(0,r.$)(this);if(e||(e=n.data("contextMenu")||{}),t||!e.events||!1!==e.events.hide.call(n,e)){if(n.removeData("contextMenu").removeClass("bpbm-context-menu-active"),e.$layer){setTimeout((i=e.$layer,function(){i.remove()}),10);try{delete e.$layer}catch(t){e.$layer=null}}var i;a=null,e.$menu.find("."+e.classNames.hover).trigger("contextmenu:blur"),e.$selected=null,e.$menu.find("."+e.classNames.visible).removeClass(e.classNames.visible),(0,r.$)(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),e.$menu&&e.$menu[e.animation.hide](e.animation.duration,(function(){e.build&&(e.$menu.remove(),r.$.each(e,(function(t){switch(t){case"ns":case"selector":case"build":case"trigger":return!0;default:e[t]=void 0;try{delete e[t]}catch(e){}return!0}}))),setTimeout((function(){n.trigger("contextmenu:hidden")}),10)}))}},create:function(e,t){function n(e){var t=(0,r.$)("<span></span>");if(e._accesskey)e._beforeAccesskey&&t.append(document.createTextNode(e._beforeAccesskey)),(0,r.$)("<span></span>").addClass("bpbm-context-menu-accesskey").text(e._accesskey).appendTo(t),e._afterAccesskey&&t.append(document.createTextNode(e._afterAccesskey));else if(e.isHtmlName){if(void 0!==e.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");t.html(e.name)}else t.text(e.name);return t}void 0===t&&(t=e),e.$menu=(0,r.$)('<ul class="bp-messages-wrap bpbm-context-menu-list"></ul>').addClass(e.className||"").data({contextMenu:e,contextMenuRoot:t}),e.dataAttr&&r.$.each(e.dataAttr,(function(t,n){e.$menu.attr("data-"+e.key,n)})),r.$.each(["callbacks","commands","inputs"],(function(n,i){e[i]={},t[i]||(t[i]={})})),t.accesskeys||(t.accesskeys={}),r.$.each(e.items,(function(i,a){var o=(0,r.$)('<li class="bpbm-context-menu-item"></li>').addClass(a.className||""),s=null,l=null;if(o.on("click",r.$.noop),"string"!=typeof a&&"cm_separator"!==a.type||(a={type:"cm_seperator"}),a.$node=o.data({contextMenu:e,contextMenuRoot:t,contextMenuKey:i}),void 0!==a.accesskey)for(var c,u=function(e){for(var t,n=e.split(/\s+/),i=[],r=0;t=n[r];r++)t=t.charAt(0).toUpperCase(),i.push(t);return i}(a.accesskey),p=0;c=u[p];p++)if(!t.accesskeys[c]){t.accesskeys[c]=a;var f=a.name.match(new RegExp("^(.*?)("+c+")(.*)$","i"));f&&(a._beforeAccesskey=f[1],a._accesskey=f[2],a._afterAccesskey=f[3]);break}if(a.type&&d[a.type])d[a.type].call(o,a,e,t),r.$.each([e,t],(function(t,n){n.commands[i]=a,!r.$.isFunction(a.callback)||void 0!==n.callbacks[i]&&void 0!==e.type||(n.callbacks[i]=a.callback)}));else{switch("cm_seperator"===a.type?o.addClass("bpbm-context-menu-separator "+t.classNames.notSelectable):"html"===a.type?o.addClass("bpbm-context-menu-html "+t.classNames.notSelectable):"sub"!==a.type&&a.type?(s=(0,r.$)("<label></label>").appendTo(o),n(a).appendTo(s),o.addClass("bpbm-context-menu-input"),e.hasTypes=!0,r.$.each([e,t],(function(e,t){t.commands[i]=a,t.inputs[i]=a}))):a.items&&(a.type="sub"),a.type){case"cm_seperator":break;case"text":l=(0,r.$)('<input type="text" value="1" name="" />').attr("name","bpbm-context-menu-input-"+i).val(a.value||"").appendTo(s);break;case"textarea":l=(0,r.$)('<textarea name=""></textarea>').attr("name","bpbm-context-menu-input-"+i).val(a.value||"").appendTo(s),a.height&&l.height(a.height);break;case"checkbox":l=(0,r.$)('<input type="checkbox" value="1" name="" />').attr("name","bpbm-context-menu-input-"+i).val(a.value||"").prop("checked",!!a.selected).prependTo(s);break;case"radio":l=(0,r.$)('<input type="radio" value="1" name="" />').attr("name","bpbm-context-menu-input-"+a.radio).val(a.value||"").prop("checked",!!a.selected).prependTo(s);break;case"select":l=(0,r.$)('<select name=""></select>').attr("name","bpbm-context-menu-input-"+i).appendTo(s),a.options&&(r.$.each(a.options,(function(e,t){(0,r.$)("<option></option>").val(e).text(t).appendTo(l)})),l.val(a.selected));break;case"sub":n(a).appendTo(o),a.appendTo=a.$node,o.data("contextMenu",a).addClass("bpbm-context-menu-submenu"),a.callback=null,"function"==typeof a.items.then?m.processPromises(a,t,a.items):m.create(a,t);break;case"html":(0,r.$)(a.html).appendTo(o);break;default:r.$.each([e,t],(function(t,n){n.commands[i]=a,!r.$.isFunction(a.callback)||void 0!==n.callbacks[i]&&void 0!==e.type||(n.callbacks[i]=a.callback)})),n(a).appendTo(o)}a.type&&"sub"!==a.type&&"html"!==a.type&&"cm_seperator"!==a.type&&(l.on("focus",h.focusInput).on("blur",h.blurInput),a.events&&l.on(a.events,e)),a.icon&&(r.$.isFunction(a.icon)?a._icon=a.icon.call(this,this,o,i,a):"string"!=typeof a.icon||"fab "!==a.icon.substring(0,4)&&"fas "!==a.icon.substring(0,4)&&"fad "!==a.icon.substring(0,4)&&"far "!==a.icon.substring(0,4)&&"fal "!==a.icon.substring(0,4)?"string"==typeof a.icon&&"fa-"===a.icon.substring(0,3)?a._icon=t.classNames.icon+" "+t.classNames.icon+"--fa fa "+a.icon:a._icon=t.classNames.icon+" "+t.classNames.icon+"-"+a.icon:(o.addClass(t.classNames.icon+" "+t.classNames.icon+"--fa5"),a._icon=(0,r.$)('<i class="'+a.icon+'"></i>')),"string"==typeof a._icon?o.addClass(a._icon):o.prepend(a._icon))}a.$input=l,a.$label=s,o.appendTo(e.$menu),!e.hasTypes&&r.$.support.eventSelectstart&&o.on("selectstart.disableTextSelect",h.abortevent)})),e.$node||e.$menu.css("display","none").addClass("bpbm-context-menu-root"),e.$menu.appendTo(e.appendTo||document.body)},resize:function(e,t){var n;e.css({position:"absolute",display:"block"}),e.data("width",(n=e.get(0)).getBoundingClientRect?Math.ceil(n.getBoundingClientRect().width):e.outerWidth()+1),e.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),e.find("> li > ul").each((function(){m.resize((0,r.$)(this),!0)})),t||e.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth((function(){return(0,r.$)(this).data("width")}))},update:function(e,t){var n=this;void 0===t&&(t=e,m.resize(e.$menu));var i=!1;return e.$menu.children().each((function(){var a,o=(0,r.$)(this),s=o.data("contextMenuKey"),l=e.items[s],c=r.$.isFunction(l.disabled)&&l.disabled.call(n,s,t)||!0===l.disabled;if((a=r.$.isFunction(l.visible)?l.visible.call(n,s,t):void 0===l.visible||!0===l.visible)&&(i=!0),o[a?"show":"hide"](),o[c?"addClass":"removeClass"](t.classNames.disabled),r.$.isFunction(l.icon)){o.removeClass(l._icon);var u=l.icon.call(this,n,o,s,l);"string"==typeof u?o.addClass(u):o.prepend(u)}if(l.type)switch(o.find("input, select, textarea").prop("disabled",c),l.type){case"text":case"textarea":l.$input.val(l.value||"");break;case"checkbox":case"radio":l.$input.val(l.value||"").prop("checked",!!l.selected);break;case"select":l.$input.val((0===l.selected?"0":l.selected)||"")}l.$menu&&m.update.call(n,l,t)&&(i=!0)})),i},layer:function(e,t){var n=e.$layer=(0,r.$)('<div id="bpbm-context-menu-layer"></div>').css({height:s.height(),width:s.width(),display:"block",position:"fixed","z-index":t-1,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",e).appendTo(document.body).on("contextmenu",h.abortevent).on("mousedown",h.layerClick);return void 0===document.body.style.maxWidth&&n.css({position:"absolute",height:(0,r.$)(document).height()}),n},processPromises:function(e,t,n){function i(e,t,n){void 0===n?(n={error:{name:"No items and no error item",icon:"bpbm-context-menu-icon bpbm-context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof n&&(n={error:{name:n}}),r(e,t,n)}function r(e,t,n){void 0!==t.$menu&&t.$menu.is(":visible")&&(e.$node.removeClass(t.classNames.iconLoadingClass),e.items=n,m.create(e,t,!0),m.update(e,t),t.positionSubmenu.call(e.$node,e.$menu))}e.$node.addClass(t.classNames.iconLoadingClass),n.then(function(e,t,n){void 0===n&&i(void 0),r(e,t,n)}.bind(this,e,t),i.bind(this,e,t))},activated:function(e){var t=e.$menu,n=t.offset(),i=(0,r.$)(window).height(),a=(0,r.$)(window).scrollTop(),o=t.height();o>i?t.css({height:i+"px","overflow-x":"hidden","overflow-y":"auto",top:a+"px"}):(n.top<a||n.top+o>a+i)&&t.css({top:a+"px"})}};function g(e){return e.id&&(0,r.$)('label[for="'+e.id+'"]').val()||e.name}function v(e,t,n){return n||(n=0),t.each((function(){var t,i,a=(0,r.$)(this),o=this,s=this.nodeName.toLowerCase();switch("label"===s&&a.find("input, textarea, select").length&&(t=a.text(),s=(o=(a=a.children().first()).get(0)).nodeName.toLowerCase()),s){case"menu":i={name:a.attr("label"),items:{}},n=v(i.items,a.children(),n);break;case"a":case"button":i={name:a.text(),disabled:!!a.attr("disabled"),callback:function(){a.get(0).click()}};break;case"menuitem":case"command":switch(a.attr("type")){case void 0:case"command":case"menuitem":i={name:a.attr("label"),disabled:!!a.attr("disabled"),icon:a.attr("icon"),callback:function(){a.get(0).click()}};break;case"checkbox":i={type:"checkbox",disabled:!!a.attr("disabled"),name:a.attr("label"),selected:!!a.attr("checked")};break;case"radio":i={type:"radio",disabled:!!a.attr("disabled"),name:a.attr("label"),radio:a.attr("radiogroup"),value:a.attr("id"),selected:!!a.attr("checked")};break;default:i=void 0}break;case"hr":i="-------";break;case"input":switch(a.attr("type")){case"text":i={type:"text",name:t||g(o),disabled:!!a.attr("disabled"),value:a.val()};break;case"checkbox":i={type:"checkbox",name:t||g(o),disabled:!!a.attr("disabled"),selected:!!a.attr("checked")};break;case"radio":i={type:"radio",name:t||g(o),disabled:!!a.attr("disabled"),radio:!!a.attr("name"),value:a.val(),selected:!!a.attr("checked")};break;default:i=void 0}break;case"select":i={type:"select",name:t||g(o),disabled:!!a.attr("disabled"),selected:a.val(),options:{}},a.children().each((function(){i.options[this.value]=(0,r.$)(this).text()}));break;case"textarea":i={type:"textarea",name:t||g(o),disabled:!!a.attr("disabled"),value:a.val()};break;case"label":break;default:i={type:"html",html:a.clone(!0)}}i&&(n++,e["key"+n]=i)})),n}r.$.fn.contextMenu=function(e){var t=this,n=e;if(this.length>0)if(void 0===e)this.first().trigger("contextmenu");else if(void 0!==e.x&&void 0!==e.y)this.first().trigger(r.$.Event("contextmenu",{pageX:e.x,pageY:e.y,mouseButton:e.button}));else if("hide"===e){var i=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;i&&i.trigger("contextmenu:hide")}else"destroy"===e?r.$.BPBMcontextMenu("destroy",{context:this}):r.$.isPlainObject(e)?(e.context=this,r.$.BPBMcontextMenu("create",e)):e?this.removeClass("bpbm-context-menu-disabled"):e||this.addClass("bpbm-context-menu-disabled");else r.$.each(u,(function(){this.selector===t.selector&&(n.data=this,r.$.extend(n.data,{trigger:"demand"}))})),h.contextmenu.call(n.target,n);return this},r.$.BPBMcontextMenu=function(e,t){"string"!=typeof e&&(t=e,e="create"),"string"==typeof t?t={selector:t}:void 0===t&&(t={});var n=r.$.extend(!0,{},p,t||{}),i=(0,r.$)(document),a=i,s=!1;switch(n.context&&n.context.length?(a=(0,r.$)(n.context).first(),n.context=a.get(0),s=!(0,r.$)(n.context).is(document)):n.context=document,e){case"update":if(s)m.update(a);else for(var d in u)u.hasOwnProperty(d)&&m.update(u[d]);break;case"create":if(!n.selector)throw new Error("No selector specified");if(n.selector.match(/.bpbm-context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+n.selector+'" as it contains a reserved className');if(!n.build&&(!n.items||r.$.isEmptyObject(n.items)))throw new Error("No Items specified");if(l++,n.ns=".contextMenu"+l,s||(c[n.selector]=n.ns),u[n.ns]=n,n.trigger||(n.trigger="right"),!o){var f="click"===n.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",g={"contextmenu:focus.contextMenu":h.focusItem,"contextmenu:blur.contextMenu":h.blurItem,"contextmenu.contextMenu":h.abortevent,"mouseenter.contextMenu":h.itemMouseenter,"mouseleave.contextMenu":h.itemMouseleave};g[f]=h.itemClick,i.on({"contextmenu:hide.contextMenu":h.hideMenu,"prevcommand.contextMenu":h.prevItem,"nextcommand.contextMenu":h.nextItem,"contextmenu.contextMenu":h.abortevent,"mouseenter.contextMenu":h.menuMouseenter,"mouseleave.contextMenu":h.menuMouseleave},".bpbm-context-menu-list").on("mouseup.contextMenu",".bpbm-context-menu-input",h.inputClick).on(g,".bpbm-context-menu-item"),o=!0}switch(a.on("contextmenu"+n.ns,n.selector,n,h.contextmenu),s&&a.on("remove"+n.ns,(function(){(0,r.$)(this).contextMenu("destroy")})),n.trigger){case"hover":a.on("mouseenter"+n.ns,n.selector,n,h.mouseenter).on("mouseleave"+n.ns,n.selector,n,h.mouseleave);break;case"left":a.on("click"+n.ns,n.selector,n,h.click);break;case"touchstart":a.on("touchstart"+n.ns,n.selector,n,h.click)}n.build||m.create(n);break;case"destroy":var v;if(s){var b=n.context;r.$.each(u,(function(e,t){if(!t)return!0;if(!(0,r.$)(b).is(t.selector))return!0;(v=(0,r.$)(".bpbm-context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is((0,r.$)(t.context).find(t.selector))&&v.trigger("contextmenu:hide",{force:!0});try{u[t.ns].$menu&&u[t.ns].$menu.remove(),delete u[t.ns]}catch(e){u[t.ns]=null}return(0,r.$)(t.context).off(t.ns),!0}))}else if(n.selector){if(c[n.selector]){(v=(0,r.$)(".bpbm-context-menu-list").filter(":visible")).length&&v.data().contextMenuRoot.$trigger.is(n.selector)&&v.trigger("contextmenu:hide",{force:!0});try{u[c[n.selector]].$menu&&u[c[n.selector]].$menu.remove(),delete u[c[n.selector]]}catch(e){u[c[n.selector]]=null}i.off(c[n.selector])}}else i.off(".contextMenu .contextMenuAutoHide"),r.$.each(u,(function(e,t){(0,r.$)(t.context).off(t.ns)})),c={},u={},l=0,o=!1,(0,r.$)("#bpbm-context-menu-layer, .bpbm-context-menu-list").remove();break;case"html5":(!r.$.support.htmlCommand&&!r.$.support.htmlMenuitem||"boolean"==typeof t&&t)&&(0,r.$)('menu[type="context"]').each((function(){this.id&&r.$.BPBMcontextMenu({selector:"[contextmenu="+this.id+"]",items:r.$.BPBMcontextMenu.fromMenu(this)})})).css("display","none");break;default:throw new Error('Unknown operation "'+e+'"')}return this},r.$.BPBMcontextMenu.setInputValues=function(e,t){void 0===t&&(t={}),r.$.each(e.inputs,(function(e,n){switch(n.type){case"text":case"textarea":n.value=t[e]||"";break;case"checkbox":n.selected=!!t[e];break;case"radio":n.selected=(t[n.radio]||"")===n.value;break;case"select":n.selected=t[e]||""}}))},r.$.BPBMcontextMenu.getInputValues=function(e,t){return void 0===t&&(t={}),r.$.each(e.inputs,(function(e,n){switch(n.type){case"text":case"textarea":case"select":t[e]=n.$input.val();break;case"checkbox":t[e]=n.$input.prop("checked");break;case"radio":n.$input.prop("checked")&&(t[n.radio]=n.value)}})),t},r.$.BPBMcontextMenu.fromMenu=function(e){var t={};return v(t,(0,r.$)(e).children()),t},r.$.BPBMcontextMenu.defaults=p,r.$.BPBMcontextMenu.types=d,r.$.BPBMcontextMenu.handle=h,r.$.BPBMcontextMenu.op=m,r.$.BPBMcontextMenu.menus=u},8695:(e,t,n)=>{"use strict";function i(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,l,"next",e)}function l(e){i(o,r,a,s,l,"throw",e)}s(void 0)}))}}n.r(t);var a=n(1002),o=n(7757),s=n.n(o),l=n(3334),c=n(3086),u=0,d={},p={},f=window.joypixels,h=[];function m(e){f?e():h.push(e)}var g,v,b,_="data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==",y=[].slice,w="bp-emojionearea",x=0;function k(e,t,n){var i=!0,r=1;if(t){t=t.toLowerCase();do{var a=1==r?"@"+t:t;d[e.id][a]&&d[e.id][a].length&&l.$.each(d[e.id][a],(function(t,r){return i=!1!==r.apply(e,n||[])}))}while(i&&r--)}return i}function $(e,t,n,i){i=i||function(e,t){return(0,l.$)(t.currentTarget)},l.$.each(n,(function(r,a){r=l.$.isArray(n)?a:r,(p[e.id][a]||(p[e.id][a]=[])).push([t,r,i])}))}function C(e,t,n){var i,r=f.imageType;i="svg"==r?f.imagePathSVG:f.imagePathPNG;var a="";n&&(a=n.substr(1,n.length-2).replace(/_/g," ").replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})));var o="";return t.uc_base&&x>4?(o=t.uc_base,t=t.uc_full.toUpperCase()):o=t,e=e.replace("{name}",n||"").replace("{friendlyName}",a).replace("{img}",i+(x<2?o.toUpperCase():o)+"."+r).replace("{uni}",t),n?e.replace("{alt}",f.shortnameToUnicode(n)):e.replace("{alt}",f.convert(t))}function T(e,t,n){return e.replace(/:?\+?[\w_\-]+:?/g,(function(e){e=":"+e.replace(/:$/,"").replace(/^:/,"")+":";var i=f.emojiList[e];if(void 0===i){var r=f.toShort(f.shortnameToUnicode(e));void 0!==r&&(i=f.emojiList[r])}return i?x>4?C(t,i,e):(x>3&&(i=i.unicode),C(t,i[i.length-1],e)):n?"":e}))}function O(e){var t,n;if(window.getSelection){if((t=window.getSelection()).getRangeAt&&t.rangeCount){(n=t.getRangeAt(0)).deleteContents();var i=document.createElement("div");i.innerHTML=e;for(var r,a,o=document.createDocumentFragment();r=i.firstChild;)a=o.appendChild(r);n.insertNode(o),a&&((n=n.cloneRange()).setStartAfter(a),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(e)}function S(){return window.joypixelsVersion||"3.1.2"}function A(e){return"object"===(0,a.Z)(e)}function P(e){var t;return e.cacheBustParam?(t=e.cacheBustParam,A(e.jsEscapeMap)?"?v=1.2.4"===t?"2.0.0":"?v=2.0.1"===t?"2.1.0":"?v=2.1.1"===t?"2.1.1":"?v=2.1.2"===t?"2.1.2":"?v=2.1.3"===t?"2.1.3":"?v=2.1.4"===t?"2.1.4":"2.2.7":"1.5.2"):e.emojiVersion}function E(e){switch(e){case"1.5.2":return 0;case"2.0.0":return 1;case"2.1.0":case"2.1.1":return 2;case"2.1.2":return 3;case"2.1.3":case"2.1.4":case"2.2.7":return 4;case"3.0.1":case"3.0.2":case"3.0.3":case"3.0":return 5;default:return 6}}function j(){return new Promise(function(){var e=r(s().mark((function e(t,n){var i,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.$.fn.BPemojioneArea||!l.$.fn.BPemojioneArea.defaults){e.next=6;break}return e.next=3,l.$.fn.BPemojioneArea.defaults;case 3:return i=e.sent,t(i),e.abrupt("return");case 6:r={attributes:{dir:"ltr",spellcheck:!1,autocomplete:"off",autocorrect:"off",autocapitalize:"off"},search:!0,placeholder:null,emojiPlaceholder:":smiley:",searchPlaceholder:BP_Messages_Emoji.search,container:null,hideSource:!0,shortnames:!0,sprite:!0,pickerPosition:"top",filtersPosition:"top",searchPosition:"top",hidePickerOnBlur:!0,buttonTitle:BP_Messages_Emoji.tab,tones:!0,tonesStyle:"bullet",inline:null,saveEmojisAs:"unicode",shortcuts:!0,autocomplete:!0,autocompleteTones:!1,standalone:!1,useInternalCDN:!0,imageType:"png",recentEmojis:!0,textcomplete:{maxCount:15,placement:null}},E(f?P(f):S()),r.filters={recent:{icon:"clock3",title:BP_Messages_Emoji.Recent,emoji:""},tones:{title:BP_Messages_Emoji.Diversity,emoji:"open_hands raised_hands palms_up_together clap pray thumbsup thumbsdown punch fist left_facing_fist right_facing_fist fingers_crossed v metal love_you_gesture ok_hand point_left point_right point_up_2 point_down point_up raised_hand raised_back_of_hand hand_splayed vulcan wave call_me muscle middle_finger writing_hand selfie nail_care ear nose baby boy girl man woman blond-haired_woman blond-haired_man older_man older_woman man_with_chinese_cap woman_wearing_turban man_wearing_turban woman_police_officer man_police_officer woman_construction_worker man_construction_worker woman_guard man_guard woman_detective man_detective woman_health_worker man_health_worker woman_farmer man_farmer woman_cook man_cook woman_student man_student woman_singer man_singer woman_teacher man_teacher woman_factory_worker man_factory_worker woman_technologist man_technologist woman_office_worker man_office_worker woman_mechanic man_mechanic woman_scientist man_scientist woman_artist man_artist woman_firefighter man_firefighter woman_pilot man_pilot woman_astronaut man_astronaut woman_judge man_judge mrs_claus santa princess prince bride_with_veil man_in_tuxedo angel pregnant_woman breast_feeding woman_bowing man_bowing man_tipping_hand woman_tipping_hand man_gesturing_no woman_gesturing_no man_gesturing_ok woman_gesturing_ok man_raising_hand woman_raising_hand woman_facepalming man_facepalming woman_shrugging man_shrugging man_pouting woman_pouting man_frowning woman_frowning man_getting_haircut woman_getting_haircut man_getting_face_massage woman_getting_face_massage man_in_business_suit_levitating dancer man_dancing woman_walking man_walking woman_running man_running adult child older_adult bearded_person woman_with_headscarf woman_mage man_mage woman_fairy man_fairy woman_vampire man_vampire mermaid merman woman_elf man_elf snowboarder woman_lifting_weights man_lifting_weights woman_cartwheeling man_cartwheeling woman_bouncing_ball man_bouncing_ball woman_playing_handball man_playing_handball woman_golfing man_golfing woman_surfing man_surfing woman_swimming man_swimming woman_playing_water_polo man_playing_water_polo woman_rowing_boat man_rowing_boat horse_racing woman_biking man_biking woman_mountain_biking man_mountain_biking woman_juggling man_juggling woman_in_steamy_room man_in_steamy_room woman_climbing man_climbing woman_in_lotus_position man_in_lotus_position bath person_in_bed"},people:{icon:"yum",title:BP_Messages_Emoji["Smileys & People"],emoji:"grinning smiley smile grin laughing sweat_smile joy rofl relaxed blush innocent slight_smile upside_down wink relieved crazy_face star_struck heart_eyes kissing_heart kissing kissing_smiling_eyes kissing_closed_eyes yum stuck_out_tongue_winking_eye stuck_out_tongue_closed_eyes stuck_out_tongue money_mouth hugging nerd sunglasses cowboy smirk unamused disappointed pensive worried face_with_raised_eyebrow face_with_monocle confused slight_frown frowning2 persevere confounded tired_face weary triumph angry rage face_with_symbols_over_mouth no_mouth neutral_face expressionless hushed frowning anguished open_mouth astonished dizzy_face exploding_head flushed scream fearful cold_sweat cry disappointed_relieved drooling_face sob sweat sleepy sleeping rolling_eyes thinking shushing_face face_with_hand_over_mouth lying_face grimacing zipper_mouth face_vomiting nauseated_face sneezing_face mask thermometer_face head_bandage smiling_imp imp japanese_ogre japanese_goblin poop ghost skull skull_crossbones alien space_invader robot jack_o_lantern clown smiley_cat smile_cat joy_cat heart_eyes_cat smirk_cat kissing_cat scream_cat crying_cat_face pouting_cat open_hands raised_hands palms_up_together clap pray handshake thumbsup thumbsdown punch fist left_facing_fist right_facing_fist fingers_crossed v metal love_you_gesture ok_hand point_left point_right point_up_2 point_down point_up raised_hand raised_back_of_hand hand_splayed vulcan wave call_me muscle middle_finger writing_hand selfie nail_care ring lipstick kiss lips tongue ear nose footprints eye eyes speaking_head bust_in_silhouette busts_in_silhouette baby boy girl man woman blond-haired_woman blond_haired_man older_man older_woman man_with_chinese_cap woman_wearing_turban man_wearing_turban woman_police_officer police_officer woman_construction_worker construction_worker woman_guard guard woman_detective detective woman_health_worker man_health_worker woman_farmer man_farmer woman_cook man_cook woman_student man_student woman_singer man_singer woman_teacher man_teacher woman_factory_worker man_factory_worker woman_technologist man_technologist woman_office_worker man_office_worker woman_mechanic man_mechanic woman_scientist man_scientist woman_artist man_artist woman_firefighter man_firefighter woman_pilot man_pilot woman_astronaut man_astronaut woman_judge man_judge mrs_claus santa princess prince bride_with_veil man_in_tuxedo angel pregnant_woman breast_feeding woman_bowing man_bowing woman_tipping_hand man_tipping_hand woman_gesturing_no man_gesturing_no woman_gesturing_ok man_gesturing_ok woman_raising_hand man_raising_hand woman_facepalming man_facepalming woman_shrugging man_shrugging woman_pouting man_pouting woman_frowning man_frowning woman_getting_haircut man_getting_haircut woman_getting_face_massage man_getting_face_massage man_in_business_suit_levitating dancer man_dancing women_with_bunny_ears_partying men_with_bunny_ears_partying woman_walking man_walking woman_running man_running couple two_women_holding_hands two_men_holding_hands couple_with_heart couple_ww couple_mm couplekiss kiss_ww kiss_mm family family_mwg family_mwgb family_mwbb family_mwgg family_wwb family_wwg family_wwgb family_wwbb family_wwgg family_mmb family_mmg family_mmgb family_mmbb family_mmgg family_woman_boy family_woman_girl family_woman_girl_boy family_woman_boy_boy family_woman_girl_girl family_man_boy family_man_girl family_man_girl_boy family_man_boy_boy family_man_girl_girl bearded_person woman_with_headscarf woman_mage man_mage woman_fairy man_fairy woman_vampire man_vampire mermaid merman woman_elf man_elf woman_genie man_genie woman_zombie man_zombie womans_clothes shirt jeans necktie dress bikini kimono high_heel sandal boot mans_shoe athletic_shoe womans_hat tophat mortar_board crown helmet_with_cross school_satchel pouch purse handbag briefcase eyeglasses dark_sunglasses closed_umbrella umbrella2 brain billed_cap scarf gloves coat socks "},nature:{icon:"hamster",title:BP_Messages_Emoji["Animals & Nature"],emoji:"dog cat mouse hamster rabbit fox bear panda_face koala tiger lion_face cow pig pig_nose frog monkey_face see_no_evil hear_no_evil speak_no_evil monkey chicken penguin bird baby_chick hatching_chick hatched_chick duck eagle owl bat wolf boar horse unicorn bee bug butterfly snail shell beetle ant spider spider_web turtle snake lizard scorpion crab squid octopus shrimp tropical_fish fish blowfish dolphin shark whale whale2 crocodile leopard tiger2 water_buffalo ox cow2 deer dromedary_camel camel elephant rhino gorilla racehorse pig2 goat ram sheep dog2 poodle cat2 rooster turkey dove rabbit2 mouse2 rat chipmunk dragon giraffe zebra hedgehog sauropod t_rex cricket dragon_face feet cactus christmas_tree evergreen_tree deciduous_tree palm_tree seedling herb shamrock four_leaf_clover bamboo tanabata_tree leaves fallen_leaf maple_leaf mushroom ear_of_rice bouquet tulip rose wilted_rose sunflower blossom cherry_blossom hibiscus earth_americas earth_africa earth_asia full_moon waning_gibbous_moon last_quarter_moon waning_crescent_moon new_moon waxing_crescent_moon first_quarter_moon waxing_gibbous_moon new_moon_with_face full_moon_with_face sun_with_face first_quarter_moon_with_face last_quarter_moon_with_face crescent_moon dizzy star star2 sparkles zap fire boom comet sunny white_sun_small_cloud partly_sunny white_sun_cloud white_sun_rain_cloud rainbow cloud cloud_rain thunder_cloud_rain cloud_lightning cloud_snow snowman2 snowman snowflake wind_blowing_face dash cloud_tornado fog ocean droplet sweat_drops umbrella "},food:{icon:"pizza",title:BP_Messages_Emoji["Food & Drink"],emoji:"green_apple apple pear tangerine lemon banana watermelon grapes strawberry melon cherries peach pineapple kiwi avocado tomato eggplant cucumber carrot corn hot_pepper potato sweet_potato chestnut peanuts honey_pot croissant bread french_bread cheese egg cooking bacon pancakes fried_shrimp poultry_leg meat_on_bone pizza hotdog hamburger fries stuffed_flatbread taco burrito salad shallow_pan_of_food spaghetti ramen stew fish_cake sushi bento curry rice_ball rice rice_cracker oden dango shaved_ice ice_cream icecream cake birthday custard lollipop candy chocolate_bar popcorn doughnut cookie milk baby_bottle coffee tea sake beer beers champagne_glass wine_glass tumbler_glass cocktail tropical_drink champagne spoon fork_and_knife fork_knife_plate dumpling fortune_cookie takeout_box chopsticks bowl_with_spoon cup_with_straw coconut broccoli pie pretzel cut_of_meat sandwich canned_food"},activity:{icon:"basketball",title:BP_Messages_Emoji.Activity,emoji:"soccer basketball football baseball tennis volleyball rugby_football 8ball ping_pong badminton goal hockey field_hockey cricket_game golf bow_and_arrow fishing_pole_and_fish boxing_glove martial_arts_uniform ice_skate ski skier snowboarder woman_lifting_weights man_lifting_weights person_fencing women_wrestling men_wrestling woman_cartwheeling man_cartwheeling woman_bouncing_ball man_bouncing_ball woman_playing_handball man_playing_handball woman_golfing man_golfing woman_surfing man_surfing woman_swimming man_swimming woman_playing_water_polo man_playing_water_polo woman_rowing_boat man_rowing_boat horse_racing woman_biking man_biking woman_mountain_biking man_mountain_biking woman_in_steamy_room man_in_steamy_room woman_climbing man_climbing woman_in_lotus_position man_in_lotus_position running_shirt_with_sash medal military_medal first_place second_place third_place trophy rosette reminder_ribbon ticket tickets circus_tent woman_juggling man_juggling performing_arts art clapper microphone headphones musical_score musical_keyboard drum saxophone trumpet guitar violin game_die dart bowling video_game slot_machine sled curling_stone "},travel:{icon:"rocket",title:BP_Messages_Emoji["Travel & Places"],emoji:"red_car taxi blue_car bus trolleybus race_car police_car ambulance fire_engine minibus truck articulated_lorry tractor scooter bike motor_scooter motorcycle rotating_light oncoming_police_car oncoming_bus oncoming_automobile oncoming_taxi aerial_tramway mountain_cableway suspension_railway railway_car train mountain_railway monorail bullettrain_side bullettrain_front light_rail steam_locomotive train2 metro tram station helicopter airplane_small airplane airplane_departure airplane_arriving rocket satellite_orbital seat canoe sailboat motorboat speedboat cruise_ship ferry ship anchor construction fuelpump busstop vertical_traffic_light traffic_light map moyai statue_of_liberty fountain tokyo_tower european_castle japanese_castle stadium ferris_wheel roller_coaster carousel_horse beach_umbrella beach island mountain mountain_snow mount_fuji volcano desert camping tent railway_track motorway construction_site factory house house_with_garden homes house_abandoned office department_store post_office european_post_office hospital bank hotel convenience_store school love_hotel wedding classical_building church mosque synagogue kaaba shinto_shrine japan rice_scene park sunrise sunrise_over_mountains stars sparkler fireworks city_sunset city_dusk cityscape night_with_stars milky_way bridge_at_night foggy flying_saucer"},objects:{icon:"bulb",title:BP_Messages_Emoji.Objects,emoji:"watch iphone calling computer keyboard desktop printer mouse_three_button trackball joystick compression minidisc floppy_disk cd dvd vhs camera camera_with_flash video_camera movie_camera projector film_frames telephone_receiver telephone pager fax tv radio microphone2 level_slider control_knobs stopwatch timer alarm_clock clock hourglass hourglass_flowing_sand satellite battery electric_plug bulb flashlight candle wastebasket oil money_with_wings dollar yen euro pound moneybag credit_card gem scales wrench hammer hammer_pick tools pick nut_and_bolt gear chains gun bomb knife dagger crossed_swords shield smoking coffin urn amphora crystal_ball prayer_beads barber alembic telescope microscope hole pill syringe thermometer toilet potable_water shower bathtub bath bellhop key key2 door couch bed sleeping_accommodation frame_photo shopping_bags shopping_cart gift balloon flags ribbon confetti_ball tada dolls izakaya_lantern wind_chime envelope envelope_with_arrow incoming_envelope e-mail love_letter inbox_tray outbox_tray package label mailbox_closed mailbox mailbox_with_mail mailbox_with_no_mail postbox postal_horn scroll page_with_curl page_facing_up bookmark_tabs bar_chart chart_with_upwards_trend chart_with_downwards_trend notepad_spiral calendar_spiral calendar date card_index card_box ballot_box file_cabinet clipboard file_folder open_file_folder dividers newspaper2 newspaper notebook notebook_with_decorative_cover ledger closed_book green_book blue_book orange_book books book bookmark link paperclip paperclips triangular_ruler straight_ruler pushpin round_pushpin scissors pen_ballpoint pen_fountain black_nib paintbrush crayon pencil pencil2 mag mag_right lock_with_ink_pen closed_lock_with_key lock unlock"},symbols:{icon:"heartpulse",title:BP_Messages_Emoji.Symbols,emoji:"heart orange_heart yellow_heart green_heart blue_heart purple_heart black_heart broken_heart heart_exclamation two_hearts revolving_hearts heartbeat heartpulse sparkling_heart cupid gift_heart heart_decoration peace cross star_and_crescent om_symbol wheel_of_dharma star_of_david six_pointed_star menorah yin_yang orthodox_cross place_of_worship ophiuchus aries taurus gemini cancer leo virgo libra scorpius sagittarius capricorn aquarius pisces id atom accept radioactive biohazard mobile_phone_off vibration_mode u6709 u7121 u7533 u55b6 u6708 eight_pointed_black_star vs white_flower ideograph_advantage secret congratulations u5408 u6e80 u5272 u7981 a b ab cl o2 sos x o octagonal_sign no_entry name_badge no_entry_sign 100 anger hotsprings no_pedestrians do_not_litter no_bicycles non-potable_water underage no_mobile_phones no_smoking exclamation grey_exclamation question grey_question bangbang interrobang low_brightness high_brightness part_alternation_mark warning children_crossing trident fleur-de-lis beginner recycle white_check_mark u6307 chart sparkle eight_spoked_asterisk negative_squared_cross_mark globe_with_meridians diamond_shape_with_a_dot_inside m cyclone zzz atm wc wheelchair parking u7a7a sa passport_control customs baggage_claim left_luggage mens womens baby_symbol restroom put_litter_in_its_place cinema signal_strength koko symbols information_source abc abcd capital_abcd ng ok up cool new free zero one two three four five six seven eight nine keycap_ten 1234 hash asterisk arrow_forward pause_button play_pause stop_button record_button eject track_next track_previous fast_forward rewind arrow_double_up arrow_double_down arrow_backward arrow_up_small arrow_down_small arrow_right arrow_left arrow_up arrow_down arrow_upper_right arrow_lower_right arrow_lower_left arrow_upper_left arrow_up_down left_right_arrow arrow_right_hook leftwards_arrow_with_hook arrow_heading_up arrow_heading_down twisted_rightwards_arrows repeat repeat_one arrows_counterclockwise arrows_clockwise musical_note notes heavy_plus_sign heavy_minus_sign heavy_division_sign heavy_multiplication_x heavy_dollar_sign currency_exchange tm copyright registered wavy_dash curly_loop loop end back on top soon heavy_check_mark ballot_box_with_check radio_button white_circle black_circle red_circle blue_circle small_red_triangle small_red_triangle_down small_orange_diamond small_blue_diamond large_orange_diamond large_blue_diamond white_square_button black_square_button black_small_square white_small_square black_medium_small_square white_medium_small_square black_medium_square white_medium_square black_large_square white_large_square speaker mute sound loud_sound bell no_bell mega loudspeaker speech_left eye_in_speech_bubble speech_balloon thought_balloon anger_right spades clubs hearts diamonds black_joker flower_playing_cards mahjong clock1 clock2 clock3 clock4 clock5 clock6 clock7 clock8 clock9 clock10 clock11 clock12 clock130 clock230 clock330 clock430 clock530 clock630 clock730 clock830 clock930 clock1030 clock1130 clock1230"},flags:{icon:"flag_gb",title:BP_Messages_Emoji.Flags,emoji:"flag_white flag_black checkered_flag triangular_flag_on_post rainbow_flag flag_af flag_ax flag_al flag_dz flag_as flag_ad flag_ao flag_ai flag_aq flag_ag flag_ar flag_am flag_aw flag_au flag_at flag_az flag_bs flag_bh flag_bd flag_bb flag_by flag_be flag_bz flag_bj flag_bm flag_bt flag_bo flag_ba flag_bw flag_br flag_io flag_vg flag_bn flag_bg flag_bf flag_bi flag_kh flag_cm flag_ca flag_ic flag_cv flag_bq flag_ky flag_cf flag_td flag_cl flag_cn flag_cx flag_cc flag_co flag_km flag_cg flag_cd flag_ck flag_cr flag_ci flag_hr flag_cu flag_cw flag_cy flag_cz flag_dk flag_dj flag_dm flag_do flag_ec flag_eg flag_sv flag_gq flag_er flag_ee flag_et flag_eu flag_fk flag_fo flag_fj flag_fi flag_fr flag_gf flag_pf flag_tf flag_ga flag_gm flag_ge flag_de flag_gh flag_gi flag_gr flag_gl flag_gd flag_gp flag_gu flag_gt flag_gg flag_gn flag_gw flag_gy flag_ht flag_hn flag_hk flag_hu flag_is flag_in flag_id flag_ir flag_iq flag_ie flag_im flag_il flag_it flag_jm flag_jp crossed_flags flag_je flag_jo flag_kz flag_ke flag_ki flag_xk flag_kw flag_kg flag_la flag_lv flag_lb flag_ls flag_lr flag_ly flag_li flag_lt flag_lu flag_mo flag_mk flag_mg flag_mw flag_my flag_mv flag_ml flag_mt flag_mh flag_mq flag_mr flag_mu flag_yt flag_mx flag_fm flag_md flag_mc flag_mn flag_me flag_ms flag_ma flag_mz flag_mm flag_na flag_nr flag_np flag_nl flag_nc flag_nz flag_ni flag_ne flag_ng flag_nu flag_nf flag_kp flag_mp flag_no flag_om flag_pk flag_pw flag_ps flag_pa flag_pg flag_py flag_pe flag_ph flag_pn flag_pl flag_pt flag_pr flag_qa flag_re flag_ro flag_ru flag_rw flag_ws flag_sm flag_st flag_sa flag_sn flag_rs flag_sc flag_sl flag_sg flag_sx flag_sk flag_si flag_gs flag_sb flag_so flag_za flag_kr flag_ss flag_es flag_lk flag_bl flag_sh flag_kn flag_lc flag_pm flag_vc flag_sd flag_sr flag_sz flag_se flag_ch flag_sy flag_tw flag_tj flag_tz flag_th flag_tl flag_tg flag_tk flag_to flag_tt flag_tn flag_tr flag_tm flag_tc flag_tv flag_vi flag_ug flag_ua flag_ae flag_gb flag_us flag_uy flag_uz flag_vu flag_va flag_ve flag_vn flag_wf flag_eh flag_ye flag_zm flag_zw flag_ac flag_ta flag_bv flag_hm flag_sj flag_um flag_ea flag_cp flag_dg flag_mf united_nations england scotland wales"}},(a=l.h.get("better-messages-emojies")||!1)&&void 0!==a.hash&&BP_Messages.emojiHash===a.hash?(void 0!==a.emojies.people&&(r.filters.people={icon:"yum",title:BP_Messages_Emoji["Smileys & People"],emoji:a.emojies.people.join(" ")}),void 0!==a.emojies.nature&&(r.filters.nature={icon:"hamster",title:BP_Messages_Emoji["Animals & Nature"],emoji:a.emojies.nature.join(" ")}),void 0!==a.emojies.food&&(r.filters.food={icon:"pizza",title:BP_Messages_Emoji["Food & Drink"],emoji:a.emojies.food.join(" ")}),void 0!==a.emojies.activity&&(r.filters.activity={icon:"basketball",title:BP_Messages_Emoji.Activity,emoji:a.emojies.activity.join(" ")}),void 0!==a.emojies.travel&&(r.filters.travel={icon:"rocket",title:BP_Messages_Emoji["Travel & Places"],emoji:a.emojies.travel.join(" ")}),void 0!==a.emojies.objects&&(r.filters.objects={icon:"bulb",title:BP_Messages_Emoji.Objects,emoji:a.emojies.objects.join(" ")}),void 0!==a.emojies.symbols&&(r.filters.symbols={icon:"heartpulse",title:BP_Messages_Emoji.Symbols,emoji:a.emojies.symbols.join(" ")}),void 0!==a.emojies.flags&&(r.filters.flags={icon:"flag_gb",title:BP_Messages_Emoji.Flags,emoji:a.emojies.flags.join(" ")}),t(r)):jQuery.ajax({type:"POST",url:BP_Messages.ajaxUrl,data:{action:"better_messages_get_emoji_settings"},success:function(e){void 0!==e.emojies.people&&(r.filters.people={icon:"yum",title:BP_Messages_Emoji["Smileys & People"],emoji:e.emojies.people.join(" ")}),void 0!==e.emojies.nature&&(r.filters.nature={icon:"hamster",title:BP_Messages_Emoji["Animals & Nature"],emoji:e.emojies.nature.join(" ")}),void 0!==e.emojies.food&&(r.filters.food={icon:"pizza",title:BP_Messages_Emoji["Food & Drink"],emoji:e.emojies.food.join(" ")}),void 0!==e.emojies.activity&&(r.filters.activity={icon:"basketball",title:BP_Messages_Emoji.Activity,emoji:e.emojies.activity.join(" ")}),void 0!==e.emojies.travel&&(r.filters.travel={icon:"rocket",title:BP_Messages_Emoji["Travel & Places"],emoji:e.emojies.travel.join(" ")}),void 0!==e.emojies.objects&&(r.filters.objects={icon:"bulb",title:BP_Messages_Emoji.Objects,emoji:e.emojies.objects.join(" ")}),void 0!==e.emojies.symbols&&(r.filters.symbols={icon:"heartpulse",title:BP_Messages_Emoji.Symbols,emoji:e.emojies.symbols.join(" ")}),void 0!==e.emojies.flags&&(r.filters.flags={icon:"flag_gb",title:BP_Messages_Emoji.Flags,emoji:e.emojies.flags.join(" ")}),void 0!==e.hash&&l.h.set("better-messages-emojies",e),t(r)},dataType:"json"}).always((function(){t(r)}));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}function M(e){return B.apply(this,arguments)}function B(){return(B=r(s().mark((function e(t){var n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return n=e.sent,t&&t.filters&&(i=n.filters,l.$.each(t.filters,(function(e,t){A(t)&&!l.$.isEmptyObject(t)?l.$.each(t,(function(t,n){i[e][t]=n})):delete i[e]})),t.filters=i),e.abrupt("return",l.$.extend({},n,t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return e}function R(e,t){switch(e=e.replace(/&#10;/g,"\n").replace(/&#09;/g,"\t").replace(/<img[^>]*alt="([^"]+)"[^>]*>/gi,"$1").replace(/\n|\r/g,"").replace(/<br[^>]*>/gi,"\n").replace(/(?:<(?:div|p|ol|ul|li|pre|code|object)[^>]*>)+/gi,"<div>").replace(/(?:<\/(?:div|p|ol|ul|li|pre|code|object)>)+/gi,"</div>").replace(/\n<div><\/div>/gi,"\n").replace(/<div><\/div>\n/gi,"\n").replace(/(?:<div>)+<\/div>/gi,"\n").replace(/([^\n])<\/div><div>/gi,"$1\n").replace(/(?:<\/div>)+/gi,"</div>").replace(/([^\n])<\/div>([^\n])/gi,"$1\n$2").replace(/<\/div>/gi,"").replace(/([^\n])<div>/gi,"$1\n").replace(/\n<div>/gi,"\n").replace(/<div>\n/gi,"\n\n").replace(/<(?:[^>]+)?>/g,"").replace(new RegExp("&#8203;","g"),"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x60;/g,"`").replace(/&#60;/g,"<").replace(/&#62;/g,">").replace(/&amp;/g,"&"),t.saveEmojisAs){case"image":e=function(e,t){return e.replace(b,(function(e){var n=f[0===x?"jsecapeMap":"jsEscapeMap"];return void 0!==e&&e in n?C(t,n[e],f.toShort(e)):e}))}(e,t.emojiTemplate);break;case"shortname":e=f.toShort(e)}return e}function D(){var e=this,t=e.editor[0].offsetWidth-e.editor[0].clientWidth,n=parseInt(e.button.css("marginRight"));n!==t&&(e.button.css({marginRight:t}),e.floatingPicker&&e.picker.css({right:parseInt(e.picker.css("right"))-n+t}))}function L(){var e=this;if(!e.sprite&&e.lasyEmoji[0]&&e.lasyEmoji.eq(0).is(".lazy-emoji")){var t=e.picker.offset().top,n=t+e.picker.height()+20;e.lasyEmoji.each((function(){var e=(0,l.$)(this),i=e.offset().top;if(i>t&&i<n&&e.attr("src",e.data("src")).removeClass("lazy-emoji"),i>n)return!1})),e.lasyEmoji=e.lasyEmoji.filter(".lazy-emoji")}}function z(e,t){return(t?"":".")+w+(e?"-"+e:"")}function N(e){var t=(0,l.$)("<div/>",A(e)?e:{class:z(e,!0)});return l.$.each(y.call(arguments).slice(1),(function(e,n){l.$.isFunction(n)&&(n=n.call(t)),n&&(0,l.$)(n).appendTo(t)})),t}function H(){return localStorage.getItem("recent_emojis")||""}function F(e,t){var n=H();if(!e.recent||e.recent!==n||t){if(n.length){var i,r,a=e.scrollArea.is(".skinnable");a||(i=e.scrollArea.scrollTop(),t&&e.recentCategory.show(),r=e.recentCategory.is(":visible")?e.recentCategory.height():0);var o=T(n,e.emojiBtnTemplate,!0).split("|").join("");if(e.recentCategory.children(".emojibtn").remove(),(0,l.$)(o).insertAfter(e.recentCategory.children(".bp-emojionearea-category-title")),e.recentCategory.children(".emojibtn").on("click",(function(){e.trigger("emojibtn.click",(0,l.$)(this))})),e.recentFilter.show(),!a){e.recentCategory.show();var s=e.recentCategory.height();r!==s&&e.scrollArea.scrollTop(i+s-r)}}else e.recentFilter.hasClass("active")&&e.recentFilter.removeClass("active").next().addClass("active"),e.recentCategory.hide(),e.recentFilter.hide();e.recent=n}}function W(e,t){var n=H().split("|"),i=n.indexOf(t);-1!==i&&n.splice(i,1),n.unshift(t),n.length>9&&n.pop(),localStorage.setItem("recent_emojis",n.join("|")),F(e)}function q(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function U(){return(U=r(s().mark((function e(t,n,i){var r,a,o,u,d,p,h,m,b,y,C,S,P,E,j,B,U,V,G,K;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(i);case 2:t.options=i=e.sent,t.sprite=i.sprite&&x<3,t.inline=null===i.inline?n.is("INPUT"):i.inline,t.shortnames=i.shortnames,t.saveEmojisAs=i.saveEmojisAs,t.standalone=i.standalone,t.emojiTemplate='<img alt="{alt}" class="emojione'+(t.sprite?'-{uni}" src="'+_+'"/>':'emoji" src="{img}"/>'),t.emojiTemplateAlt=t.sprite?'<i class="emojibtn-{uni}"/>':'<img class="emojioneemoji" src="{img}"/>',t.emojiBtnTemplate='<i class="emojibtn" role="button" data-name="{name}" title="{friendlyName}">'+t.emojiTemplateAlt+"</i>",t.recentEmojis=i.recentEmojis&&q(),r=i.pickerPosition,t.floatingPicker="top"===r||"bottom"===r,t.source=n,(n.is(":disabled")||n.is(".disabled"))&&t.disable(),a=!1,n.is("#message-input")?(o=n.is("TEXTAREA")||n.is("INPUT")?"val":"text",E=N("tones",i.tones?function(){this.addClass(z("tones-"+i.tonesStyle,!0));for(var e=0;e<=5;e++)this.append((0,l.$)("<i/>",{class:"btn-tone btn-tone-"+e+(e?"":" active"),"data-skin":e,role:"button"}))}:null),j=N({class:w+(t.standalone?" "+w+"-standalone ":" ")+(n.attr("class")||""),role:"application"},u=t.editor=N("editor").attr({contenteditable:!t.standalone,placeholder:i.placeholder||n.data("placeholder")||n.attr("placeholder")||"",tabindex:4}),d=t.button=N("button",N("button-open"),N("button-close")).attr("title",i.buttonTitle)),a=N({role:"application",class:"bm-picker-div-app"},p=t.picker=N("picker",N("wrapper",h=N("filters"),i.search?b=N("search-panel",N("search",i.search?function(){t.search=(0,l.$)("<input/>",{placeholder:i.searchPlaceholder||"",type:"text",class:"search"}),this.append(t.search)}:null),E):null,P=N("scroll-area",i.tones&&!i.search?N("tones-panel",E):null,y=N("emojis-list")))).addClass(z("picker-position-"+i.pickerPosition,!0)).addClass(z("filters-position-"+i.filtersPosition,!0)).addClass(z("search-position-"+i.searchPosition,!0)).addClass("hidden"))):(o=n.is("TEXTAREA")||n.is("INPUT")?"val":"text",E=N("tones",i.tones?function(){this.addClass(z("tones-"+i.tonesStyle,!0));for(var e=0;e<=5;e++)this.append((0,l.$)("<i/>",{class:"btn-tone btn-tone-"+e+(e?"":" active"),"data-skin":e,role:"button"}))}:null),j=N({class:w+(t.standalone?" "+w+"-standalone ":" ")+(n.attr("class")||""),role:"application"},u=t.editor=N("editor").attr({contenteditable:!t.standalone,placeholder:i.placeholder||n.data("placeholder")||n.attr("placeholder")||"",tabindex:4}),d=t.button=N("button",N("button-open"),N("button-close")).attr("title",i.buttonTitle),p=t.picker=N("picker",N("wrapper",h=N("filters"),i.search?b=N("search-panel",N("search",i.search?function(){t.search=(0,l.$)("<input/>",{placeholder:i.searchPlaceholder||"",type:"text",class:"search"}),this.append(t.search)}:null),E):null,P=N("scroll-area",i.tones&&!i.search?N("tones-panel",E):null,y=N("emojis-list")))).addClass(z("picker-position-"+i.pickerPosition,!0)).addClass(z("filters-position-"+i.filtersPosition,!0)).addClass(z("search-position-"+i.searchPosition,!0)).addClass("hidden"))),i.search&&b.addClass(z("with-search",!0)),t.searchSel=null,u.data(n.data()),l.$.each(i.attributes,(function(e,t){u.attr(e,t)})),B=N("category-block").attr({"data-tone":0}).prependTo(y),l.$.each(i.filters,(function(e,n){var r=0;if("recent"!==e||t.recentEmojis){if("tones"!==e)(0,l.$)("<i/>",{class:z("filter",!0)+" "+z("filter-"+e,!0),"data-filter":e,title:n.title}).wrapInner(T(n.icon,t.emojiTemplateAlt)).appendTo(h);else{if(!i.tones)return;r=5}do{var a,o=n.emoji.replace(/[\s,;]+/g,"|");a=0===r?N("category").attr({name:e,"data-tone":r}).appendTo(B):N("category-block").attr({name:e,"data-tone":r}).appendTo(y),r>0&&(a.hide(),o=o.split("|").join("_tone"+r+"|")+"_tone"+r),"recent"===e&&(o=H()),o=T(o,t.sprite?'<i class="emojibtn" role="button" data-name="{name}" title="{friendlyName}"><i class="emojione-{uni}"></i></i>':'<i class="emojibtn" role="button" data-name="{name}" title="{friendlyName}"><img class="emojioneemoji lazy-emoji" data-src="{img}"/></i>',!0).split("|").join(""),a.html(o),(0,l.$)('<div class="bp-emojionearea-category-title"/>').text(n.title).prependTo(a)}while(--r>0)}})),i.filters=null,t.sprite||(t.lasyEmoji=y.find(".lazy-emoji")),(m=h.find(z("filter"))).eq(0).addClass("active"),S=y.find(z("category-block")),C=y.find(z("category")),t.recentFilter=m.filter('[data-filter="recent"]'),t.recentCategory=C.filter("[name=recent]"),t.scrollArea=P,i.container?(0,l.$)(i.container).wrapInner(j):(j.insertAfter(n),!1!==a&&(a.insertAfter(n.closest(".new-message").parent()),c.fi(t.button[0],a[0],{placement:"top-end"}))),i.hideSource&&n.hide(),t.setText(n[o]()),n[o](t.getText()),D.apply(t),t.standalone&&!t.getText().length&&(U=(0,l.$)(n).data("emoji-placeholder")||i.emojiPlaceholder,t.setText(U),u.addClass("has-placeholder")),$(t,y.find(".emojibtn"),{click:"emojibtn.click"}),$(t,window,{resize:"!resize"}),$(t,E.children(),{click:"tone.click"}),$(t,[p,d],{mousedown:"!mousedown"},u),$(t,d,{click:"button.click"}),$(t,u,{paste:"!paste"},u),$(t,u,["focus","blur"],(function(){return!t.stayFocused&&u})),$(t,p,{mousedown:"picker.mousedown",mouseup:"picker.mouseup",click:"picker.click",keyup:"picker.keyup",keydown:"picker.keydown",keypress:"picker.keypress"}),$(t,u,["mousedown","mouseup","click","keyup","keydown","keypress"]),$(t,p.find(".bp-emojionearea-filter"),{click:"filter.click"}),$(t,n,{change:"source.change"}),i.search&&$(t,t.search,{keyup:"search.keypress",focus:"search.focus",blur:"search.blur"}),V=!1,P.on("scroll",(function(){if(!V&&(L.call(t),P.is(":not(.skinnable)"))){var e=C.eq(0),n=P.offset().top;C.each((function(t,i){if((0,l.$)(i).offset().top-n>=10)return!1;e=(0,l.$)(i)}));var i=m.filter('[data-filter="'+e.attr("name")+'"]');i[0]&&!i.is(".active")&&(m.removeClass("active"),i.addClass("active"))}})),t.on("@filter.click",(function(e){var n=e.is(".active");if(P.is(".skinnable")){if(n)return;E.children().eq(0).click()}V=!0,n||(m.filter(".active").removeClass("active"),e.addClass("active"));var i=C.filter('[name="'+e.data("filter")+'"]').offset().top,r=P.scrollTop(),a=P.offset().top;P.stop().animate({scrollTop:i+r-a-2},200,"swing",(function(){L.call(t),V=!1}))})).on("@picker.show",(function(){t.recentEmojis&&F(t),L.call(t)})).on("@tone.click",(function(e){E.children().removeClass("active");var n=e.addClass("active").data("skin");n?(P.addClass("skinnable"),S.hide().filter("[data-tone="+n+"]").show(),m.removeClass("active")):(P.removeClass("skinnable"),S.hide().filter("[data-tone=0]").show(),m.eq(0).click()),L.call(t),i.search&&t.trigger("search.keypress")})).on("@button.click",(function(e){e.is(".active")?t.hidePicker():(t.showPicker(),t.searchSel=null)})).on("@!paste",(function(e,n){var i=function(n){var i="caret-"+(new Date).getTime(),r=I(n);O(r),O('<i id="'+i+'"></i>'),e.scrollTop(o);var a=(0,l.$)("#"+i),s=a.offset().top-e.offset().top,c=e.height();(o+s>=c||o>s)&&e.scrollTop(o+s-2*c/3),a.remove(),t.stayFocused=!1,D.apply(t),k(t,"paste",[e,n,r])};if(n.originalEvent.clipboardData){var r=n.originalEvent.clipboardData.getData("text/plain");return i(r),n.preventDefault?n.preventDefault():n.stop(),n.returnValue=!1,n.stopPropagation(),!1}t.stayFocused=!0,O("<span>&#8203;</span>");var a=g(e[0]),o=e.scrollTop(),s=(0,l.$)("<div/>",{contenteditable:!0}).css({position:"fixed",left:"-999px",width:"1px",height:"1px",top:"20px",overflow:"hidden"}).appendTo((0,l.$)("BODY")).focus();window.setTimeout((function(){e.focus(),v(e[0],a);var n=R(s.html().replace(/\r\n|\n|\r/g,"<br>"),t);s.remove(),i(n)}),200)})).on("@emojibtn.click",(function(e){u.removeClass("has-placeholder"),null!==t.searchSel&&(u.focus(),v(u[0],t.searchSel),t.searchSel=null),t.standalone?(u.html(T(e.data("name"),t.emojiTemplate)),t.trigger("blur")):(g(u[0]),O(T(e.data("name"),t.emojiTemplate))),t.recentEmojis&&W(t,e.data("name")),t.trigger("search.keypress")})).on("@!resize @keyup @emojibtn.click",D).on("@!mousedown",(function(e,n){return(0,l.$)(n.target).hasClass("search")?(t.stayFocused=!0,null===t.searchSel&&(t.searchSel=g(e[0]))):(j.is(".focused")||e.trigger("focus"),n.preventDefault()),!1})).on("@change",(function(){var e=t.editor.html(),i={},r=0,a='<span class="bm-medium-editor-mention-at';-1!==e.indexOf(a)&&(e=function e(t){r++;var n=t.indexOf(a),o=t.indexOf("</span>",n)+13,s=t.substring(n,o),l="%%%BM_MENTION_"+r+"%%%";return t=t.replace(s,l),i[l]=s,-1!==t.indexOf(a)&&(t=e(t)),t}(e)),e=e.replace(/<\/?(?:div|span)[^>]*>/gi,""),r>0&&jQuery.each(i,(function(t,n){e=e.replace(t,n)})),e.length&&!/^<br[^>]*>$/i.test(e)||t.editor.html(t.content=""),n[o](e)})).on("@source.change",(function(){})).on("@focus",(function(){j.addClass("focused")})).on("@blur",(function(){j.removeClass("focused"),i.hidePickerOnBlur&&t.hidePicker();var e=t.editor.html();(0,l.$)(event.relatedTarget).closest(".bpbm-medium-editor-toolbar").length>0||(t.content!==e?(t.content=e,k(t,"change",[t.editor]),n.trigger("blur").trigger("change")):n.trigger("blur"))})),i.search&&t.on("@search.focus",(function(){t.stayFocused=!0,t.search.addClass("focused")})).on("@search.keypress",(function(e){var n=p.find(".bp-emojionearea-filter"),r=i.tones?E.find("i.active").data("skin"):0,a=t.search.val().replace(/ /g,"_").replace(/"/g,'\\"');a&&a.length?(t.recentFilter.hasClass("active")&&t.recentFilter.removeClass("active").next().addClass("active"),t.recentCategory.hide(),t.recentFilter.hide(),S.each((function(){var e=function(e,t){var i=e.find('.emojibtn[data-name*="'+a+'"]');0===i.length?(e.data("tone")===t&&e.hide(),n.filter('[data-filter="'+e.attr("name")+'"]').hide()):(e.find('.emojibtn:not([data-name*="'+a+'"])').hide(),i.show(),e.data("tone")===t&&e.show(),n.filter('[data-filter="'+e.attr("name")+'"]').show())},t=(0,l.$)(this);0===t.data("tone")?C.filter(':not([name="recent"])').each((function(){e((0,l.$)(this),0)})):e(t,r)})),V?L.call(t):P.trigger("scroll")):(F(t,!0),S.filter('[data-tone="'+E.find("i.active").data("skin")+'"]:not([name="recent"])').show(),(0,l.$)(".emojibtn",S).show(),n.show(),L.call(t))})).on("@search.blur",(function(){t.stayFocused=!1,t.search.removeClass("focused"),t.trigger("blur")})),i.shortcuts&&t.on("@keydown",(function(e,n){n.ctrlKey||(9==n.which?(n.preventDefault(),d.click()):27==n.which&&(n.preventDefault(),d.is(".active")&&t.hidePicker()))})),A(i.events)&&!l.$.isEmptyObject(i.events)&&l.$.each(i.events,(function(e,n){t.on(e.replace(/_/g,"."),n)})),i.autocomplete&&(G=function(){var e={maxCount:i.textcomplete.maxCount,placement:i.textcomplete.placement};i.shortcuts&&(e.onKeydown=function(e,t){if(!e.ctrlKey&&13==e.which)return t.KEY_ENTER});var n=l.$.map(f.emojiList,(function(e,t){return i.autocompleteTones?t:/_tone[12345]/.test(t)?null:t}));n.sort(),u.textcomplete([{id:w,match:/\B(:[\-+\w]*)$/,search:function(e,t){t(l.$.map(n,(function(t){return 0===t.indexOf(e)?t:null})))},template:function(e){return T(e,t.emojiTemplate)+" "+e.replace(/:/g,"")},replace:function(e){return T(e,t.emojiTemplate)},cache:!0,index:1}],e),i.textcomplete.placement&&"static"==(0,l.$)(u.data("textComplete").option.appendTo).css("position")&&(0,l.$)(u.data("textComplete").option.appendTo).css("position","relative")},K=function(){t.disabled?t.on("enabled",(function e(){t.off("enabled",e),G()})):G()},l.$.fn.textcomplete?K():l.$.ajax({url:"https://cdn.rawgit.com/yuku-t/jquery-textcomplete/v1.3.4/dist/jquery.textcomplete.js",dataType:"script",cache:!0,success:K})),t.inline&&(j.addClass(z("inline",!0)),t.on("@keydown",(function(e,t){13==t.which&&t.preventDefault()}))),/firefox/i.test(navigator.userAgent)&&document.execCommand("enableObjectResizing",!1,!1),t.isReady=!0,t.trigger("onLoad",u),t.trigger("ready",u);case 63:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.getSelection&&document.createRange?(g=function(e){var t=window.getSelection&&window.getSelection();if(t&&t.rangeCount>0)return t.getRangeAt(0)},v=function(e,t){var n=document.createRange();n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),(t=window.getSelection()).removeAllRanges(),t.addRange(n)}):document.selection&&document.body.createTextRange&&(g=function(e){return document.selection.createRange()},v=function(e,t){var n=document.body.createTextRange();n.moveToElementText(e),n.setStart(t.startContanier,t.startOffset),n.setEnd(t.endContainer,t.endOffset),n.select()});var V={defaultBase:"https://cdnjs.cloudflare.com/ajax/libs/joypixels/",defaultBase3:"https://cdn.bpbettermessages.com/",base:"https://cdn.jsdelivr.test/",isLoading:!1};function G(e){return K.apply(this,arguments)}function K(){return(K=r(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S(),e.next=3,M(t);case 3:t=e.sent,V.isLoading||(n=P(f),x=E(n),V.base="https://cdn.bpbettermessages.com/emojies/6.6"),m((function(){var e="";t.useInternalCDN&&(x>4&&(e=f.emojiSize+"/"),f.imagePathPNG=V.base+"/png/unicode/"+e,f.imagePathSVG=V.base+"/svg/unicode/"+e,f.imagePathSVGSprites=V.base+"/sprites/joypixels.sprites.svg",f.imageType=t.imageType),E(n)>4?(b=f.regUnicode,f.imageType=t.imageType||"png"):b=new RegExp("<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|("+f.unicodeRegexp+")","gi")}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(e,t){var n=this;G(t),d[n.id=++u]={},p[n.id]={},m((function(){!function(e,t,n){U.apply(this,arguments)}(n,e,t)}))};X.prototype.on=function(e,t){if(e&&l.$.isFunction(t)){var n=this;l.$.each(e.toLowerCase().split(" "),(function(e,i){!function(e,t){t=t.replace(/^@/,"");var n=e.id;p[n][t]&&(l.$.each(p[n][t],(function(n,i){l.$.each(l.$.isArray(i[0])?i[0]:[i[0]],(function(n,r){(0,l.$)(r).on(i[1],(function(){var n=y.call(arguments),r=l.$.isFunction(i[2])?i[2].apply(e,[t].concat(n)):i[2];r&&k(e,t,[r].concat(n))}))}))})),p[n][t]=null)}(n,i),(d[n.id][i]||(d[n.id][i]=[])).push(t)}))}return this},X.prototype.off=function(e,t){if(e){var n=this.id;l.$.each(e.toLowerCase().replace(/_/g,".").split(" "),(function(e,i){d[n][i]&&!/^@/.test(i)&&(t?l.$.each(d[n][i],(function(e,r){r===t&&d[n][i].splice(e,1)})):d[n][i]=[])}))}return this},X.prototype.trigger=function(){var e=y.call(arguments),t=[this].concat(e.slice(0,1));return t.push(e.slice(1)),k.apply(this,t)},X.prototype.setFocus=function(){var e=this;return m((function(){e.editor.focus()})),e},X.prototype.setText=function(e){var t=this;return m((function(){t.editor.html(I(e)),t.content=t.editor.html(),k(t,"change",[t.editor]),D.apply(t)})),t},X.prototype.getText=function(){return R(this.editor.html(),this)},X.prototype.showPicker=function(){var e=this;return e._sh_timer&&window.clearTimeout(e._sh_timer),e.picker.removeClass("hidden"),e._sh_timer=window.setTimeout((function(){e.button.addClass("active")}),50),k(e,"picker.show",[e.picker]),e},X.prototype.hidePicker=function(){var e=this;return e._sh_timer&&window.clearTimeout(e._sh_timer),e.button.removeClass("active"),e.picker.addClass("hidden"),e._sh_timer=window.setTimeout((function(){}),500),k(e,"picker.hide",[e.picker]),e},X.prototype.enable=function(){var e=this,t=function(){e.disabled=!1,e.editor.prop("contenteditable",!0),e.button.show();var t=e[e.standalone?"button":"editor"];t.parent().removeClass("emojionearea-disable"),k(e,"enabled",[t])};return e.isReady?t():e.on("ready",t),e},X.prototype.disable=function(){var e=this;e.disabled=!0;var t=function(){e.editor.prop("contenteditable",!1),e.hidePicker(),e.button.hide();var t=e[e.standalone?"button":"editor"];t.parent().addClass("emojionearea-disable"),k(e,"disabled",[t])};return e.isReady?t():e.on("ready",t),e},l.$.fn.BPemojioneArea=function(e){return this.each((function(){return this.BPjoypixelsArea||l.$.data(this,"BPjoypixelsArea",this.BPemojioneArea=new X((0,l.$)(this),e)),this.BPjoypixelsArea}))},l.$.fn.BPemojioneArea.defaults=j(),l.$.fn.BPBMloadjoypixels=function(e){G(e)},l.$.fn.BPjoypixelsAreaText=function(){var e=r(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:return t=e.sent,n=this,!t||void 0===t.shortnames||t.shortnames,t&&t.sprite,G(t),m((function(){n.each((function(){var e=(0,l.$)(this);return e.hasClass("emojionearea-text")||e.addClass("emojionearea-text").html(I(e.is("TEXTAREA")||e.is("INPUT")?e.val():e.text())),e}))})),e.abrupt("return",this);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},8723:(e,t,n)=>{"use strict";n.r(t);var i,r,a=n(1002),o=n(3334);(i=function(e){var t;t={position:"bottom right",content:" ",delay:3e3,sticky:!1,inEffect:"fadeIn",outEffect:"fadeOut",theme:"default",themeTemplate:null,closeOnClick:!0,closeButton:!1,clearAll:!1,cssanimationIn:!1,cssanimationOut:!1,beforeStart:function(){},afterEnd:function(){},onClick:function(){},wrapper:".amaran-wrapper bp-messages-wrap"},this.config=o.$.extend({},t,e),this.config.beforeStart(),this.init(),this.close()}).prototype={init:function(){var e,t,n,i,s,l,c;c=null,n=this.config.position.split(" "),(0,o.$)(this.config.wrapper).length&&(0,o.$)(this.config.wrapper).hasClass(this.config.position)?s=(c=(0,o.$)(this.config.wrapper+"."+n[0]+"."+n[1])).find(".amaran-wrapper-inner"):(c=(0,o.$)("<div>",{class:this.config.wrapper.substr(1,this.config.wrapper.length)+" "+this.config.position}).appendTo("body"),s=(0,o.$)("<div>",{class:"amaran-wrapper-inner"}).appendTo(c)),"object"===(0,a.Z)(this.config.content)?l=null!=this.config.themeTemplate?this.config.themeTemplate(this.config.content):r[this.config.theme.split(" ")[0]+"Theme"](this.config.content):(this.config.content={},this.config.content.message=this.config.message,this.config.content.color="#27ae60",l=r.defaultTheme(this.config.content)),e={class:this.config.themeTemplate?"amaran "+this.config.content.themeName:this.config.theme&&!this.config.themeTemplate?"amaran "+this.config.theme:"amaran",html:this.config.closeButton?'<span class="amaran-close" data-amaran-close="true"><i class="fas fa-times" aria-hidden="true"></i></span>'+l:l},this.config.clearAll&&(0,o.$)(".amaran").remove(),i=(0,o.$)("<div>",e).appendTo(s),"center"===n[0]&&this.centerCalculate(c,s),this.animation(this.config.inEffect,i,"show"),this.config.onClick&&(t=this,(0,o.$)(i).on("click",(function(e){(0,o.$)(e.target).is(".amaran-close")||(0,o.$)(e.target).closest(".amaran-close").length>0?e.preventDefault():t.config.onClick()}))),!0!==this.config.sticky&&this.hideDiv(i)},centerCalculate:function(e,t){var n,i;t.find(".amaran").length,i=t.height(),n=(e.height()-i)/2,t.find(".amaran:first-child").animate({"margin-top":n},200)},animation:function(e,t,n){return"fadeIn"===e||"fadeOut"===e?this.fade(t,n):"show"===e?this.cssanimate(t,n):this.slide(e,t,n)},fade:function(e,t){var n;return n=this,"show"===t?this.config.cssanimationIn?e.addClass("animated "+this.config.cssanimationIn).show():e.fadeIn():this.config.cssanimationOut?(e.addClass("animated "+this.config.cssanimationOut),e.css({"min-height":0,height:e.outerHeight()}),void e.animate({opacity:0},(function(){e.animate({height:0},(function(){n.removeIt(e)}))}))):(e.css({"min-height":0,height:e.outerHeight()}),void e.animate({opacity:0},(function(){e.animate({height:0},(function(){n.removeIt(e)}))})))},removeIt:function(e){var t,n;clearTimeout(this.timeout),e.remove(),t=(n=(0,o.$)(this.config.wrapper+"."+this.config.position.split(" ")[0]+"."+this.config.position.split(" ")[1])).find(".amaran-wrapper-inner"),"center"===this.config.position.split(" ")[0]&&this.centerCalculate(n,t),this.config.afterEnd()},getWidth:function(e){var t,n;return n=(t=e.clone().hide().appendTo("body")).outerWidth()+t.outerWidth()/2,t.remove(),n},getInfo:function(e){var t,n;return t=e.offset(),n=(0,o.$)(this.config.wrapper).offset(),{t:t.top,l:t.left,h:e.height(),w:e.outerWidth(),wT:n.top,wL:n.left,wH:(0,o.$)(this.config.wrapper).outerHeight(),wW:(0,o.$)(this.config.wrapper).outerWidth()}},getPosition:function(e,t){var n,i,r;return n=this.getInfo(e),i=this.config.position.split(" ")[1],(r={slideTop:{start:{top:-(n.wT+n.wH+2*n.h)},move:{top:0},hide:{top:-(n.t+2*n.h)},height:n.h},slideBottom:{start:{top:(0,o.$)(window).height()-n.wH+2*n.h},move:{top:0},hide:{top:(0,o.$)(window).height()-n.wH+2*n.h},height:n.h},slideLeft:{start:{left:"left"===i?1.5*-n.w:-(0,o.$)(window).width()},move:{left:0},hide:{left:"left"===i?1.5*-n.w:-(0,o.$)(window).width()},height:n.h},slideRight:{start:{left:"right"===i?1.5*n.w:(0,o.$)(window).width()},move:{left:0},hide:{left:"right"===i?1.5*n.w:(0,o.$)(window).width()},height:n.h}})[t]?r[t]:0},slide:function(e,t,n){var i,r;if(r=this.getPosition(t,e),"show"!==n)return i=this,t.animate(r.hide,(function(){t.css({"min-height":0,height:r.height},(function(){t.html(" ")}))})).animate({height:0},(function(){return i.removeIt(t)}));t.show().css(r.start).animate(r.move)},close:function(){var e;e=this,(0,o.$)("[data-amaran-close]").on("click",(function(){e.animation(e.config.outEffect,(0,o.$)(this).closest("div.amaran"),"hide")})),this.config.closeOnClick||!this.config.closeButton?this.config.closeOnClick&&(0,o.$)(".amaran").on("click",(function(){e.animation(e.config.outEffect,(0,o.$)(this),"hide")})):e.animation(e.config.outEffect,(0,o.$)(this).parent("div.amaran"),"hide")},hideDiv:function(e){var t;(t=this).timeout=setTimeout((function(){t.animation(t.config.outEffect,e,"hide")}),t.config.delay)}},r={defaultTheme:function(e){return void 0!==e.color&&e.color,"<div class='default-spinner'><i class=\""+e.icon+"\"></i></div><div class='default-message'><span>"+e.message+"</span></div>"},awesomeTheme:function(e){return'<i class="icon '+e.icon+' icon-large"></i><p class="bold">'+e.title+"</p><p><span>"+e.message+'</span><span class="light">'+e.info+"</span></p>"},userTheme:function(e){var t='<div class="icon"><img src="'+e.img+'" alt="" /></div><div class="info">';return void 0!==e.user&&(t+="<b>"+e.user+"</b>"),t+(e.message+"</div>")},colorfulTheme:function(e){return void 0!==e.color&&e.color,void 0!==e.bgcolor&&e.bgcolor,"<div class='colorful-inner' style='background-color:"+e.bgcolor+";color:"+e.color+"'>"+e.message+"</div>"},tumblrTheme:function(e){return'<div class="title">'+e.title+'</div><div class="content">'+e.message+"</div>"}},o.$.amaran=function(e){return new i(e)},o.$.amaran.close=function(){return(0,o.$)(".amaran-wrapper").remove(),!1}},1844:(e,t,n)=>{"use strict";n.r(t);var i,r,a,o,s,l,c=n(3334),u="Close",d="MarkupParse",p="Open",f="Change",h="bpbmmfp",m="."+h,g="bpbmmfp-ready",v="bpbmmfp-prevent-close",b=function(){},_=!!window.jQuery,y=(0,c.$)(window),w=function(e,t){i.ev.on(h+e+m,t)},x=function(e,t,n,i){var r=document.createElement("div");return r.className="bpbmmfp-"+e,n&&(r.innerHTML=n),i?t&&t.appendChild(r):(r=(0,c.$)(r),t&&r.appendTo(t)),r},k=function(e,t){i.ev.triggerHandler(h+e,t),i.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),i.st.callbacks[e]&&i.st.callbacks[e].apply(i,c.$.isArray(t)?t:[t]))},$=function(e){return e===l&&i.currTemplate.closeBtn||(i.currTemplate.closeBtn=(0,c.$)(i.st.closeMarkup.replace("%title%",i.st.tClose)),l=e),i.currTemplate.closeBtn},C=function(){c.$.BPBMmagnificPopup.instance||((i=new b).init(),c.$.BPBMmagnificPopup.instance=i)};b.prototype={constructor:b,init:function(){var e=navigator.appVersion;i.isLowIE=i.isIE8=document.all&&!document.addEventListener,i.isAndroid=/android/gi.test(e),i.isIOS=/iphone|ipad|ipod/gi.test(e),i.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),i.probablyMobile=i.isAndroid||i.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),a=(0,c.$)(document),i.popupsCache={}},open:function(e){var t;if(!1===e.isObj){i.items=e.items.toArray(),i.index=0;var n,r=e.items;for(t=0;t<r.length;t++)if((n=r[t]).parsed&&(n=n.el[0]),n===e.el[0]){i.index=t;break}}else i.items=c.$.isArray(e.items)?e.items:[e.items],i.index=e.index||0;if(!i.isOpen){i.types=[],s="",e.mainEl&&e.mainEl.length?i.ev=e.mainEl.eq(0):i.ev=a,e.key?(i.popupsCache[e.key]||(i.popupsCache[e.key]={}),i.currTemplate=i.popupsCache[e.key]):i.currTemplate={},i.st=c.$.extend(!0,{},c.$.BPBMmagnificPopup.defaults,e),i.fixedContentPos="auto"===i.st.fixedContentPos?!i.probablyMobile:i.st.fixedContentPos,i.st.modal&&(i.st.closeOnContentClick=!1,i.st.closeOnBgClick=!1,i.st.showCloseBtn=!1,i.st.enableEscapeKey=!1),i.bgOverlay||(i.bgOverlay=x("bg").on("click.bpbmmfp",(function(){i.close()})),i.wrap=x("wrap").attr("tabindex",-1).on("click.bpbmmfp",(function(e){i._checkIfClose(e.target)&&i.close()})),i.container=x("container",i.wrap)),i.contentContainer=x("content"),i.st.preloader&&(i.preloader=x("preloader",i.container,i.st.tLoading));var o=c.$.BPBMmagnificPopup.modules;for(t=0;t<o.length;t++){var l=o[t];l=l.charAt(0).toUpperCase()+l.slice(1),i["init"+l].call(i)}k("BeforeOpen"),i.st.showCloseBtn&&(i.st.closeBtnInside?(w(d,(function(e,t,n,i){n.close_replaceWith=$(i.type)})),s+=" bpbmmfp-close-btn-in"):i.wrap.append($())),i.st.alignTop&&(s+=" bpbmmfp-align-top"),i.fixedContentPos?i.wrap.css({overflow:i.st.overflowY,overflowX:"hidden",overflowY:i.st.overflowY}):i.wrap.css({top:y.scrollTop(),position:"absolute"}),(!1===i.st.fixedBgPos||"auto"===i.st.fixedBgPos&&!i.fixedContentPos)&&i.bgOverlay.css({height:a.height(),position:"absolute"}),i.st.enableEscapeKey&&a.on("keyup.bpbmmfp",(function(e){27===e.keyCode&&i.close()})),y.on("resize.bpbmmfp",(function(){i.updateSize()})),i.st.closeOnContentClick||(s+=" bpbmmfp-auto-cursor"),s&&i.wrap.addClass(s);var u=i.wH=y.height(),f={};if(i.fixedContentPos&&i._hasScrollBar(u)){var h=i._getScrollbarSize();h&&(f.marginRight=h)}i.fixedContentPos&&(i.isIE7?(0,c.$)("body, html").css("overflow","hidden"):f.overflow="hidden");var m=i.st.mainClass;return i.isIE7&&(m+=" bpbmmfp-ie7"),m&&i._addClassToMFP(m),i.updateItemHTML(),k("BuildControls"),(0,c.$)("html").css(f),i.bgOverlay.add(i.wrap).prependTo(i.st.prependTo||(0,c.$)(document.body)),i._lastFocusedEl=document.activeElement,setTimeout((function(){i.content?(i._addClassToMFP(g),i._setFocus()):i.bgOverlay.addClass(g),a.on("focusin.bpbmmfp",i._onFocusIn)}),16),i.isOpen=!0,i.updateSize(u),k(p),e}i.updateItemHTML()},close:function(){i.isOpen&&(k("BeforeClose"),i.isOpen=!1,i.st.removalDelay&&!i.isLowIE&&i.supportsTransition?(i._addClassToMFP("bpbmmfp-removing"),setTimeout((function(){i._close()}),i.st.removalDelay)):i._close())},_close:function(){k(u);var e="bpbmmfp-removing bpbmmfp-ready ";if(i.bgOverlay.detach(),i.wrap.detach(),i.container.empty(),i.st.mainClass&&(e+=i.st.mainClass+" "),i._removeClassFromMFP(e),i.fixedContentPos){var t={marginRight:""};i.isIE7?(0,c.$)("body, html").css("overflow",""):t.overflow="",(0,c.$)("html").css(t)}a.off("keyup.bpbmmfp focusin.bpbmmfp"),i.ev.off(m),i.wrap.attr("class","bpbmmfp-wrap").removeAttr("style"),i.bgOverlay.attr("class","bpbmmfp-bg"),i.container.attr("class","bpbmmfp-container"),!i.st.showCloseBtn||i.st.closeBtnInside&&!0!==i.currTemplate[i.currItem.type]||i.currTemplate.closeBtn&&i.currTemplate.closeBtn.detach(),i.st.autoFocusLast&&i._lastFocusedEl&&(0,c.$)(i._lastFocusedEl).focus(),i.currItem=null,i.content=null,i.currTemplate=null,i.prevHeight=0,k("AfterClose")},updateSize:function(e){if(i.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*t;i.wrap.css("height",n),i.wH=n}else i.wH=e||y.height();i.fixedContentPos||i.wrap.css("height",i.wH),k("Resize")},updateItemHTML:function(){var e=i.items[i.index];i.contentContainer.detach(),i.content&&i.content.detach(),e.parsed||(e=i.parseEl(i.index));var t=e.type;if(k("BeforeChange",[i.currItem?i.currItem.type:"",t]),i.currItem=e,!i.currTemplate[t]){var n=!!i.st[t]&&i.st[t].markup;k("FirstMarkupParse",n),i.currTemplate[t]=!n||(0,c.$)(n)}o&&o!==e.type&&i.container.removeClass("bpbmmfp-"+o+"-holder");var r=i["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,i.currTemplate[t]);i.appendContent(r,t),e.preloaded=!0,k(f,e),o=e.type,i.container.prepend(i.contentContainer),k("AfterChange")},appendContent:function(e,t){i.content=e,e?i.st.showCloseBtn&&i.st.closeBtnInside&&!0===i.currTemplate[t]?i.content.find(".bpbmmfp-close").length||i.content.append($()):i.content=e:i.content="",k("BeforeAppend"),i.container.addClass("bpbmmfp-"+t+"-holder"),i.contentContainer.append(i.content)},parseEl:function(e){var t,n=i.items[e];if(n.tagName?n={el:(0,c.$)(n)}:(t=n.type,n={data:n,src:n.src}),n.el){for(var r=i.types,a=0;a<r.length;a++)if(n.el.hasClass("bpbmmfp-"+r[a])){t=r[a];break}n.src=n.el.attr("data-bpbmmfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=t||i.st.type||"inline",n.index=e,n.parsed=!0,i.items[e]=n,k("ElementParse",n),i.items[e]},addGroup:function(e,t){var n=function(n){n.mfpEl=this,i._openClick(n,e,t)};t||(t={});var r="click.BPBMmagnificPopup";t.mainEl=e,t.items?(t.isObj=!0,e.off(r).on(r,n)):(t.isObj=!1,t.delegate?e.off(r).on(r,t.delegate,n):(t.items=e,e.off(r).on(r,n)))},_openClick:function(e,t,n){if((void 0!==n.midClick?n.midClick:c.$.BPBMmagnificPopup.defaults.midClick)||!(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){var r=void 0!==n.disableOn?n.disableOn:c.$.BPBMmagnificPopup.defaults.disableOn;if(r)if(c.$.isFunction(r)){if(!r.call(i))return!0}else if(y.width()<r)return!0;e.type&&(e.preventDefault(),i.isOpen&&e.stopPropagation()),n.el=(0,c.$)(e.mfpEl),n.delegate&&(n.items=t.find(n.delegate)),i.open(n)}},updateStatus:function(e,t){if(i.preloader){r!==e&&i.container.removeClass("bpbmmfp-s-"+r),t||"loading"!==e||(t=i.st.tLoading);var n={status:e,text:t};k("UpdateStatus",n),e=n.status,t=n.text,i.preloader.html(t),i.preloader.find("a").on("click",(function(e){e.stopImmediatePropagation()})),i.container.addClass("bpbmmfp-s-"+e),r=e}},_checkIfClose:function(e){if(!(0,c.$)(e).hasClass(v)){var t=i.st.closeOnContentClick,n=i.st.closeOnBgClick;if(t&&n)return!0;if(!i.content||(0,c.$)(e).hasClass("bpbmmfp-close")||i.preloader&&e===i.preloader[0])return!0;if(e===i.content[0]||c.$.contains(i.content[0],e)){if(t)return!0}else if(n&&c.$.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){i.bgOverlay.addClass(e),i.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),i.wrap.removeClass(e)},_hasScrollBar:function(e){return(i.isIE7?a.height():document.body.scrollHeight)>(e||y.height())},_setFocus:function(){(i.st.focus?i.content.find(i.st.focus).eq(0):i.wrap).focus()},_onFocusIn:function(e){if(e.target!==i.wrap[0]&&!c.$.contains(i.wrap[0],e.target))return i._setFocus(),!1},_parseMarkup:function(e,t,n){var i;n.data&&(t=c.$.extend(n.data,t)),k(d,[e,t,n]),c.$.each(t,(function(t,n){if(void 0===n||!1===n)return!0;if((i=t.split("_")).length>1){var r=e.find(".bpbmmfp-"+i[0]);if(r.length>0){var a=i[1];"replaceWith"===a?r[0]!==n[0]&&r.replaceWith(n):"img"===a?r.is("img")?r.attr("src",n):r.replaceWith((0,c.$)("<img>").attr("src",n).attr("class",r.attr("class"))):r.attr(i[1],n)}}else e.find(".bpbmmfp-"+t).html(n)}))},_getScrollbarSize:function(){if(void 0===i.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),i.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return i.scrollbarSize}},c.$.BPBMmagnificPopup={instance:null,proto:b.prototype,modules:[],open:function(e,t){return C(),(e=e?c.$.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return c.$.BPBMmagnificPopup.instance&&c.$.BPBMmagnificPopup.instance.close()},registerModule:function(e,t){t.options&&(c.$.BPBMmagnificPopup.defaults[e]=t.options),c.$.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="bpbmmfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},c.$.fn.BPBMmagnificPopup=function(e){C();var t=(0,c.$)(this);if("string"==typeof e)if("open"===e){var n,r=_?t.data("BPBMmagnificPopup"):t[0].BPBMmagnificPopup,a=parseInt(arguments[1],10)||0;r.items?n=r.items[a]:(n=t,r.delegate&&(n=n.find(r.delegate)),n=n.eq(a)),i._openClick({mfpEl:n},t,r)}else i.isOpen&&i[e].apply(i,Array.prototype.slice.call(arguments,1));else e=c.$.extend(!0,{},e),_?t.data("BPBMmagnificPopup",e):t[0].BPBMmagnificPopup=e,i.addGroup(t,e);return t};var T,O,S,A="inline",P=function(){S&&(O.after(S.addClass(T)).detach(),S=null)};c.$.BPBMmagnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){i.types.push(A),w("Close.inline",(function(){P()}))},getInline:function(e,t){if(P(),e.src){var n=i.st.inline,r=(0,c.$)(e.src);if(r.length){var a=r[0].parentNode;a&&a.tagName&&(O||(T=n.hiddenClass,O=x(T),T="bpbmmfp-"+T),S=r.after(O).detach().removeClass(T)),i.updateStatus("ready")}else i.updateStatus("error",n.tNotFound),r=(0,c.$)("<div>");return e.inlineElement=r,r}return i.updateStatus("ready"),i._parseMarkup(t,{},e),t}}});var E,j,M=function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=i.st.image.titleSrc;if(t){if(c.$.isFunction(t))return t.call(i,e);if(e.el)return e.el.attr(t)||""}return""};c.$.BPBMmagnificPopup.registerModule("image",{options:{markup:'<div class="bpbmmfp-figure"><div class="bpbmmfp-close"></div><figure><div class="bpbmmfp-img"></div><figcaption><div class="bpbmmfp-bottom-bar"><div class="bpbmmfp-title"></div><div class="bpbmmfp-counter"></div></div></figcaption></figure></div>',cursor:"bpbmmfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=i.st.image;i.types.push("image"),w("Open.image",(function(){"image"===i.currItem.type&&e.cursor&&(0,c.$)(document.body).addClass(e.cursor)})),w("Close.image",(function(){e.cursor&&(0,c.$)(document.body).removeClass(e.cursor),y.off("resize.bpbmmfp")})),w("Resize.image",i.resizeImage),i.isLowIE&&w("AfterChange",i.resizeImage)},resizeImage:function(){var e=i.currItem;if(e&&e.img&&i.st.image.verticalFit){var t=0;i.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",i.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,E&&clearInterval(E),e.isCheckingImgSize=!1,k("ImageHasSize",e),e.imgHidden&&(i.content&&i.content.removeClass("bpbmmfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var t=0,n=e.img[0];!function r(a){E&&clearInterval(E),E=setInterval((function(){n.naturalWidth>0?i._onImageHasSize(e):(t>200&&clearInterval(E),3==++t?r(10):40===t?r(50):100===t&&r(500))}),a)}(1)},getImage:function(e,t){var n=0,r=function(){e&&(e.img.off(".mfploader"),e===i.currItem&&(i._onImageHasSize(e),i.updateStatus("error",a.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},a=i.st.image,o=t.find(".bpbmmfp-img");if(o.length){var s=document.createElement("img");s.className="bpbmmfp-img",e.el&&e.el.find("img").length&&(s.alt=e.el.find("img").attr("alt")),e.img=(0,c.$)(s).on("load.mfploader",(function t(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===i.currItem&&(i._onImageHasSize(e),i.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,k("ImageLoadComplete")):++n<200?setTimeout(t,100):r())})).on("error.mfploader",r),s.src=e.src,o.is("img")&&(e.img=e.img.clone()),(s=e.img[0]).naturalWidth>0?e.hasSize=!0:s.width||(e.hasSize=!1)}return i._parseMarkup(t,{title:M(e),img_replaceWith:e.img},e),i.resizeImage(),e.hasSize?(E&&clearInterval(E),e.loadError?(t.addClass("bpbmmfp-loading"),i.updateStatus("error",a.tError.replace("%url%",e.src))):(t.removeClass("bpbmmfp-loading"),i.updateStatus("ready")),t):(i.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("bpbmmfp-loading"),i.findImageSize(e)),t)}}}),c.$.BPBMmagnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,t=i.st.zoom;if(t.enabled&&i.supportsTransition){var n,r,a=t.duration,o=function(e){var n=e.clone().removeAttr("style").removeAttr("class").addClass("bpbmmfp-animated-image"),i="all "+t.duration/1e3+"s "+t.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},a="transition";return r["-webkit-"+a]=r["-moz-"+a]=r["-o-"+a]=r[a]=i,n.css(r),n},s=function(){i.content.css("visibility","visible")};w("BuildControls.zoom",(function(){if(i._allowZoom()){if(clearTimeout(n),i.content.css("visibility","hidden"),!(e=i._getItemToZoom()))return void s();(r=o(e)).css(i._getOffset()),i.wrap.append(r),n=setTimeout((function(){r.css(i._getOffset(!0)),n=setTimeout((function(){s(),setTimeout((function(){r.remove(),e=r=null,k("ZoomAnimationEnded")}),16)}),a)}),16)}})),w("BeforeClose.zoom",(function(){if(i._allowZoom()){if(clearTimeout(n),i.st.removalDelay=a,!e){if(!(e=i._getItemToZoom()))return;r=o(e)}r.css(i._getOffset(!0)),i.wrap.append(r),i.content.css("visibility","hidden"),setTimeout((function(){r.css(i._getOffset())}),16)}})),w("Close.zoom",(function(){i._allowZoom()&&(s(),r&&r.remove(),e=null)}))}},_allowZoom:function(){return"image"===i.currItem.type},_getItemToZoom:function(){return!!i.currItem.hasSize&&i.currItem.img},_getOffset:function(e){var t,n=(t=e?i.currItem.img:i.st.zoom.opener(i.currItem.el||i.currItem)).offset(),r=parseInt(t.css("padding-top"),10),a=parseInt(t.css("padding-bottom"),10);n.top-=(0,c.$)(window).scrollTop()-r;var o={width:t.width(),height:(_?t.innerHeight():t[0].offsetHeight)-a-r};return void 0===j&&(j=void 0!==document.createElement("p").style.MozTransform),j?o["-moz-transform"]=o.transform="translate("+n.left+"px,"+n.top+"px)":(o.left=n.left,o.top=n.top),o}}});var B=function(e){var t=i.items.length;return e>t-1?e-t:e<0?t+e:e},I=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};c.$.BPBMmagnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="bpbmmfp-arrow bpbmmfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var e=i.st.gallery,t=".bpbmmfp-gallery";if(i.direction=!0,!e||!e.enabled)return!1;s+=" bpbmmfp-gallery",w(p+t,(function(){e.navigateByImgClick&&i.wrap.on("click"+t,".bpbmmfp-img",(function(){if(i.items.length>1)return i.next(),!1})),a.on("keydown"+t,(function(e){37===e.keyCode?i.prev():39===e.keyCode&&i.next()}))})),w("UpdateStatus"+t,(function(e,t){t.text&&(t.text=I(t.text,i.currItem.index,i.items.length))})),w(d+t,(function(t,n,r,a){var o=i.items.length;r.counter=o>1?I(e.tCounter,a.index,o):""})),w("BuildControls"+t,(function(){if(i.items.length>1&&e.arrows&&!i.arrowLeft){var t=e.arrowMarkup,n=i.arrowLeft=(0,c.$)(t.replace(/%title%/gi,e.tPrev).replace(/%dir%/gi,"left")).addClass(v),r=i.arrowRight=(0,c.$)(t.replace(/%title%/gi,e.tNext).replace(/%dir%/gi,"right")).addClass(v);n.click((function(){i.prev()})),r.click((function(){i.next()})),i.container.append(n.add(r))}})),w(f+t,(function(){i._preloadTimeout&&clearTimeout(i._preloadTimeout),i._preloadTimeout=setTimeout((function(){i.preloadNearbyImages(),i._preloadTimeout=null}),16)})),w(u+t,(function(){a.off(t),i.wrap.off("click"+t),i.arrowRight=i.arrowLeft=null}))},next:function(){i.direction=!0,i.index=B(i.index+1),i.updateItemHTML()},prev:function(){i.direction=!1,i.index=B(i.index-1),i.updateItemHTML()},goTo:function(e){i.direction=e>=i.index,i.index=e,i.updateItemHTML()},preloadNearbyImages:function(){var e,t=i.st.gallery.preload,n=Math.min(t[0],i.items.length),r=Math.min(t[1],i.items.length);for(e=1;e<=(i.direction?r:n);e++)i._preloadItem(i.index+e);for(e=1;e<=(i.direction?n:r);e++)i._preloadItem(i.index-e)},_preloadItem:function(e){if(e=B(e),!i.items[e].preloaded){var t=i.items[e];t.parsed||(t=i.parseEl(e)),k("LazyLoad",t),"image"===t.type&&(t.img=(0,c.$)('<img class="bpbmmfp-img" />').on("load.mfploader",(function(){t.hasSize=!0})).on("error.mfploader",(function(){t.hasSize=!0,t.loadError=!0,k("LazyLoadError",t)})).attr("src",t.src)),t.preloaded=!0}}}});c.$.BPBMmagnificPopup.registerModule("retina",{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,(function(e){return"@2x"+e}))},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=i.st.retina,t=e.ratio;(t=isNaN(t)?t():t)>1&&(w("ImageHasSize.retina",(function(e,n){n.img.css({"max-width":n.img[0].naturalWidth/t,width:"100%"})})),w("ElementParse.retina",(function(n,i){i.src=e.replaceSrc(i,t)})))}}}}),C()},6706:(e,t,n)=>{"use strict";n.r(t);var i=n(1002),r=n(3334),a="left",o="right",s="up",l="down",c="in",u="out",d="none",p="auto",f="swipe",h="pinch",m="tap",g="doubletap",v="longtap",b="horizontal",_="vertical",y="all",w="start",x="move",k="end",$="cancel",C="ontouchstart"in window,T=window.navigator.msPointerEnabled&&!window.PointerEvent&&!C,O=(window.PointerEvent||window.navigator.msPointerEnabled)&&!C,S="TouchSwipe";function A(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=d),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=r.$.extend({},r.$.fn.BPBMswipe.defaults,e),this.each((function(){var t=(0,r.$)(this),n=t.data(S);n||(n=new P(this,e),t.data(S,n))}))}function P(e,t){t=r.$.extend({},t);var n=C||O||!t.fallbackToMouseEvents,A=n?O?T?"MSPointerDown":"pointerdown":"touchstart":"mousedown",P=n?O?T?"MSPointerMove":"pointermove":"touchmove":"mousemove",E=n?O?T?"MSPointerUp":"pointerup":"touchend":"mouseup",j=n?O?"mouseleave":null:"mouseleave",M=O?T?"MSPointerCancel":"pointercancel":"touchcancel",B=0,I=null,R=null,D=0,L=0,z=0,N=1,H=0,F=0,W=null,q=(0,r.$)(e),U="start",V=0,G={},K=0,X=0,Y=0,Z=0,Q=0,J=null,ee=null;try{q.on(A,te),q.on(M,re)}catch(e){r.$.error("events not supported "+A+","+M+" on jQuery.swipe")}function te(e){if(!0!==q.data("TouchSwipe_intouch")&&!((0,r.$)(e.target).closest(t.excludedElements,q).length>0)){var n=e.originalEvent?e.originalEvent:e;if(!n.pointerType||"mouse"!=n.pointerType||0!=t.fallbackToMouseEvents){var i,c,u=n.touches,d=u?u[0]:n;return U=w,u?V=u.length:!1!==t.preventDefaultEvents&&e.preventDefault(),B=0,I=null,R=null,F=null,D=0,L=0,z=0,N=1,H=0,(c={}).left=Se(a),c.right=Se(o),c.up=Se(s),c.down=Se(l),W=c,xe(),Ce(0,d),!u||V===t.fingers||t.fingers===y||he()?(K=je(),2==V&&(Ce(1,u[1]),L=z=Pe(G[0].start,G[1].start)),(t.swipeStatus||t.pinchStatus)&&(i=le(n,U))):i=!1,!1===i?(le(n,U=$),i):(t.hold&&(ee=setTimeout(r.$.proxy((function(){q.trigger("hold",[n.target]),t.hold&&(i=t.hold.call(q,n,n.target))}),this),t.longTapThreshold)),$e(!0),null)}}}function ne(e){var n=e.originalEvent?e.originalEvent:e;if(U!==k&&U!==$&&!ke()){var i,f,h,m,g,v=n.touches,w=Te(v?v[0]:n);if(X=je(),v&&(V=v.length),t.hold&&clearTimeout(ee),U=x,2==V&&(0==L?(Ce(1,v[1]),L=z=Pe(G[0].start,G[1].start)):(Te(v[1]),z=Pe(G[0].end,G[1].end),G[0].end,G[1].end,F=N<1?u:c),N=(z/L*1).toFixed(2),H=Math.abs(L-z)),V===t.fingers||t.fingers===y||!v||he()){if(I=Ee(w.start,w.end),function(e,n){if(!1!==t.preventDefaultEvents)if(t.allowPageScroll===d)e.preventDefault();else{var i=t.allowPageScroll===p;switch(n){case a:(t.swipeLeft&&i||!i&&t.allowPageScroll!=b)&&e.preventDefault();break;case o:(t.swipeRight&&i||!i&&t.allowPageScroll!=b)&&e.preventDefault();break;case s:(t.swipeUp&&i||!i&&t.allowPageScroll!=_)&&e.preventDefault();break;case l:(t.swipeDown&&i||!i&&t.allowPageScroll!=_)&&e.preventDefault()}}}(e,R=Ee(w.last,w.end)),m=w.start,g=w.end,B=Math.round(Math.sqrt(Math.pow(g.x-m.x,2)+Math.pow(g.y-m.y,2))),D=Ae(),function(e,t){e!=d&&(t=Math.max(t,Oe(e)),W[e].distance=t)}(I,B),i=le(n,U),!t.triggerOnTouchEnd||t.triggerOnTouchLeave){var C=!0;if(t.triggerOnTouchLeave){var T=(f=this,{left:(h=(f=(0,r.$)(f)).offset()).left,right:h.left+f.outerWidth(),top:h.top,bottom:h.top+f.outerHeight()});C=function(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}(w.end,T)}!t.triggerOnTouchEnd&&C?U=se(x):t.triggerOnTouchLeave&&!C&&(U=se(k)),U!=$&&U!=k||le(n,U)}}else le(n,U=$);!1===i&&le(n,U=$)}}function ie(e){var n=e.originalEvent?e.originalEvent:e,i=n.touches;if(i){if(i.length&&!ke())return function(e){Y=je(),Z=e.touches.length+1}(n),!0;if(i.length&&ke())return!0}return ke()&&(V=Z),X=je(),D=Ae(),de()||!ue()?le(n,U=$):t.triggerOnTouchEnd||!1===t.triggerOnTouchEnd&&U===x?(!1!==t.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),le(n,U=k)):!t.triggerOnTouchEnd&&_e()?ce(n,U=k,m):U===x&&le(n,U=$),$e(!1),null}function re(){V=0,X=0,K=0,L=0,z=0,N=1,xe(),$e(!1)}function ae(e){var n=e.originalEvent?e.originalEvent:e;t.triggerOnTouchLeave&&le(n,U=se(k))}function oe(){q.off(A,te),q.off(M,re),q.off(P,ne),q.off(E,ie),j&&q.off(j,ae),$e(!1)}function se(e){var n=e,i=pe(),r=ue(),a=de();return!i||a?n=$:!r||e!=x||t.triggerOnTouchEnd&&!t.triggerOnTouchLeave?!r&&e==k&&t.triggerOnTouchLeave&&(n=$):n=k,n}function le(e,n){var i,r=e.touches;return(me()&&ge()||ge())&&(i=ce(e,n,f)),(fe()&&he()||he())&&!1!==i&&(i=ce(e,n,h)),we()&&ye()&&!1!==i?i=ce(e,n,g):D>t.longTapThreshold&&B<10&&t.longTap&&!1!==i?i=ce(e,n,v):1!==V&&C||!(isNaN(B)||B<t.threshold)||!_e()||!1===i||(i=ce(e,n,m)),n===$&&re(),n===k&&(r&&r.length||re()),i}function ce(e,n,i){var d;if(i==f){if(q.trigger("swipeStatus",[n,I||null,B||0,D||0,V,G,R]),t.swipeStatus&&!1===(d=t.swipeStatus.call(q,e,n,I||null,B||0,D||0,V,G,R)))return!1;if(n==k&&me()){if(clearTimeout(J),clearTimeout(ee),q.trigger("swipe",[I,B,D,V,G,R]),t.swipe&&!1===(d=t.swipe.call(q,e,I,B,D,V,G,R)))return!1;switch(I){case a:q.trigger("swipeLeft",[I,B,D,V,G,R]),t.swipeLeft&&(d=t.swipeLeft.call(q,e,I,B,D,V,G,R));break;case o:q.trigger("swipeRight",[I,B,D,V,G,R]),t.swipeRight&&(d=t.swipeRight.call(q,e,I,B,D,V,G,R));break;case s:q.trigger("swipeUp",[I,B,D,V,G,R]),t.swipeUp&&(d=t.swipeUp.call(q,e,I,B,D,V,G,R));break;case l:q.trigger("swipeDown",[I,B,D,V,G,R]),t.swipeDown&&(d=t.swipeDown.call(q,e,I,B,D,V,G,R))}}}if(i==h){if(q.trigger("pinchStatus",[n,F||null,H||0,D||0,V,N,G]),t.pinchStatus&&!1===(d=t.pinchStatus.call(q,e,n,F||null,H||0,D||0,V,N,G)))return!1;if(n==k&&fe())switch(F){case c:q.trigger("pinchIn",[F||null,H||0,D||0,V,N,G]),t.pinchIn&&(d=t.pinchIn.call(q,e,F||null,H||0,D||0,V,N,G));break;case u:q.trigger("pinchOut",[F||null,H||0,D||0,V,N,G]),t.pinchOut&&(d=t.pinchOut.call(q,e,F||null,H||0,D||0,V,N,G))}}return i==m?n!==$&&n!==k||(clearTimeout(J),clearTimeout(ee),ye()&&!we()?(Q=je(),J=setTimeout(r.$.proxy((function(){Q=null,q.trigger("tap",[e.target]),t.tap&&(d=t.tap.call(q,e,e.target))}),this),t.doubleTapThreshold)):(Q=null,q.trigger("tap",[e.target]),t.tap&&(d=t.tap.call(q,e,e.target)))):i==g?n!==$&&n!==k||(clearTimeout(J),clearTimeout(ee),Q=null,q.trigger("doubletap",[e.target]),t.doubleTap&&(d=t.doubleTap.call(q,e,e.target))):i==v&&(n!==$&&n!==k||(clearTimeout(J),Q=null,q.trigger("longtap",[e.target]),t.longTap&&(d=t.longTap.call(q,e,e.target)))),d}function ue(){var e=!0;return null!==t.threshold&&(e=B>=t.threshold),e}function de(){var e=!1;return null!==t.cancelThreshold&&null!==I&&(e=Oe(I)-B>=t.cancelThreshold),e}function pe(){return!(t.maxTimeThreshold&&D>=t.maxTimeThreshold)}function fe(){var e=ve(),n=be(),i=null===t.pinchThreshold||H>=t.pinchThreshold;return e&&n&&i}function he(){return!!(t.pinchStatus||t.pinchIn||t.pinchOut)}function me(){var e=pe(),t=ue(),n=ve(),i=be();return!de()&&i&&n&&t&&e}function ge(){return!!(t.swipe||t.swipeStatus||t.swipeLeft||t.swipeRight||t.swipeUp||t.swipeDown)}function ve(){return V===t.fingers||t.fingers===y||!C}function be(){return 0!==G[0].end.x}function _e(){return!!t.tap}function ye(){return!!t.doubleTap}function we(){if(null==Q)return!1;var e=je();return ye()&&e-Q<=t.doubleTapThreshold}function xe(){Y=0,Z=0}function ke(){var e=!1;return Y&&je()-Y<=t.fingerReleaseThreshold&&(e=!0),e}function $e(e){q&&(!0===e?(q.on(P,ne),q.on(E,ie),j&&q.on(j,ae)):(q.off(P,ne,!1),q.off(E,ie,!1),j&&q.off(j,ae,!1)),q.data("TouchSwipe_intouch",!0===e))}function Ce(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,G[e]=n,n}function Te(e){var t=void 0!==e.identifier?e.identifier:0,n=function(e){return G[e]||null}(t);return null===n&&(n=Ce(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function Oe(e){if(W[e])return W[e].distance}function Se(e){return{direction:e,distance:0}}function Ae(){return X-K}function Pe(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function Ee(e,t){if(i=t,(n=e).x==i.x&&n.y==i.y)return d;var n,i,r=function(e,t){var n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),a=Math.round(180*r/Math.PI);return a<0&&(a=360-Math.abs(a)),a}(e,t);return r<=45&&r>=0||r<=360&&r>=315?a:r>=135&&r<=225?o:r>45&&r<135?l:s}function je(){return(new Date).getTime()}this.enable=function(){return this.disable(),q.on(A,te),q.on(M,re),q},this.disable=function(){return oe(),q},this.destroy=function(){oe(),q.data(S,null),q=null},this.option=function(e,n){if("object"===(0,i.Z)(e))t=r.$.extend(t,e);else if(void 0!==t[e]){if(void 0===n)return t[e];t[e]=n}else{if(!e)return t;r.$.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}r.$.fn.BPBMswipe=function(e){var t=(0,r.$)(this),n=t.data(S);if(n&&"string"==typeof e){if(n[e])return n[e].apply(n,Array.prototype.slice.call(arguments,1));r.$.error("Method "+e+" does not exist on jQuery.swipe")}else if(n&&"object"===(0,i.Z)(e))n.option.apply(n,arguments);else if(!(n||"object"!==(0,i.Z)(e)&&e))return A.apply(this,arguments);return t},r.$.fn.BPBMswipe.version="1.6.18",r.$.fn.BPBMswipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},r.$.fn.BPBMswipe.phases={PHASE_START:w,PHASE_MOVE:x,PHASE_END:k,PHASE_CANCEL:$},r.$.fn.BPBMswipe.directions={LEFT:a,RIGHT:o,UP:s,DOWN:l,IN:c,OUT:u},r.$.fn.BPBMswipe.pageScroll={NONE:d,HORIZONTAL:b,VERTICAL:_,AUTO:p},r.$.fn.BPBMswipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:y}},6996:(e,t,n)=>{"use strict";n.r(t);var i,r,a=n(1002),o=n(3334).$,s="object",l="function",c="array",u="string",d="boolean",p="number",f="null",h={c:"class",s:"style",i:"id",l:"length",p:"prototype",ti:"tabindex",oH:"offsetHeight",cH:"clientHeight",sH:"scrollHeight",oW:"offsetWidth",cW:"clientWidth",sW:"scrollWidth",hOP:"hasOwnProperty",bCR:"getBoundingClientRect"},m=function(){var e={},t={},n=["-webkit-","-moz-","-o-","-ms-"],i=["WebKit","Moz","O","MS"];function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}return{_cssPrefixes:n,_jsPrefixes:i,_cssProperty:function(e){var i=t[e];if(t[h.hOP](e))return i;for(var a,o,s,l=r(e),c=document.createElement("div")[h.s],u=0;u<n.length;u++)for(s=n[u].replace(/-/g,""),a=[e,n[u]+e,s+l,r(s)+l],o=0;o<a[h.l];o++)if(void 0!==c[a[o]]){i=a[o];break}return t[e]=i,i},_cssPropertyValue:function(e,n,i){var r=e+" "+n,a=t[r];if(t[h.hOP](r))return a;for(var o,s=document.createElement("div")[h.s],l=n.split(" "),c=i||"",u=0,d=-1;u<l[h.l];u++)for(;d<m._cssPrefixes[h.l];d++)if(o=d<0?l[u]:m._cssPrefixes[d]+l[u],s.cssText=e+":"+o+c,s[h.l]){a=o;break}return t[r]=a,a},_jsAPI:function(t,n,a){var o=0,s=e[t];if(!e[h.hOP](t)){for(s=window[t];o<i[h.l];o++)s=s||window[(n?i[o]:i[o].toLowerCase())+r(t)];e[t]=s}return s||a}}}(),g=function(){function e(e){return e?window.innerWidth||document.documentElement[h.cW]||document.body[h.cW]:window.innerHeight||document.documentElement[h.cH]||document.body[h.cH]}function t(e,t){if((0,a.Z)(e)!=l)throw"Can't bind function!";var n=h.p,i=Array[n].slice.call(arguments,2),r=function(){},o=function(){return e.apply(this instanceof r?this:t,i.concat(Array[n].slice.call(arguments)))};return e[n]&&(r[n]=e[n]),o[n]=new r,o}return{wW:t(e,0,!0),wH:t(e,0),mO:t(m._jsAPI,0,"MutationObserver",!0),rO:t(m._jsAPI,0,"ResizeObserver",!0),rAF:t(m._jsAPI,0,"requestAnimationFrame",!1,(function(e){return window.setTimeout(e,1e3/60)})),cAF:t(m._jsAPI,0,"cancelAnimationFrame",!1,(function(e){return window.clearTimeout(e)})),now:function(){return Date.now&&Date.now()||(new Date).getTime()},stpP:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},prvD:function(e){e.preventDefault&&e.cancelable?e.preventDefault():e.returnValue=!1},page:function(e){var t=((e=e.originalEvent||e).target||e.srcElement||document).ownerDocument||document,n=t.documentElement,i=t.body;if(void 0!==e.touches){var r=e.touches[0];return{x:r.pageX,y:r.pageY}}return!e.pageX&&e.clientX&&null!=e.clientX?{x:e.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),y:e.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)}:{x:e.pageX,y:e.pageY}},mBtn:function(e){var t=e.button;return e.which||void 0===t?e.which:1&t?1:2&t?3:4&t?2:0},inA:function(e,t){for(var n=0;n<t[h.l];n++)try{if(t[n]===e)return n}catch(e){}return-1},isA:function(e){var t=Array.isArray;return t?t(e):this.type(e)==c},type:function(e){return null==e?e+"":Object[h.p].toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},bind:t}}(),v=Math,b=o,_=(o.easing,o),y=(i=[],r="__BPBMoverlayScrollbars__",function(e,t){var n=arguments[h.l];if(n<1)return i;if(t)e[r]=t,i.push(e);else{var a=g.inA(e,i);if(a>-1){if(!(n>1))return i[a][r];delete e[r],i.splice(a,1)}}}),w=function(){var e,t,n,i,r,o,w,x,k,$,C=[],T=(i=g.type,r=[d,p,u,c,s,l,f],k={className:["bpbm-os-theme-dark",[f,u]],resize:["none","n:none b:both h:horizontal v:vertical"],sizeAutoCapable:o=[!0,d],clipAlways:o,normalizeRTL:o,paddingAbsolute:w=[!1,d],autoUpdate:[null,[f,d]],autoUpdateInterval:[33,p],updateOnLoad:[["img"],[u,c,f]],nativeScrollbarsOverlaid:{showNativeScrollbars:w,initialize:o},overflowBehavior:{x:["scroll","v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden"],y:["scroll","v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden"]},scrollbars:{visibility:["auto","v:visible h:hidden a:auto"],autoHide:["never","n:never s:scroll l:leave m:move"],autoHideDelay:[800,p],dragScrolling:o,clickScrolling:w,touchSupport:o,snapHandle:w},textarea:{dynWidth:w,dynHeight:w,inheritedAttrs:[["style","class"],[u,c,f]]},callbacks:{onInitialized:x=[null,[f,l]],onInitializationWithdrawn:x,onDestroyed:x,onScrollStart:x,onScroll:x,onScrollStop:x,onOverflowChanged:x,onOverflowAmountChanged:x,onDirectionChanged:x,onContentSizeChanged:x,onHostSizeChanged:x,onUpdated:x}},{_defaults:($=function(e){return function t(n){var r,a,o;for(r in n)n[h.hOP](r)&&(a=n[r],(o=i(a))==c?n[r]=a[e?1:0]:o==s&&(n[r]=t(a)));return n}(_.extend(!0,{},k))})(),_template:$(!0),_validate:function(e,t,n,a){var o={},l={},c=_.extend(!0,{},e),d=_.inArray,p=_.isEmptyObject;return function e(t,a,o,l,c,f){for(var m in a)if(a[h.hOP](m)&&t[h.hOP](m)){var v,b,y,w,x,k,$,C,T=!1,O=!1,S=a[m],A=i(S),P=A==s,E=g.isA(S)?S:[S],j=o[m],M=t[m],B=i(M),I=f?f+".":"",R='The option "'+I+m+"\" wasn't set, because",D=[],L=[];if(j=void 0===j?{}:j,P&&B==s)l[m]={},c[m]={},e(M,S,j,l[m],c[m],I+m),_.each([t,l,c],(function(e,t){p(t[m])&&delete t[m]}));else if(!P){for(k=0;k<E[h.l];k++)if(x=E[k],y=(A=i(x))==u&&-1===d(x,r))for(D.push(u),v=x.split(" "),L=L.concat(v),$=0;$<v[h.l];$++){for(w=(b=v[$].split(":"))[0],C=0;C<b[h.l];C++)if(M===b[C]){T=!0;break}if(T)break}else if(D.push(x),B===x){T=!0;break}T?((O=M!==j)&&(l[m]=M),(y?d(j,b)<0:O)&&(c[m]=y?w:M)):n&&console.warn(R+" it doesn't accept the type [ "+B.toUpperCase()+' ] with the value of "'+M+'".\r\nAccepted types are: [ '+D.join(", ").toUpperCase()+" ]."+(L[length]>0?"\r\nValid strings are: [ "+L.join(", ").split(":").join(", ")+" ].":"")),delete t[m]}}}(c,t,a||{},o,l),!p(c)&&n&&console.warn("The following options are discarded due to invalidity:\r\n"+window.JSON.stringify(c,null,2)),{_default:o,_prepared:l}}});function O(){t||(t=new S(T._defaults)),n||(n=new A(t))}function S(e){var t=this,n="overflow",i="hidden",r=_("body"),a=_('<div id="bpbm-os-dummy-scrollbar-size"><div></div></div>'),o=a[0],s=_(a.children("div").eq(0));r.append(a),a.hide().show();var l=d(o),c={x:0===l.x,y:0===l.y},u=function(){var e,t=window.navigator.userAgent,n=t.indexOf("MSIE "),i=t.indexOf("Trident/"),r=t.indexOf("Edge/"),a=t.indexOf("rv:"),o=parseInt;return n>0?e=o(t.substring(n+5,t.indexOf(".",n)),10):i>0?e=o(t.substring(a+3,t.indexOf(".",a)),10):r>0&&(e=o(t.substring(r+5,t.indexOf(".",r)),10)),e}();function d(e){return{x:e[h.oH]-e[h.cH],y:e[h.oW]-e[h.cW]}}_.extend(t,{defaultOptions:e,msie:u,autoUpdateLoop:!1,autoUpdateRecommended:!g.mO(),nativeScrollbarSize:l,nativeScrollbarIsOverlaid:c,nativeScrollbarStyling:function(){var e=!1;a.addClass("bpbm-os-viewport-native-scrollbars-invisible");try{e="none"===a.css("scrollbar-width")&&(u>9||!u)||"none"===window.getComputedStyle(o,"::-webkit-scrollbar").getPropertyValue("display")}catch(e){}return e}(),overlayScrollbarDummySize:{x:30,y:30},cssCalc:m._cssPropertyValue("width","calc","(1px)")||null,restrictedMeasuring:function(){a.css(n,i);var e=o[h.sW],t=o[h.sH];a.css(n,"visible");var r=o[h.sW],s=o[h.sH];return e-r!=0||t-s!=0}(),rtlScrollBehavior:function(){a.css({"overflow-y":i,"overflow-x":"scroll",direction:"rtl"}).scrollLeft(0);var e=a.offset(),t=s.offset();a.scrollLeft(-999);var n=s.offset();return{i:e.left===t.left,n:t.left!==n.left}}(),supportTransform:!!m._cssProperty("transform"),supportTransition:!!m._cssProperty("transition"),supportPassiveEvents:function(){var e=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(e){}return e}(),supportResizeObserver:!!g.rO(),supportMutationObserver:!!g.mO()}),a.removeAttr(h.s).remove(),function(){if(!c.x||!c.y){var e=v.abs,n=g.wW(),i=g.wH(),o=s();_(window).on("resize",(function(){if(y().length>0){var l=g.wW(),c=g.wH(),u=l-n,p=c-i;if(0===u&&0===p)return;var f,h=v.round(l/(n/100)),m=v.round(c/(i/100)),b=e(u),w=e(p),x=e(h),k=e(m),$=s(),C=b>2&&w>2,T=(A=k,!((P=e(x))!==(E=e(A))&&P+1!==E&&P-1!==E)),O=C&&T&&$!==o&&o>0,S=t.nativeScrollbarSize;O&&(r.append(a),f=t.nativeScrollbarSize=d(a[0]),a.remove(),S.x===f.x&&S.y===f.y||_.each(y(),(function(){y(this)&&y(this).update("zoom")}))),n=l,i=c,o=$}var A,P,E}))}function s(){var e=window.screen.deviceXDPI||0,t=window.screen.logicalXDPI||1;return window.devicePixelRatio||e/t}}()}function A(e){var t,n=_.inArray,i=g.now,r=h.l,a=[],o=[],s=!1,l=33,c=i(),u=function e(){if(a[r]>0&&s){t=g.rAF()((function(){e()}));var n,u,d,p,f,h,m=i(),b=m-c;if(b>l){c=m-b%l,n=33;for(var _=0;_<a[r];_++)void 0!==(u=a[_])&&(p=(d=u.options()).autoUpdate,f=v.max(1,d.autoUpdateInterval),h=i(),(!0===p||null===p)&&h-o[_]>f&&(u.update("auto"),o[_]=new Date(h+=f)),n=v.max(1,v.min(n,f)));l=n}}else l=33};this.add=function(t){-1===n(t,a)&&(a.push(t),o.push(i()),a[r]>0&&!s&&(s=!0,e.autoUpdateLoop=s,u()))},this.remove=function(i){var l=n(i,a);l>-1&&(o.splice(l,1),a.splice(l,1),0===a[r]&&s&&(s=!1,e.autoUpdateLoop=s,void 0!==t&&(g.cAF()(t),t=-1)))}}function P(t,n,i,r,o){var f=g.type,w=_.inArray,x=_.each,k=new e,$=_[h.p];if(Zi(t)){if(y(t)){var C=y(t);return C.options(n),C}var O,S,A,P,E,j,M,B,I,R,D,L,z,N,H,F,W,q,U,V,G,K,X,Y,Z,Q,J,ee,te,ne,ie,re,ae,oe,se,le,ce,ue,de,pe,fe,he,me,ge,ve,be,_e,ye,we,xe,ke,$e,Ce,Te,Oe,Se,Ae,Pe,Ee,je,Me,Be,Ie,Re,De,Le,ze,Ne,He,Fe,We,qe,Ue,Ve,Ge,Ke,Xe,Ye,Ze,Qe,Je,et,tt,nt,it,rt,at,ot,st,lt,ct,ut,dt,pt,ft,ht,mt,gt,vt,bt,_t,yt,wt,xt,kt,$t,Ct,Tt,Ot,St,At,Pt,Et,jt,Mt,Bt,It,Rt,Dt,Lt,zt={},Nt={},Ht={},Ft={},Wt={},qt="-hidden",Ut="margin-",Vt="padding-",Gt="border-",Kt="top",Xt="right",Yt="bottom",Zt="left",Qt="width",Jt="height",en="float",tn="",nn="auto",rn="sync",an="scroll",on="100%",sn="x",ln="y",cn=".",un=" ",dn="scrollbar",pn="-horizontal",fn="-vertical",hn="mousedown touchstart",mn="mouseup touchend touchcancel",gn="mousemove touchmove",vn="mouseenter",bn="mouseleave",_n="keydown",yn="keyup",wn="selectstart",xn="transitionend webkitTransitionEnd oTransitionEnd",kn="bpbm-os-html",$n="bpbm-os-host",Cn=$n+"-foreign",Tn=$n+"-textarea",On=$n+"-"+dn+pn+qt,Sn=$n+"-"+dn+fn+qt,An=$n+"-transition",Pn=$n+"-rtl",En=$n+"-resize-disabled",jn=$n+"-scrolling",Mn=$n+"-overflow",Bn=(Mn=$n+"-overflow")+"-x",In=Mn+"-y",Rn="bpbm-os-textarea",Dn=Rn+"-cover",Ln="bpbm-os-padding",zn="bpbm-os-viewport",Nn="bpbm-os-viewport-native-scrollbars-invisible",Hn="bpbm-os-viewport-native-scrollbars-overlaid",Fn="bpbm-os-content",Wn="bpbm-os-resize-observer",qn="bpbm-os-resize-observer-item",Un="bpbm-os-resize-observer-item-final",Vn="bpbm-os-text-inherit",Gn="bpbm-os-scrollbar-track",Kn="bpbm-os-scrollbar-track-off",Xn="bpbm-os-scrollbar-handle",Yn="bpbm-os-scrollbar-handle-off",Zn="bpbm-os-scrollbar-unusable",Qn="bpbm-os-scrollbar-auto-hidden",Jn="bpbm-os-scrollbar-corner",ei="bpbm-os-scrollbar-corner-resize",ti=ei+"-both",ni=ei+pn,ii=ei+fn,ri="bpbm-os-dragging",ai="bpbm-os-theme-none",oi=[Nn,Hn,Kn,Yn,Zn,Qn,ei,ti,ni,ii,ri].join(un),si=[],li=[h.ti],ci={},ui={},di="load",pi=[],fi={},hi=["wrap","cols","rows"],mi=[h.i,h.c,h.s,"open"].concat(li),gi=[];return k.sleep=function(){te=!0},k.update=function(e){var t,n,i,r,a;if(!H)return f(e)==u?e===nn?(t=function(){if(!te&&!$t){var e,t,n,i=[],r=[{_elem:pe,_attrs:mi.concat(":visible")},{_elem:F?de:void 0,_attrs:hi}];return x(r,(function(r,a){(e=a._elem)&&x(a._attrs,(function(r,a){t=":"===a.charAt(0)?e.is(a):e.attr(a),n=fi[a],or(t,n)&&i.push(a),fi[a]=t}))})),Ei(i),i[h.l]>0}}(),n=function(){if(te)return!1;var e,t,n,i,r=er(),a=F&&Fe&&!ht?de.val().length:0,o=!$t&&Fe&&!F,s={};return o&&(e=ve.css(en),s.float=ee?Xt:Zt,s.width=nn,ve.css(s)),i={w:r[h.sW]+a,h:r[h.sH]+a},o&&(s.float=e,s.width=on,ve.css(s)),t=Ai(),n=or(i,rt),rt=i,n||t}(),(i=t||n)&&Mi({_contentSizeChanged:n,_changedOptions:N?void 0:re})):e===rn?$t?(r=xt(yt.takeRecords()),a=kt(wt.takeRecords())):r=k.update(nn):"zoom"===e&&Mi({_hostSizeChanged:!0,_contentSizeChanged:!0}):(e=te||e,te=!1,k.update(rn)&&!e||Mi({_force:e})),Bi(),i||r||a},k.options=function(e,t){var n,i={};if(_.isEmptyObject(e)||!_.isPlainObject(e)){if(f(e)!=u)return ie;if(!(arguments.length>1))return ir(ie,e);rr(i,e,t),n=Ii(i)}else n=Ii(e);_.isEmptyObject(n)||Mi({_changedOptions:n})},k.destroy=function(){if(!H){for(var e in o.remove(k),wi(),_i(he),_i(fe),ci)k.removeExt(e);for(;gi[h.l]>0;)gi.pop()();Si(!0),_e&&dr(_e),be&&dr(be),G&&dr(fe),Di(!0),Ui(!0),Ri(!0);for(var n=0;n<pi[h.l];n++)_(pi[n]).off(di,Oi);pi=void 0,H=!0,te=!0,y(t,0),Vi("onDestroyed")}},k.scroll=function(e,t,n,i){if(0===arguments.length||void 0===e){var r=Nt,a=Ht,o=dt&&ee&&A.i,m=dt&&ee&&A.n,y=r._currentScroll,x=r._currentScrollRatio,$=r._maxScroll;return x=o?1-x:x,y=o?$-y:y,$*=m?-1:1,{position:{x:y*=m?-1:1,y:a._currentScroll},ratio:{x,y:a._currentScrollRatio},max:{x:$,y:a._maxScroll},handleOffset:{x:r._handleOffset,y:a._handleOffset},handleLength:{x:r._handleLength,y:a._handleLength},handleLengthRatio:{x:r._handleLengthRatio,y:a._handleLengthRatio},trackLength:{x:r._trackLength,y:a._trackLength},snappedHandleOffset:{x:r._snappedHandleOffset,y:a._snappedHandleOffset},isRTL:ee,isRTLNormalized:dt}}k.update(rn);var C,T,O,S,P,E,j,M,B,I=dt,D=[sn,Zt,"l"],L=[ln,Kt,"t"],z=["+=","-=","*=","/="],N=f(t)==s,H=N?t.complete:i,F={},W={},q="end",U="begin",V="center",G="nearest",K="always",X="never",Y="ifneeded",Z=h.l,Q=[sn,ln,"xy","yx"],J=[U,q,V,G],te=[K,X,Y],ne=e[h.hOP]("el"),ie=ne?e.el:e,re=!!(ie instanceof _||b)&&ie instanceof b,ae=!re&&Zi(ie),oe=function(){T&&Fi(!0),O&&Fi(!1)},se=f(H)!=l?void 0:function(){oe(),H()};function le(e,t){for(C=0;C<t[Z];C++)if(e===t[C])return!0;return!1}function ce(e,t){var n=e?D:L;if(t=f(t)==u||f(t)==p?[t,t]:t,g.isA(t))return e?t[0]:t[1];if(f(t)==s)for(C=0;C<n[Z];C++)if(n[C]in t)return t[n[C]]}function ue(e,t){var n,i,r,a,o=f(t)==u,s=e?Nt:Ht,l=s._currentScroll,c=s._maxScroll,d=" * ",h=ee&&e,m=h&&A.n&&!I,g=eval;if(o?(t[Z]>2&&(a=t.substr(0,2),w(a,z)>-1&&(n=a)),t=(t=n?t.substr(2):t).replace(/min/g,0).replace(/</g,0).replace(/max/g,(m?"-":tn)+on).replace(/>/g,(m?"-":tn)+on).replace(/px/g,tn).replace(/%/g,d+c*(h&&A.n?-1:1)/100).replace(/vw/g,d+Ft.w).replace(/vh/g,d+Ft.h),i=Qi(isNaN(t)?Qi(g(t),!0).toFixed():t)):i=t,void 0!==i&&!isNaN(i)&&f(i)==p){var b=I&&h,_=l*(b&&A.n?-1:1),y=b&&A.i,x=b&&A.n;switch(_=y?c-_:_,n){case"+=":r=_+i;break;case"-=":r=_-i;break;case"*=":r=_*i;break;case"/=":r=_/i;break;default:r=i}r=y?c-r:r,r*=x?-1:1,r=h&&A.n?v.min(0,v.max(c,r)):v.max(0,v.min(c,r))}return r===l?void 0:r}function de(e,t,n,i){var r,a,o=[n,n],l=f(e);if(l==t)e=[e,e];else if(l==c){if((r=e[Z])>2||r<1)e=o;else for(1===r&&(e[1]=n),C=0;C<r;C++)if(a=e[C],f(a)!=t||!le(a,i)){e=o;break}}else e=l==s?[e.x||n,e.y||n]:o;return{x:e[0],y:e[1]}}function pe(e){var t,n,i=[],r=[Kt,Xt,Yt,Zt];for(C=0;C<e[Z]&&C!==r[Z];C++)t=e[C],(n=f(t))==d?i.push(t?Qi(B.css(Ut+r[C])):0):i.push(n==p?t:0);return i}if(re||ae){var fe,he=ne?e.margin:0,ve=ne?e.axis:0,be=ne?e.scroll:0,_e=ne?e.block:0,ye=[0,0,0,0],we=f(he);if((B=re?ie:_(ie))[Z]>0){he=we==p||we==d?pe([he,he,he,he]):we==c?2===(fe=he[Z])?pe([he[0],he[1],he[0],he[1]]):fe>=4?pe(he):ye:we==s?pe([he.top,he.right,he.bottom,he.left]):ye,P=le(ve,Q)?ve:"xy",E=de(be,u,K,te),j=de(_e,u,U,J),M=he;var xe={l:Nt._currentScroll,t:Ht._currentScroll},ke=me.offset(),$e=B.offset(),Ce={x:E.x==X||P==ln,y:E.y==X||P==sn};$e.top-=M[0],$e.left-=M[3];var Te={x:v.round($e.left-ke.left+xe.l),y:v.round($e.top-ke.top+xe.t)};if(ee&&(A.n||A.i||(Te.x=v.round(ke.left-$e.left+xe.l)),A.n&&I&&(Te.x*=-1),A.i&&I&&(Te.x=v.round(ke.left-$e.left+(Nt._maxScroll-xe.l)))),j.x!=U||j.y!=U||E.x==Y||E.y==Y||ee){var Oe=B[0],Se=R?Oe[h.bCR]():{width:Oe[h.oW],height:Oe[h.oH]},Ae={w:Se.width+M[3]+M[1],h:Se.height+M[0]+M[2]},Pe=function(e){var t=qi(e),n=t._w_h,i=t._left_top,r=t._x_y,a=j[r]==(e&&ee?U:q),o=j[r]==V,s=j[r]==G,l=E[r]==X,c=E[r]==Y,u=Ft[n],d=ke[i],p=Ae[n],f=$e[i],h=o?2:1,m=f+p/2,g=d+u/2,v=p<=u&&f>=d&&f+p<=d+u;l?Ce[r]=!0:Ce[r]||((s||c)&&(Ce[r]=!!c&&v,a=p<u?m>g:m<g),Te[r]-=a||o?(u/h-p/h)*(e&&ee&&I?-1:1):0)};Pe(!0),Pe(!1)}Ce.y&&delete Te.y,Ce.x&&delete Te.x,e=Te}}F.scrollLeft=ue(!0,ce(!0,e)),F.scrollTop=ue(!1,ce(!1,e)),T=void 0!==F.scrollLeft,O=void 0!==F.scrollTop,(T||O)&&(t>0||N)?N?(t.complete=se,ge.animate(F,t)):(S={duration:t,complete:se},g.isA(n)||_.isPlainObject(n)?(W.scrollLeft=n[0]||n.x,W.scrollTop=n[1]||n.y,S.specialEasing=W):S.easing=n,ge.animate(F,S)):(T&&ge.scrollLeft(F.scrollLeft),O&&ge.scrollTop(F.scrollTop),oe())},k.scrollStop=function(e,t,n){return ge.stop(e,t,n),k},k.getElements=function(e){var t={target:Pe,host:Ee,padding:Be,viewport:Ie,content:Re,scrollbarHorizontal:{scrollbar:xe[0],track:ke[0],handle:$e[0]},scrollbarVertical:{scrollbar:Ce[0],track:Te[0],handle:Oe[0]},scrollbarCorner:we[0]};return f(e)==u?ir(t,e):t},k.getState=function(e){function t(e){if(!_.isPlainObject(e))return e;var t=sr({},e),n=function(e,n){t[h.hOP](e)&&(t[n]=t[e],delete t[e])};return n("w",Qt),n("h",Jt),delete t.c,t}var n={destroyed:!!t(H),sleeping:!!t(te),autoUpdate:t(!$t),widthAuto:t(Fe),heightAuto:t(We),padding:t(Ue),overflowAmount:t(et),hideOverflow:t(He),hasOverflow:t(Ne),contentScrollSize:t(Le),viewportSize:t(Ft),hostSize:t(De),documentMixed:t(q)};return f(e)==u?ir(n,e):n},k.ext=function(e){var t,n="added removed on contract".split(" "),i=0;if(f(e)==u){if(ci[h.hOP](e))for(t=sr({},ci[e]);i<n.length;i++)delete t[n[i]]}else for(i in t={},ci)t[i]=sr({},k.ext(i));return t},k.addExt=function(t,n){var i,r,a,o,s=e.extension(t),c=!0;if(s){if(ci[h.hOP](t))return k.ext(t);if((i=s.extensionFactory.call(k,sr({},s.defaultOptions),_,g))&&(a=i.contract,f(a)==l&&(o=a(window),c=f(o)==d?o:c),c))return ci[t]=i,r=i.added,f(r)==l&&r(n),k.ext(t)}else console.warn('A extension with the name "'+t+"\" isn't registered.")},k.removeExt=function(e){var t,n=ci[e];return!!n&&(delete ci[e],t=n.removed,f(t)==l&&t(),!0)},e.valid(function(e,t,n){var i,o;return ne=r.defaultOptions,j=r.nativeScrollbarStyling,B=sr({},r.nativeScrollbarSize),O=sr({},r.nativeScrollbarIsOverlaid),S=sr({},r.overlayScrollbarDummySize),A=sr({},r.rtlScrollBehavior),Ii(sr({},ne,t)),M=r.cssCalc,E=r.msie,P=r.autoUpdateRecommended,I=r.supportTransition,R=r.supportTransform,D=r.supportPassiveEvents,L=r.supportResizeObserver,z=r.supportMutationObserver,r.restrictedMeasuring,le=_(e.ownerDocument),Ae=le[0],se=_(Ae.defaultView||Ae.parentWindow),Se=se[0],ce=pr(le,"html"),ue=pr(ce,"body"),de=_(e),Pe=de[0],F=de.is("textarea"),W=de.is("body"),q=Ae!==document,U=F?de.hasClass(Rn)&&de.parent().hasClass(Fn):de.hasClass($n)&&de.children(".bpbm-os-padding")[h.l],O.x&&O.y&&!re.nativeScrollbarsOverlaid.initialize?(Vi("onInitializationWithdrawn"),U&&(Ri(!0),Di(!0),Ui(!0)),H=!0,te=!0,k):(W&&((i={}).l=v.max(de.scrollLeft(),ce.scrollLeft(),se.scrollLeft()),i.t=v.max(de.scrollTop(),ce.scrollTop(),se.scrollTop()),o=function(){ge.removeAttr(h.ti),vi(ge,hn,o,!0,!0)}),Ri(),Di(),Ui(),function(){var e,t,n=[112,113,114,115,116,117,118,119,120,121,123,33,34,37,38,39,40,16,17,18,19,20,144],i=[],r="focus";function a(t){ji(),k.update(nn),t&&P&&clearInterval(e)}F?(E>9||!P?bi(de,"input",a):bi(de,[_n,yn],[function(t){var r=t.keyCode;w(r,n)<0&&(i[h.l]||(a(),e=setInterval(a,1e3/60)),w(r,i)<0&&i.push(r))},function(e){var t=e.keyCode,r=w(t,i);w(t,n)<0&&(r>-1&&i.splice(r,1),i[h.l]||a(!0))}]),bi(de,[an,"drop",r,"focusout"],[function(e){return de.scrollLeft(A.i&&dt?9999999:0),de.scrollTop(0),g.prvD(e),g.stpP(e),!1},function(e){setTimeout((function(){H||a()}),50)},function(){Ct=!0,lr(pe,r)},function(){Ct=!1,i=[],cr(pe,r),a(!0)}])):bi(ve,xn,(function(e){!0!==nt&&function(e){if(!N)return!0;var t="flex-grow",n="flex-shrink",i="flex-basis",r=[Qt,"min-width","max-width","margin-left","margin-right",Zt,Xt,"font-weight","word-spacing",t,n,i],a=["padding-left","padding-right","border-leftwidth","border-rightwidth"],o=[Jt,"min-height","max-height","margin-top","margin-bottom",Kt,Yt,"line-height",t,n,i],s=["padding-top","padding-bottom","border-topwidth","border-bottomwidth"],l="s"===Je.x||"v-s"===Je.x,c=!1,u=function(e,t){for(var n=0;n<e[h.l];n++)if(e[n]===t)return!0;return!1};return("s"===Je.y||"v-s"===Je.y)&&((c=u(o,e))||V||(c=u(s,e))),l&&!c&&((c=u(r,e))||V||(c=u(a,e))),c}((e=e.originalEvent||e).propertyName)&&k.update(nn)})),bi(ge,an,(function(e){te||(void 0!==t?clearTimeout(t):((Pt||Et)&&Ni(!0),Ji()||lr(pe,jn),Vi("onScrollStart",e)),Bt||(Fi(!0),Fi(!1)),Vi("onScroll",e),t=setTimeout((function(){H||(clearTimeout(t),t=void 0,(Pt||Et)&&Ni(!1),Ji()||cr(pe,jn),Vi("onScrollStop",e))}),175))}),!0)}(),Li(!0),Li(!1),function(){var e,t=Se.top!==Se,n={},i={},r={};function a(e){if(s(e)){var t=l(e),a={};(Dt||Rt)&&(a.width=i.w+(t.x-n.x)*r.x),(Lt||Rt)&&(a.height=i.h+(t.y-n.y)*r.y),pe.css(a),g.stpP(e)}else o(e)}function o(t){var n=void 0!==t;vi(le,[wn,gn,mn],[Ti,a,o],!0),cr(ue,ri),we.releaseCapture&&we.releaseCapture(),n&&(e&&yi(),k.update(nn)),e=!1}function s(e){var t=void 0!==(e.originalEvent||e).touches;return!te&&!H&&(1===g.mBtn(e)||t)}function l(e){return E&&t?{x:e.screenX,y:e.screenY}:g.page(e)}bi(we,hn,(function(t){s(t)&&!It&&($t&&(e=!0,wi()),n=l(t),i.w=Ee[h.oW]-(V?0:K),i.h=Ee[h.oH]-(V?0:X),r=Yi(),vi(le,[wn,gn,mn],[Ti,a,o]),lr(ue,ri),we.setCapture&&we.setCapture(),g.prvD(t),g.stpP(t))}))}(),function(){if(z){var e,t,n,i,r,o,s,c,u,d,p=g.mO(),f=g.now();kt=function(e){var t=!1;return N&&!te&&(x(e,(function(){return t=function(e){var t=e.attributeName,n=e.target,i=e.type,r="closest";if(n===Re)return null===t;if("attributes"===i&&(t===h.c||t===h.s)&&!F){if(t===h.c&&_(n).hasClass($n))return Pi(e.oldValue,n.className);if((0,a.Z)(n[r])!=l)return!0;if(null!==n[r](".bpbm-os-resize-observer")||null!==n[r](".bpbm-os-scrollbar")||null!==n[r](".bpbm-os-scrollbar-corner"))return!1}return!0}(this),!t})),t&&(c=g.now(),u=We||Fe,d=function(){H||(f=c,F&&ji(),u?Mi():k.update(nn))},clearTimeout(s),c-f>11||!u?d():s=setTimeout(d,11))),t},yt=new p(xt=function(a){var s,l=!1,c=!1,u=[];return N&&!te&&(x(a,(function(){e=(s=this).target,t=s.attributeName,n=t===h.c,i=s.oldValue,r=e.className,U&&n&&!c&&i.indexOf(Cn)>-1&&r.indexOf(Cn)<0&&(o=Xi(!0),Ee.className=r.split(un).concat(i.split(un).filter((function(e){return e.match(o)}))).join(un),l=c=!0),l||(l=n?Pi(i,r):t!==h.s||i!==e[h.s].cssText),u.push(t)})),Ei(u),l&&k.update(c||nn)),l}),wt=new p(kt)}}(),_i(he,xi),W&&(ge.scrollLeft(i.l).scrollTop(i.t),document.activeElement==e&&Ie.focus&&(ge.attr(h.ti,"-1"),Ie.focus(),vi(ge,hn,o,!1,!0))),k.update(nn),N=!0,Vi("onInitialized"),x(si,(function(e,t){Vi(t.n,t.a)})),si=[],f(n)==u&&(n=[n]),g.isA(n)?x(n,(function(e,t){k.addExt(t)})):_.isPlainObject(n)&&x(n,(function(e,t){k.addExt(e,t)})),setTimeout((function(){I&&!H&&lr(pe,An)}),333),k)}(t,n,i))&&y(t,k),k}function vi(e,t,n,i,r){var a=g.isA(t)&&g.isA(n),o=i?"removeEventListener":"addEventListener",s=i?"off":"on",l=!a&&t.split(un),c=0,u=_.isPlainObject(r),d=D&&(u?r._passive:r)||!1,p=u&&(r._capture||!1),f=D?{passive:d,capture:p}:p;if(a)for(;c<t[h.l];c++)vi(e,t[c],n[c],i,r);else for(;c<l[h.l];c++)D?e[0][o](l[c],n,f):e[s](l[c],n)}function bi(e,t,n,i){vi(e,t,n,!1,i),gi.push(g.bind(vi,0,e,t,n,!0,i))}function _i(e,t){if(e){var n=g.rO(),i="animationstart mozAnimationStart webkitAnimationStart MSAnimationStart",a=3333333,o=function(){e.scrollTop(a).scrollLeft(ee?A.n?-3333333:A.i?0:a:a),t()};if(t){if(L)((B=e.addClass("observed").append(tr(Wn)).contents()[0]).__BPBMoverlayScrollbarsRO__=new n(o)).observe(B);else if(E>9||!P){e.prepend(tr(Wn,tr({c:qn,dir:"ltr"},tr(qn,tr(Un))+tr(qn,tr({c:Un,style:"width: 200%; height: 200%"})))));var l,c,u,d,p=e[0].childNodes[0].childNodes[0],f=_(p.childNodes[1]),m=_(p.childNodes[0]),v=_(m[0].childNodes[0]),b=p[h.oW],y=p[h.oH],w=r.nativeScrollbarSize,x=function(){m.scrollLeft(a).scrollTop(a),f.scrollLeft(a).scrollTop(a)},k=function(){c=0,l&&(b=u,y=d,o())},$=function(e){return u=p[h.oW],d=p[h.oH],l=u!=b||d!=y,e&&l&&!c?(g.cAF()(c),c=g.rAF()(k)):e||k(),x(),e&&(g.prvD(e),g.stpP(e)),!1},C={},T={};Gi(T,tn,[-2*(w.y+1),-2*w.x,-2*w.y,-2*(w.x+1)]),_(p).css(T),m.on(an,$),f.on(an,$),e.on(i,(function(){$(!1)})),C.width=a,C.height=a,v.css(C),x()}else{var O=Ae.attachEvent,S=void 0!==E;if(O)e.prepend(tr(Wn)),pr(e,".bpbm-os-resize-observer")[0].attachEvent("onresize",o);else{var j=Ae.createElement(s);j.setAttribute(h.ti,"-1"),j.setAttribute(h.c,Wn),j.onload=function(){var e=this.contentDocument.defaultView;e.addEventListener("resize",o),e.document.documentElement.style.display="none"},j.type="text/html",S&&e.prepend(j),j.data="about:blank",S||e.prepend(j),e.on(i,o)}}if(e[0]===Me){var M=function(){var e=pe.css("direction"),t={},n=0,i=!1;return e!==Xe&&("ltr"===e?(t.left=0,t.right=nn,n=a):(t.left=nn,t.right=0,n=A.n?-3333333:A.i?0:a),he.children().eq(0).css(t),he.scrollLeft(n).scrollTop(a),Xe=e,i=!0),i};M(),bi(e,an,(function(e){return M()&&Mi(),g.prvD(e),g.stpP(e),!1}))}}else if(L){var B,I=(B=e.contents()[0]).__BPBMoverlayScrollbarsRO__;I&&(I.disconnect(),delete B.__BPBMoverlayScrollbarsRO__)}else dr(e.children(".bpbm-os-resize-observer").eq(0))}}function yi(){z&&!$t&&(yt.observe(Ee,{attributes:!0,attributeOldValue:!0,attributeFilter:mi}),wt.observe(F?Pe:Re,{attributes:!0,attributeOldValue:!0,subtree:!F,childList:!F,characterData:!F,attributeFilter:F?hi:mi}),$t=!0)}function wi(){z&&$t&&(yt.disconnect(),wt.disconnect(),$t=!1)}function xi(){if(!te){var e,t={w:Me[h.sW],h:Me[h.sH]};e=or(t,at),at=t,e&&Mi({_hostSizeChanged:!0})}}function ki(){jt&&Ni(!0)}function $i(){jt&&!ue.hasClass(ri)&&Ni(!1)}function Ci(){Et&&(Ni(!0),clearTimeout(Ot),Ot=setTimeout((function(){Et&&!H&&Ni(!1)}),100))}function Ti(e){return g.prvD(e),!1}function Oi(e){var t=_(e.target);ar((function(e,n){t.is(n)&&Mi({_contentSizeChanged:!0})}))}function Si(e){e||Si(!0),vi(pe,gn.split(un)[0],Ci,!Et||e,!0),vi(pe,[vn,bn],[ki,$i],!jt||e,!0),N||e||pe.one("mouseover",ki)}function Ai(){var e={};return W&&be&&(e.w=Qi(be.css("min-width")),e.h=Qi(be.css("min-height")),e.c=or(e,_t),e.f=!0),_t=e,!!e.c}function Pi(e,t){var n,i,r=(0,a.Z)(t)==u?t.split(un):[],o=function(e,t){var n,i,r=[],a=[];for(n=0;n<e.length;n++)r[e[n]]=!0;for(n=0;n<t.length;n++)r[t[n]]?delete r[t[n]]:r[t[n]]=!0;for(i in r)a.push(i);return a}((0,a.Z)(e)==u?e.split(un):[],r),s=w(ai,o);if(s>-1&&o.splice(s,1),o[h.l]>0)for(i=Xi(!0,!0),n=0;n<o.length;n++)if(!o[n].match(i))return!0;return!1}function Ei(e){x(e=e||li,(function(e,t){if(g.inA(t,li)>-1){var n=de.attr(t);f(n)==u?ge.attr(t,n):ge.removeAttr(t)}}))}function ji(){if(!te){var e,t,n,i,r=!ht,a=Ft.w,o=Ft.h,s={},l=Fe||r;return s["min-width"]=tn,s["min-height"]=tn,s.width=nn,de.css(s),e=Pe[h.oW],t=l?v.max(e,Pe[h.sW]-1):1,s.width=Fe?nn:on,s["min-width"]=on,s.height=nn,de.css(s),n=Pe[h.oH],i=v.max(n,Pe[h.sH]-1),s.width=t,s.height=i,ye.css(s),s["min-width"]=a,s["min-height"]=o,de.css(s),{_originalWidth:e,_originalHeight:n,_dynamicWidth:t,_dynamicHeight:i}}}function Mi(e){clearTimeout(oe),e=e||{},ui._hostSizeChanged|=e._hostSizeChanged,ui._contentSizeChanged|=e._contentSizeChanged,ui._force|=e._force;var t,n=g.now(),i=!!ui._hostSizeChanged,a=!!ui._contentSizeChanged,s=!!ui._force,l=e._changedOptions,c=N&&!H&&!s&&!l&&n-ae<42&&!We&&!Fe;if(c&&(oe=setTimeout(Mi,42)),!(H||c||te&&!l||N&&!s&&(t=pe.is(":hidden"))||"inline"===pe.css("display"))){ae=n,ui={},!j||O.x&&O.y?B=sr({},r.nativeScrollbarSize):(B.x=0,B.y=0),Wt={x:3*(B.x+(O.x?0:3)),y:3*(B.y+(O.y?0:3))},l=l||{};var u=function(){return or.apply(this,[].slice.call(arguments).concat([s]))},d={x:ge.scrollLeft(),y:ge.scrollTop()},p=re.scrollbars,f=re.textarea,b=p.visibility,y=u(b,ot),w=p.autoHide,x=u(w,st),$=p.clickScrolling,C=u($,lt),T=p.dragScrolling,E=u(T,ct),I=re.className,R=u(I,pt),D=re.resize,L=u(D,ut)&&!W,z=re.paddingAbsolute,q=u(z,Ye),U=re.clipAlways,ne=u(U,Ze),ie=re.sizeAutoCapable&&!W,se=u(ie,it),le=re.nativeScrollbarsOverlaid.showNativeScrollbars,ce=u(le,tt),ue=re.autoUpdate,xe=u(ue,nt),ke=re.overflowBehavior,$e=u(ke,Je,s),Ce=f.dynWidth,Te=u(bt,Ce),Oe=f.dynHeight,Se=u(vt,Oe);if(At="n"===w,Pt="s"===w,Et="m"===w,jt="l"===w,St=p.autoHideDelay,ft=pt,It="n"===D,Rt="b"===D,Dt="h"===D,Lt="v"===D,dt=re.normalizeRTL,le=le&&O.x&&O.y,ot=b,st=w,lt=$,ct=T,pt=I,ut=D,Ye=z,Ze=U,it=ie,tt=le,nt=ue,Je=sr({},ke),bt=Ce,vt=Oe,Ne=Ne||{x:!1,y:!1},R&&(cr(pe,ft+un+ai),lr(pe,null!=I&&I.length>0?I:ai)),xe&&(!0===ue||null===ue&&P?(wi(),o.add(k)):(o.remove(k),yi())),se)if(ie)if(_e?_e.show():(_e=_(tr("bpbm-os-content-glue")),me.before(_e)),G)fe.show();else{fe=_(tr("bpbm-os-size-auto-observer")),je=fe[0],_e.before(fe);var Ae={w:-1,h:-1};_i(fe,(function(){var e={w:je[h.oW],h:je[h.oH]};or(e,Ae)&&(N&&We&&e.h>0||Fe&&e.w>0||N&&!We&&0===e.h||!Fe&&0===e.w)&&Mi(),Ae=e})),G=!0,null!==M&&fe.css(Jt,M+"(100% + 1px)")}else G&&fe.hide(),_e&&_e.hide();s&&(he.find("*").trigger(an),G&&fe.find("*").trigger(an)),t=void 0===t?pe.is(":hidden"):t;var Me,Xe=!!F&&"off"!==de.attr("wrap"),rt=u(Xe,ht),at=pe.css("direction"),yt=u(at,Ke),wt=pe.css("box-sizing"),xt=u(wt,qe),kt=Ki(Vt);try{Me=G?je[h.bCR]():null}catch(e){return}V="border-box"===wt;var Tt=(ee="rtl"===at)?Zt:Xt,Ot=ee?Xt:Zt,Mt=!1,Bt=!(!G||"none"===pe.css(en))&&0===v.round(Me.right-Me.left)&&(!!z||Ee[h.cW]-K>0);if(ie&&!Bt){var Nt=Ee[h.oW],Ht=_e.css(Qt);_e.css(Qt,nn);var qt=Ee[h.oW];_e.css(Qt,Ht),(Mt=Nt!==qt)||(_e.css(Qt,Nt+1),qt=Ee[h.oW],_e.css(Qt,Ht),Mt=Nt!==qt)}var Kt=(Bt||Mt)&&ie&&!t,rn=u(Kt,Fe),sn=!Kt&&Fe,ln=!(!G||!ie||t)&&0===v.round(Me.bottom-Me.top),cn=u(ln,We),dn=!ln&&We,pn=Ki(Gt,"-width",!(Kt&&V||!V),!(ln&&V||!V)),fn=Ki(Ut),hn={},mn={},gn=function(){return{w:Ee[h.cW],h:Ee[h.cH]}},vn=function(){return{w:Be[h.oW]+v.max(0,Re[h.cW]-Re[h.sW]),h:Be[h.oH]+v.max(0,Re[h.cH]-Re[h.sH])}},bn=K=kt.l+kt.r,_n=X=kt.t+kt.b;if(bn*=z?1:0,_n*=z?1:0,kt.c=u(kt,Ue),Y=pn.l+pn.r,Z=pn.t+pn.b,pn.c=u(pn,Ve),Q=fn.l+fn.r,J=fn.t+fn.b,fn.c=u(fn,Ge),ht=Xe,Ke=at,qe=wt,Fe=Kt,We=ln,Ue=kt,Ve=pn,Ge=fn,yt&&G&&fe.css(en,Ot),kt.c||yt||q||rn||cn||xt||se){var yn={},wn={},xn=[kt.t,kt.r,kt.b,kt.l];Gi(mn,Ut,[-kt.t,-kt.r,-kt.b,-kt.l]),z?(Gi(yn,tn,xn),Gi(F?wn:hn,Vt)):(Gi(yn,tn),Gi(F?wn:hn,Vt,xn)),me.css(yn),de.css(wn)}Ft=vn();var kn=!!F&&ji(),$n=F&&u(kn,gt),Cn=F&&kn?{w:Ce?kn._dynamicWidth:kn._originalWidth,h:Oe?kn._dynamicHeight:kn._originalHeight}:{};if(gt=kn,ln&&(cn||q||xt||kt.c||pn.c)?hn.height=nn:(cn||q)&&(hn.height=on),Kt&&(rn||q||xt||kt.c||pn.c||yt)?(hn.width=nn,mn["max-width"]=on):(rn||q)&&(hn.width=on,hn.float=tn,mn["max-width"]=tn),Kt?(mn.width=nn,hn.width=m._cssPropertyValue(Qt,"max-content intrinsic")||nn,hn.float=Ot):mn.width=tn,mn.height=ln?Cn.h||Re[h.cH]:tn,ie&&_e.css(mn),ve.css(hn),hn={},mn={},i||a||$n||yt||xt||q||rn||Kt||cn||ln||ce||$e||ne||L||y||x||E||C||Te||Se||rt){var Tn="overflow",On="overflow-x",Sn="overflow-y";if(!j){var An={},Rn=Ne.y&&He.ys&&!le?O.y?ge.css(Tt):-B.y:0,Dn=Ne.x&&He.xs&&!le?O.x?ge.css(Yt):-B.x:0;Gi(An,tn),ge.css(An)}var Ln=er(),zn={w:Cn.w||Ln[h.cW],h:Cn.h||Ln[h.cH]},Hn={w:Ln[h.sW],h:Ln[h.sH]};j||(An.bottom=dn?tn:Dn,An[Tt]=sn?tn:Rn,ge.css(An)),Ft=vn();var Fn=gn(),Wn={w:Fn.w-Q-Y-(V?0:K),h:Fn.h-J-Z-(V?0:X)},qn={w:v.max((Kt?zn.w:Hn.w)+bn,Wn.w),h:v.max((ln?zn.h:Hn.h)+_n,Wn.h)};if(qn.c=u(qn,Qe),Qe=qn,ie){(qn.c||ln||Kt)&&(mn.width=qn.w,mn.height=qn.h,F||(zn={w:Ln[h.cW],h:Ln[h.cH]}));var Un={},Vn=function(e){var t=qi(e),n=t._w_h,i=t._width_height,r=e?Kt:ln,a=e?Y:Z,o=e?K:X,s=e?Q:J,l=Ft[n]-a-s-(V?0:o);(!r||!r&&pn.c)&&(mn[i]=Wn[n]-1),!(r&&zn[n]<l)||e&&F&&Xe||(F&&(Un[i]=Qi(ye.css(i))-1),mn[i]-=1),zn[n]>0&&(mn[i]=v.max(1,mn[i]))};Vn(!0),Vn(!1),F&&ye.css(Un),_e.css(mn)}Kt&&(hn.width=on),!Kt||V||$t||(hn.float="none"),ve.css(hn),hn={};var Gn={w:Ln[h.sW],h:Ln[h.sH]};Gn.c=a=u(Gn,Le),Le=Gn,Ft=vn(),i=u(Fn=gn(),De),De=Fn;var Kn=F&&(0===Ft.w||0===Ft.h),Xn=et,Yn={},Zn={},Qn={},Jn={},ri={},oi={},si={},li=Be[h.bCR](),ci=function(e){var t=qi(e),n=qi(!e)._x_y,i=t._x_y,r=t._w_h,a=t._width_height,o=an+t._Left_Top+"Max",s=li[a]?v.abs(li[a]-Ft[r]):0,l=Xn&&Xn[i]>0&&0===Ie[o];Yn[i]="v-s"===ke[i],Zn[i]="v-h"===ke[i],Qn[i]="s"===ke[i],Jn[i]=v.max(0,v.round(100*(Gn[r]-Ft[r]))/100),Jn[i]*=Kn||l&&s>0&&s<1?0:1,ri[i]=Jn[i]>0,oi[i]=Yn[i]||Zn[i]?ri[n]&&!Yn[n]&&!Zn[n]:ri[i],oi[i+"s"]=!!oi[i]&&(Qn[i]||Yn[i]),si[i]=ri[i]&&oi[i+"s"]};if(ci(!0),ci(!1),Jn.c=u(Jn,et),et=Jn,ri.c=u(ri,Ne),Ne=ri,oi.c=u(oi,He),He=oi,O.x||O.y){var di,pi={},fi={},hi=s;(ri.x||ri.y)&&(fi.w=O.y&&ri.y?Gn.w+S.y:tn,fi.h=O.x&&ri.x?Gn.h+S.x:tn,hi=u(fi,ze),ze=fi),(ri.c||oi.c||Gn.c||yt||rn||cn||Kt||ln||ce)&&(hn[Ut+Ot]=hn[Gt+Ot]=tn,di=function(e){var t=qi(e),n=qi(!e),i=t._x_y,r=e?Yt:Tt,a=e?ln:Kt;O[i]&&ri[i]&&oi[i+"s"]?(hn[Ut+r]=a?le?tn:S[i]:tn,hn[Gt+r]=e&&a||le?tn:S[i]+"px solid transparent"):(fi[n._w_h]=hn[Ut+r]=hn[Gt+r]=tn,hi=!0)},j?ur(ge,Nn,!le):(di(!0),di(!1))),le&&(fi.w=fi.h=tn,hi=!0),hi&&!j&&(pi.width=oi.y?fi.w:tn,pi.height=oi.x?fi.h:tn,be||(be=_(tr("bpbm-os-content-arrange")),ge.prepend(be)),be.css(pi)),ve.css(hn)}var mi,gi={};if(yn={},(i||ri.c||oi.c||Gn.c||$e||xt||ce||yt||ne||cn)&&(gi[Ot]=tn,(mi=function(e){var t=qi(e),n=qi(!e),i=t._x_y,r=t._X_Y,a=e?Yt:Tt,o=function(){gi[a]=tn,zt[n._w_h]=0};ri[i]&&oi[i+"s"]?(gi[Tn+r]=an,le||j?o():(gi[a]=-(O[i]?S[i]:B[i]),zt[n._w_h]=O[i]?S[n._x_y]:0)):(gi[Tn+r]=tn,o())})(!0),mi(!1),!j&&(Ft.h<Wt.x||Ft.w<Wt.y)&&(ri.x&&oi.x&&!O.x||ri.y&&oi.y&&!O.y)?(gi["padding-top"]=Wt.x,gi["margin-top"]=-Wt.x,gi[Vt+Ot]=Wt.y,gi[Ut+Ot]=-Wt.y):gi["padding-top"]=gi["margin-top"]=gi[Vt+Ot]=gi[Ut+Ot]=tn,gi[Vt+Tt]=gi[Ut+Tt]=tn,ri.x&&oi.x||ri.y&&oi.y||Kn?F&&Kn&&(yn[On]=yn[Sn]="hidden"):(!U||Zn.x||Yn.x||Zn.y||Yn.y)&&(F&&(yn[On]=yn[Sn]=tn),gi[On]=gi[Sn]="visible"),me.css(yn),ge.css(gi),gi={},(ri.c||xt||rn||cn)&&(!O.x||!O.y))){var vi=Re[h.s];vi.webkitTransform="scale(1)",vi.display="run-in",Re[h.oH],vi.display=tn,vi.webkitTransform=tn}if(hn={},yt||rn||cn)if(ee&&Kt){var bi=ve.css(en),xi=v.round(ve.css(en,tn).css(Zt,tn).position().left);ve.css(en,bi),xi!==v.round(ve.position().left)&&(hn.left=xi)}else hn.left=tn;if(ve.css(hn),F&&a){var ki=function(){var e=Pe.selectionStart;if(void 0!==e){var t,n,i=de.val(),r=i[h.l],a=i.split("\n"),o=a[h.l],s=i.substr(0,e).split("\n"),l=0,c=0,u=s[h.l],d=s[s[h.l]-1][h.l];for(n=0;n<a[h.l];n++)(t=a[n][h.l])>c&&(l=n+1,c=t);return{_cursorRow:u,_cursorColumn:d,_rows:o,_columns:c,_widestRow:l,_cursorPosition:e,_cursorMax:r}}}();if(ki){var $i=void 0===mt||ki._rows!==mt._rows,Ci=ki._cursorRow,Ti=ki._cursorColumn,Oi=ki._widestRow,Pi=ki._rows,Ei=ki._columns,Ii=ki._cursorPosition>=ki._cursorMax&&Ct,Ri={x:Xe||Ti!==Ei||Ci!==Oi?-1:et.x,y:(Xe?Ii||$i&&Xn&&d.y===Xn.y:(Ii||$i)&&Ci===Pi)?et.y:-1};d.x=Ri.x>-1?ee&&dt&&A.i?0:Ri.x:d.x,d.y=Ri.y>-1?Ri.y:d.y}mt=ki}ee&&A.i&&O.y&&ri.x&&dt&&(d.x+=zt.w||0),Kt&&pe.scrollLeft(0),ln&&pe.scrollTop(0),ge.scrollLeft(d.x).scrollTop(d.y);var Di="v"===b,Li="h"===b,Ui="a"===b,Xi=function(e,t){t=void 0===t?e:t,zi(!0,e,si.x),zi(!1,t,si.y)};ur(pe,Mn,oi.x||oi.y),ur(pe,Bn,oi.x),ur(pe,In,oi.y),yt&&!W&&ur(pe,Pn,ee),W&&lr(pe,En),L&&(ur(pe,En,It),ur(we,ei,!It),ur(we,ti,Rt),ur(we,ni,Dt),ur(we,ii,Lt)),(y||$e||oi.c||ri.c||ce)&&(le?ce&&(cr(pe,jn),le&&Xi(!1)):Ui?Xi(si.x,si.y):Di?Xi(!0):Li&&Xi(!1)),(x||ce)&&(Si(!jt&&!Et),Ni(At,!At)),(i||Jn.c||cn||rn||L||xt||q||ce||yt)&&(Hi(!0),Fi(!0),Hi(!1),Fi(!1)),C&&Wi(!0,$),E&&Wi(!1,T),Vi("onDirectionChanged",{isRTL:ee,dir:at},yt),Vi("onHostSizeChanged",{width:De.w,height:De.h},i),Vi("onContentSizeChanged",{width:Le.w,height:Le.h},a),Vi("onOverflowChanged",{x:ri.x,y:ri.y,xScrollable:oi.xs,yScrollable:oi.ys,clipped:oi.x||oi.y},ri.c||oi.c),Vi("onOverflowAmountChanged",{x:Jn.x,y:Jn.y},Jn.c)}W&&_t&&(Ne.c||_t.c)&&(_t.f||Ai(),O.y&&Ne.x&&ve.css("min-width",_t.w+S.y),O.x&&Ne.y&&ve.css("min-height",_t.h+S.x),_t.c=!1),N&&l.updateOnLoad&&Bi(),Vi("onUpdated",{forced:s})}}function Bi(){F||ar((function(e,t){ve.find(t).each((function(e,t){g.inA(t,pi)<0&&(pi.push(t),_(t).off(di,Oi).on(di,Oi))}))}))}function Ii(e){var t=T._validate(e,T._template,!0,ie);return ie=sr({},ie,t._default),re=sr({},re,t._prepared),t._prepared}function Ri(e){var t=Rn+un+Vn,n=F?un+Vn:tn,i=re.textarea.inheritedAttrs,r={},a=function(){var t=e?de:pe;x(r,(function(e,n){f(n)==u&&(e==h.c?t.addClass(n):t.attr(e,n))}))},o=[$n,Cn,Tn,En,Pn,On,Sn,An,jn,Mn,Bn,In,ai,Rn,Vn,pt].join(un),s={};pe=pe||(F?U?de.parent().parent().parent().parent():_(tr(Tn)):de),ve=ve||nr(Fn+n),ge=ge||nr(zn+n),me=me||nr(Ln+n),he=he||nr("bpbm-os-resize-observer-host"),ye=ye||(F?nr(Dn):void 0),U&&lr(pe,Cn),e&&cr(pe,o),i=f(i)==u?i.split(un):i,g.isA(i)&&F&&x(i,(function(t,n){f(n)==u&&(r[n]=e?pe.attr(n):de.attr(n))})),e?(U&&N?(he.children().remove(),x([me,ge,ve,ye],(function(e,t){t&&cr(t.removeAttr(h.s),oi)})),lr(pe,F?Tn:$n)):(dr(he),ve.contents().unwrap().unwrap().unwrap(),F&&(de.unwrap(),dr(pe),dr(ye),a())),F&&de.removeAttr(h.s),W&&cr(ce,kn)):(F&&(re.sizeAutoCapable||(s.width=de.css(Qt),s.height=de.css(Jt)),U||de.addClass(Vn).wrap(pe),pe=de.parent().css(s)),U||(lr(de,F?t:$n),pe.wrapInner(ve).wrapInner(ge).wrapInner(me).prepend(he),ve=pr(pe,".bpbm-os-content"),ge=pr(pe,".bpbm-os-viewport"),me=pr(pe,".bpbm-os-padding"),F&&(ve.prepend(ye),a())),j&&lr(ge,Nn),O.x&&O.y&&lr(ge,Hn),W&&lr(ce,kn),Me=he[0],Ee=pe[0],Be=me[0],Ie=ge[0],Re=ve[0],Ei())}function Di(e){var t,n,i=function(t){var n=nr("bpbm-os-scrollbar "+(t?"bpbm-os-scrollbar-horizontal":"bpbm-os-scrollbar-vertical"),!0),i=nr(Gn,n),r=nr(Xn,n);return U||e||(n.append(i),i.append(r)),{_scrollbar:n,_track:i,_handle:r}};function r(e){var t=qi(e),n=t._scrollbar,r=t._track,a=t._handle;U&&N?x([n,r,a],(function(e,t){cr(t.removeAttr(h.s),oi)})):dr(n||i(e)._scrollbar)}e?(r(!0),r()):(t=i(!0),n=i(),xe=t._scrollbar,ke=t._track,$e=t._handle,Ce=n._scrollbar,Te=n._track,Oe=n._handle,U||(me.after(Ce),me.after(xe)))}function Li(e){var t,n,i,r,a=qi(e),o=a._info,s=Se.top!==Se,l=a._x_y,c=a._X_Y,u=an+a._Left_Top,d="active",p="snapHandle",f="click",m=1,b=[16,17];function _(e){return E&&s?e["screen"+c]:g.page(e)[l]}function y(e){return re.scrollbars[e]}function x(){m=.5}function $(){m=1}function C(e){g.stpP(e)}function T(e){w(e.keyCode,b)>-1&&x()}function O(e){w(e.keyCode,b)>-1&&$()}function S(e){var t=void 0!==(e.originalEvent||e).touches;return!(te||H||Ji()||!ct||t&&!y("touchSupport"))&&(1===g.mBtn(e)||t)}function P(t){if(S(t)){var a=o._trackLength,s=o._handleLength,l=o._maxScroll*((_(t)-i)*r/(a-s));l=isFinite(l)?l:0,ee&&e&&!A.i&&(l*=-1),ge[u](v.round(n+l)),Bt&&Fi(e,n+l),D||g.prvD(t)}else j(t)}function j(o){if(o=o||o.originalEvent,vi(le,[gn,mn,_n,yn,wn],[P,j,T,O,Ti],!0),g.rAF()((function(){vi(le,f,C,!0,{_capture:!0})})),Bt&&Fi(e,!0),Bt=!1,cr(ue,ri),cr(a._handle,d),cr(a._track,d),cr(a._scrollbar,d),n=void 0,i=void 0,r=1,$(),void 0!==t&&(k.scrollStop(),clearTimeout(t),t=void 0),o){var s=Ee[h.bCR]();o.clientX>=s.left&&o.clientX<=s.right&&o.clientY>=s.top&&o.clientY<=s.bottom||$i(),(Pt||Et)&&Ni(!1)}}function M(t){n=ge[u](),n=isNaN(n)?0:n,(ee&&e&&!A.n||!ee)&&(n=n<0?0:n),r=Yi()[l],i=_(t),Bt=!y(p),lr(ue,ri),lr(a._handle,d),lr(a._scrollbar,d),vi(le,[gn,mn,wn],[P,j,Ti]),g.rAF()((function(){vi(le,f,C,!1,{_capture:!0})})),!E&&q||g.prvD(t),g.stpP(t)}bi(a._handle,hn,(function(e){S(e)&&M(e)})),bi(a._track,[hn,vn,bn],[function(n){if(S(n)){var s,c=a._info._handleLength/Math.round(v.min(1,Ft[a._w_h]/Le[a._w_h])*a._info._trackLength),f=v.round(Ft[a._w_h]*c),h=270*c,b=400*c,_=a._track.offset()[a._left_top],w=n.ctrlKey,$=n.shiftKey,C=$&&w,P=!0,E=function(t){Bt&&Fi(e,t)},B=function(){E(),M(n)};w&&x(),r=Yi()[l],i=g.page(n)[l],Bt=!y(p),lr(ue,ri),lr(a._track,d),lr(a._scrollbar,d),vi(le,[mn,_n,yn,wn],[j,T,O,Ti]),function n(){if(!H){var a=(i-_)*r,c=o._handleOffset,d=o._trackLength,p=o._handleLength,g=o._maxScroll,y=o._currentScroll,w=h*m,x=P?v.max(b,w):w,T=g*((a-p/2)/(d-p)),O=ee&&e&&(!A.i&&!A.n||dt),S=O?c<a:c>a,j={},M={easing:"linear",step:function(t){Bt&&(ge[u](t),Fi(e,t))}};T=isFinite(T)?T:0,T=ee&&e&&!A.i?g-T:T,$?(ge[u](T),C?(T=ge[u](),ge[u](y),T=O&&A.i?g-T:T,T=O&&A.n?-T:T,j[l]=T,k.scroll(j,sr(M,{duration:130,complete:B}))):B()):(s=P?S:s,(O?s?c+p>=a:c<=a:s?c<=a:c+p>=a)?(clearTimeout(t),k.scrollStop(),t=void 0,E(!0)):(t=setTimeout(n,x),j[l]=(s?"-=":"+=")+f,k.scroll(j,sr(M,{duration:w}))),P=!1)}}(),g.prvD(n),g.stpP(n)}},function(e){Mt=!0,(Pt||Et)&&Ni(!0)},function(e){Mt=!1,(Pt||Et)&&Ni(!1)}]),bi(a._scrollbar,hn,(function(e){g.stpP(e)})),I&&bi(a._scrollbar,xn,(function(t){t.target===a._scrollbar[0]&&(Hi(e),Fi(e))}))}function zi(e,t,n){var i=e?xe:Ce;ur(pe,e?On:Sn,!t),ur(i,Zn,!n)}function Ni(e,t){if(clearTimeout(Tt),e)cr(xe,Qn),cr(Ce,Qn);else{var n,i="active",r=function(){Mt||H||(!(n=$e.hasClass(i)||Oe.hasClass(i))&&(Pt||Et||jt)&&lr(xe,Qn),!n&&(Pt||Et||jt)&&lr(Ce,Qn))};St>0&&!0!==t?Tt=setTimeout(r,St):r()}}function Hi(e){var t={},n=qi(e),i=n._info,r=1e6,a=v.min(1,Ft[n._w_h]/Le[n._w_h]);t[n._width_height]=v.floor(100*a*r)/r+"%",Ji()||n._handle.css(t),i._handleLength=n._handle[0]["offset"+n._Width_Height],i._handleLengthRatio=a}function Fi(e,t){var n,i,r=f(t)==d,a=ee&&e,o=qi(e),s=o._info,l=m._cssProperty("transform"),c=m._cssProperty("transition"),u=e?ge.scrollLeft():ge.scrollTop(),p=void 0===t||r?u:t,g=s._handleLength,b=o._track[0]["offset"+o._Width_Height],_=b-g,y={},w=(Ie[an+o._Width_Height]-Ie["client"+o._Width_Height])*(A.n&&a?-1:1),x=function(e){return isNaN(e/w)?0:v.max(0,v.min(1,e/w))},k=function(e){var t=_*e;return t=isNaN(t)?0:t,t=a&&!A.i?b-g-t:t,v.max(0,t)},$=x(u),C=k(x(p)),T=k($);s._maxScroll=w,s._currentScroll=u,s._currentScrollRatio=$,R?(n=a?-(b-g-C):C,i=e?"translate("+n+"px, 0)":"translate(0, "+n+"px)",y[l]=i,I&&(y[c]=r&&v.abs(C-s._handleOffset)>1?function(e){var t=m._cssProperty("transition"),n=e.css(t);if(n)return n;for(var i,r,a,o="\\s*(([^,(]+(\\(.+?\\))?)+)[\\s,]*",s=new RegExp(o),l=new RegExp("^("+o+")+$"),c="property duration timing-function delay".split(" "),u=[],d=0,p=function(e){if(i=[],!e.match(l))return e;for(;e.match(s);)i.push(RegExp.$1),e=e.replace(s,tn);return i};d<c[h.l];d++)for(r=p(e.css(t+"-"+c[d])),a=0;a<r[h.l];a++)u[a]=(u[a]?u[a]+un:tn)+r[a];return u.join(", ")}(o._handle)+", "+(l+un+250)+"ms":tn)):y[o._left_top]=C,Ji()||(o._handle.css(y),R&&I&&r&&o._handle.one(xn,(function(){H||o._handle.css(c,tn)}))),s._handleOffset=C,s._snappedHandleOffset=T,s._trackLength=b}function Wi(e,t){var n=t?"removeClass":"addClass",i=e?Te:Oe,r=e?Kn:Yn;(e?ke:$e)[n](r),i[n](r)}function qi(e){return{_width_height:e?Qt:Jt,_Width_Height:e?"Width":"Height",_left_top:e?Zt:Kt,_Left_Top:e?"Left":"Top",_x_y:e?sn:ln,_X_Y:e?"X":"Y",_w_h:e?"w":"h",_l_t:e?"l":"t",_track:e?ke:Te,_handle:e?$e:Oe,_scrollbar:e?xe:Ce,_info:e?Nt:Ht}}function Ui(e){we=we||nr(Jn,!0),e?U&&N?cr(we.removeAttr(h.s),oi):dr(we):U||pe.append(we)}function Vi(e,t,n){if(!1!==n)if(N){var i,r=re.callbacks[e],a=e;"on"===a.substr(0,2)&&(a=a.substr(2,1).toLowerCase()+a.substr(3)),f(r)==l&&r.call(k,t),x(ci,(function(){f((i=this).on)==l&&i.on(a,t)}))}else H||si.push({n:e,a:t})}function Gi(e,t,n){n=n||[tn,tn,tn,tn],e[(t=t||tn)+Kt]=n[0],e[t+Xt]=n[1],e[t+Yt]=n[2],e[t+Zt]=n[3]}function Ki(e,t,n,i){return t=t||tn,e=e||tn,{t:i?0:Qi(pe.css(e+Kt+t)),r:n?0:Qi(pe.css(e+Xt+t)),b:i?0:Qi(pe.css(e+Yt+t)),l:n?0:Qi(pe.css(e+Zt+t))}}function Xi(e,t){var n,i,r,o=function(e,t){if(r="",t&&(0,a.Z)(e)==u)for(i=e.split(un),n=0;n<i[h.l];n++)r+="|"+i[n]+"$";return r};return new RegExp("(^"+$n+"([-_].+|)$)"+o(pt,e)+o(ft,t),"g")}function Yi(){var e=Be[h.bCR]();return{x:R&&1/(v.round(e.width)/Be[h.oW])||1,y:R&&1/(v.round(e.height)/Be[h.oH])||1}}function Zi(e){var t=e&&e.ownerDocument&&e.ownerDocument.parentWindow||window;return(0,a.Z)(t.HTMLElement)==s?e instanceof t.HTMLElement:e&&(0,a.Z)(e)==s&&null!==e&&1===e.nodeType&&(0,a.Z)(e.nodeName)==u}function Qi(e,t){var n=t?parseFloat(e):parseInt(e,10);return isNaN(n)?0:n}function Ji(){return tt&&O.x&&O.y}function er(){return F?ye[0]:Re}function tr(e,t){return"<div "+(e?f(e)==u?'class="'+e+'"':function(){var t,n=tn;if(_.isPlainObject(e))for(t in e)n+=("c"===t?"class":t)+'="'+e[t]+'" ';return n}():tn)+">"+(t||tn)+"</div>"}function nr(e,t){var n=f(t)==d,i=n?pe:t||pe;return U&&!i[h.l]?null:U?i[n?"children":"find"](cn+e.replace(/\s/g,cn)).eq(0):_(tr(e))}function ir(e,t){for(var n,i=t.split(cn),r=0;r<i.length;r++){if(!e[h.hOP](i[r]))return;n=e[i[r]],r<i.length&&f(n)==s&&(e=n)}return n}function rr(e,t,n){for(var i=t.split(cn),r=i.length,a=0,o={},s=o;a<r;a++)o=o[i[a]]=a+1<r?{}:n;_.extend(e,s,!0)}function ar(e){var t=re.updateOnLoad;t=f(t)==u?t.split(un):t,g.isA(t)&&!H&&x(t,e)}function or(e,t,n){if(n)return n;if(f(e)!=s||f(t)!=s)return e!==t;for(var i in e)if("c"!==i){if(!e[h.hOP](i)||!t[h.hOP](i))return!0;if(or(e[i],t[i]))return!0}return!1}function sr(){return _.extend.apply(this,[!0].concat([].slice.call(arguments)))}function lr(e,t){return $.addClass.call(e,t)}function cr(e,t){return $.removeClass.call(e,t)}function ur(e,t,n){return n?lr(e,t):cr(e,t)}function dr(e){return $.remove.call(e)}function pr(e,t){return $.find.call(e,t).eq(0)}}return e=window.BPBMoverlayScrollbars=function(i,r,a){if(0===arguments[h.l])return this;var o,s,c=[],u=_.isPlainObject(r);return i?(i=null!=i[h.l]?i:[i[0]||i],O(),i[h.l]>0&&(u?_.each(i,(function(e,i){void 0!==(o=i)&&c.push(P(o,r,a,t,n))})):_.each(i,(function(t,n){o=y(n),("!"===r&&e.valid(o)||g.type(r)==l&&r(n,o)||void 0===r)&&c.push(o)})),s=1===c[h.l]?c[0]:c),s):u||!r?s:c},e.globals=function(){O();var e=_.extend(!0,{},t);return delete e.msie,e},e.defaultOptions=function(e){O();var n=t.defaultOptions;if(void 0===e)return _.extend(!0,{},n);t.defaultOptions=_.extend(!0,{},n,T._validate(e,T._template,!0,n)._default)},e.valid=function(t){return t instanceof e&&!t.getState().destroyed},e.extension=function(e,t,n){var i=g.type(e)==u,r=arguments[h.l],a=0;if(r<1||!i)return _.extend(!0,{length:C[h.l]},C);if(i)if(g.type(t)==l)C.push({name:e,extensionFactory:t,defaultOptions:n});else for(;a<C[h.l];a++)if(C[a].name===e){if(!(r>1))return _.extend(!0,{},C[a]);C.splice(a,1)}},e}();b&&b.fn&&(b.fn.BPBMoverlayScrollbars=function(e,t){var n=this;return b.isPlainObject(e)?(b.each(n,(function(){w(this,e,t)})),n):w(n,e)})},3130:(e,t,n)=>{"use strict";n.r(t);var i=n(1002),r=n(3334),a=n(6252),o=n(5069),s=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function e(t){var i=0;if(3===t.nodeType){var r=t.data.search(n);if(r>=0&&t.data.length>0){var a=t.data.match(n),o=document.createElement("span");o.className="highlight";var s=t.splitText(r),l=(s.splitText(a[0].length),s.cloneNode(!0));o.appendChild(l),s.parentNode.replaceChild(o,s),i=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&("highlight"!==t.className||"SPAN"!==t.tagName))for(var c=0;c<t.childNodes.length;++c)c+=e(t.childNodes[c]);return i};return e.each((function(){i(this)}))}};r.$.fn.removeHighlight=function(){return this.find("span.highlight").each((function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()})).end()};var l=function(){};l.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},l.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=l.prototype[t[n]]};var c,u=/Mac/.test(navigator.userAgent),d=u?91:17,p=u?18:17,f=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,h=function(e){return void 0!==e},m=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},g=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},v=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}},b=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},_=function(e,t,n){var i,r=e.trigger,a={};for(i in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return r.apply(e,arguments);a[n]=arguments},n.apply(e,[]),e.trigger=r,a)a.hasOwnProperty(i)&&r.apply(e,a[i])},y=function(e){var t={};if(void 0===e)return console.warn("WARN getSelection cannot locate input control"),t;if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},w=function(e,t){return e?(x.$testInput||(x.$testInput=(0,r.$)("<span />").css({position:"absolute",width:"auto",padding:0,whiteSpace:"pre"}),(0,r.$)("<div />").css({position:"absolute",width:0,height:0,overflow:"hidden"}).append(x.$testInput).appendTo("body")),x.$testInput.text(e),function(e,t,n){var i,r,a={};if(n)for(i=0,r=n.length;i<r;i++)a[n[i]]=e.css(n[i]);else a=e.css();t.css(a)}(t,x.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),x.$testInput.width()):0},x=function e(t,n){var i,a,s,l,c=this;(l=t[0]).bmselectize=c;var u,d,p,f=window.getComputedStyle&&window.getComputedStyle(l,null);if(s=(s=f?f.getPropertyValue("direction"):l.currentStyle&&l.currentStyle.direction)||t.parents("[dir]:first").attr("dir")||"",r.$.extend(c,{order:0,settings:n,$input:t,tabIndex:t.attr("tabindex")||"",tagType:"select"===l.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".bmselectize"+ ++e.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:t.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",lastValidValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?c.onSearchChange:(u=c.onSearchChange,d=n.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(p),p=window.setTimeout((function(){u.apply(e,t)}),d)})}),c.sifter=new o(this.options,{diacritics:n.diacritics}),c.settings.options){for(i=0,a=c.settings.options.length;i<a;i++)c.registerOption(c.settings.options[i]);delete c.settings.options}if(c.settings.optgroups){for(i=0,a=c.settings.optgroups.length;i<a;i++)c.registerOptionGroup(c.settings.optgroups[i]);delete c.settings.optgroups}c.settings.mode=c.settings.mode||(1===c.settings.maxItems?"single":"multi"),"boolean"!=typeof c.settings.hideSelected&&(c.settings.hideSelected="multi"===c.settings.mode),c.initializePlugins(c.settings.plugins),c.setupCallbacks(),c.setupTemplates(),c.setup()};l.mixin(x),void 0!==a?a.mixin(x):("Dependency MicroPlugin is missing",(c={explanation:'Make sure you either: (1) are using the "standalone" version of Bmselectize, or (2) require MicroPlugin before you load Bmselectize.'})||(c={}),console.error("Bmselectize: Dependency MicroPlugin is missing"),c.explanation&&(console.group&&console.group(),console.error(c.explanation),console.group&&console.groupEnd())),r.$.extend(x.prototype,{setup:function(){var e,t,n,i,a,o,s,l,c,h,m,g,v=this,b=v.settings,_=v.eventNS,x=(0,r.$)(window),k=(0,r.$)(document),$=v.$input;if(s=v.settings.mode,l=$.attr("class")||"",e=(0,r.$)("<div>").addClass(b.wrapperClass).addClass(l).addClass(s),t=(0,r.$)("<div>").addClass(b.inputClass).addClass("items").appendTo(e),n=(0,r.$)('<input type="text" autocomplete="new-password" autofill="no" />').appendTo(t).attr("tabindex",$.is(":disabled")?"-1":v.tabIndex),o=(0,r.$)(b.dropdownParent||e),i=(0,r.$)("<div>").addClass(b.dropdownClass).addClass(s).hide().appendTo(o),a=(0,r.$)("<div>").addClass(b.dropdownContentClass).attr("tabindex","-1").appendTo(i),(h=$.attr("id"))&&(n.attr("id",h+"-bmselectized"),(0,r.$)("label[for='"+h+"']").attr("for",h+"-bmselectized")),v.settings.copyClassesToDropdown&&i.addClass(l),e.css({width:$[0].style.width}),v.plugins.names.length&&(c="plugin-"+v.plugins.names.join(" plugin-"),e.addClass(c),i.addClass(c)),(null===b.maxItems||b.maxItems>1)&&1===v.tagType&&$.attr("multiple","multiple"),v.settings.placeholder&&n.attr("placeholder",b.placeholder),!v.settings.splitOn&&v.settings.delimiter){var C=v.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");v.settings.splitOn=new RegExp("\\s*"+C+"+\\s*")}$.attr("autocorrect")&&n.attr("autocorrect",$.attr("autocorrect")),$.attr("autocapitalize")&&n.attr("autocapitalize",$.attr("autocapitalize")),$.is("input")&&(n[0].type=$[0].type),v.$wrapper=e,v.$control=t,v.$control_input=n,v.$dropdown=i,v.$dropdown_content=a,i.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",(function(e){e.stopImmediatePropagation()})),i.on("mouseenter","[data-selectable]",(function(){return v.onOptionHover.apply(v,arguments)})),i.on("mousedown click","[data-selectable]",(function(){return v.onOptionSelect.apply(v,arguments)})),g=function(){return v.onItemSelect.apply(v,arguments)},(m=t).on("mousedown","*:not(input)",(function(e){for(var t=e.target;t&&t.parentNode!==m[0];)t=t.parentNode;return e.currentTarget=t,g.apply(this,[e])})),function(e){var t=null,n=function(n,i){var r,a,o,s,l,c,u,d,p;i=i||{},(n=n||window.event||{}).metaKey||n.altKey||(i.force||!1!==e.data("grow"))&&(r=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(o=(a=n.keyCode)>=48&&a<=57||a>=65&&a<=90||a>=96&&a<=111||a>=186&&a<=222||32===a,46===a||8===a?(p=y(e[0])).length?r=r.substring(0,p.start)+r.substring(p.start+p.length):8===a&&p.start?r=r.substring(0,p.start-1)+r.substring(p.start+1):46===a&&void 0!==p.start&&(r=r.substring(0,p.start)+r.substring(p.start+1)):o&&(u=n.shiftKey,d=String.fromCharCode(n.keyCode),r+=d=u?d.toUpperCase():d.toLowerCase())),c=(l=e.attr("placeholder"))?w(l,e)+4:0,(s=Math.max(w(r,e),c)+4)!==t&&(t=s,e.width(s),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()}(n),t.on({mousedown:function(){return v.onMouseDown.apply(v,arguments)},click:function(){return v.onClick.apply(v,arguments)}}),n.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return v.onKeyDown.apply(v,arguments)},keypress:function(){return v.onKeyPress.apply(v,arguments)},input:function(){return v.onInput.apply(v,arguments)},resize:function(){v.positionDropdown.apply(v,[])},blur:function(){return v.onBlur.apply(v,arguments)},focus:function(){return v.ignoreBlur=!1,v.onFocus.apply(v,arguments)},paste:function(){return v.onPaste.apply(v,arguments)}}),k.on("keydown"+_,(function(e){v.isCmdDown=e[u?"metaKey":"ctrlKey"],v.isCtrlDown=e[u?"altKey":"ctrlKey"],v.isShiftDown=e.shiftKey})),k.on("keyup"+_,(function(e){e.keyCode===p&&(v.isCtrlDown=!1),16===e.keyCode&&(v.isShiftDown=!1),e.keyCode===d&&(v.isCmdDown=!1)})),k.on("mousedown"+_,(function(e){if(v.isFocused){if(e.target===v.$dropdown[0]||e.target.parentNode===v.$dropdown[0])return!1;v.$control.has(e.target).length||e.target===v.$control[0]||v.blur(e.target)}})),x.on(["scroll"+_,"resize"+_].join(" "),(function(){v.isOpen&&v.positionDropdown.apply(v,arguments)})),x.on("mousemove"+_,(function(){v.ignoreHover=!1})),this.revertSettings={$children:$.children().detach(),tabindex:$.attr("tabindex")},$.attr("tabindex",-1).hide().after(v.$wrapper),Array.isArray(b.items)&&(v.lastValidValue=b.items,v.setValue(b.items),delete b.items),f&&$.on("invalid"+_,(function(e){e.preventDefault(),v.isInvalid=!0,v.refreshState()})),v.updateOriginalInput(),v.refreshItems(),v.refreshState(),v.updatePlaceholder(),v.isSetup=!0,$.is(":disabled")&&v.disable(),v.on("change",this.onChange),$.data("bmselectize",v),$.addClass("bmselectized"),v.trigger("initialize"),!0===b.preload&&v.onSearchChange("")},setupTemplates:function(){var e=this,t=e.settings.labelField,n=e.settings.valueField,i=e.settings.optgroupLabelField,a={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,i){return'<div class="option '+(""===e[n]?"bmselectize-dropdown-emptyoptionlabel":"")+'">'+i(e[t])+"</div>"},item:function(e,n){return'<div class="item">'+n(e[t])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};e.settings.render=r.$.extend({},a,e.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur",dropdown_item_activate:"onDropdownItemActivate",dropdown_item_deactivate:"onDropdownItemDeactivate"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){var t=this;t.isFocused&&t.isOpen||(t.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,n=e.isDefaultPrevented();if((0,r.$)(e.target),t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():n||t.setActiveItem(null),!1}else n||window.setTimeout((function(){t.focus()}),0)},onChange:function(){var e=this;""!==e.getValue()&&(e.lastValidValue=e.getValue()),this.$input.trigger("input"),this.$input.trigger("change")},onPaste:function(e){var t=this;t.isFull()||t.isInputHidden||t.isLocked?e.preventDefault():t.settings.splitOn&&setTimeout((function(){var e=t.$control_input.val();if(e.match(t.settings.splitOn))for(var n=e.trim().split(t.settings.splitOn),i=0,r=n.length;i<r;i++)t.createItem(n[i])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){e.target,this.$control_input[0];var t=this;if(t.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(t.isCmdDown)return void t.selectAll();break;case 27:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case 13:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&t.settings.showAddOptionOnCreate&&e.preventDefault());case 8:case 46:return void t.deleteSelection(e)}!t.isFull()&&!t.isInputHidden||(u?e.metaKey:e.ctrlKey)||e.preventDefault()}},onInput:function(e){var t=this,n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load((function(i){n.apply(t,[e,i])}))))},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.isBlurring=!1,n.ignoreFocus=!1,n.trigger("blur")};n.isBlurring=!0,n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,n,i=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),(n=(0,r.$)(e.currentTarget)).hasClass("create")?i.createItem(null,(function(){i.settings.closeAfterSelect&&i.close()})):void 0!==(t=n.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(t),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&i.setActiveOption(i.getOption(t)))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},getTextboxValue:function(){return this.$control_input.val()},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){_(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setMaxItems:function(e){0===e&&(e=null),this.settings.maxItems=e,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),this.refreshState()},setActiveItem:function(e,t){var n,i,a,o,s,l,c,u,d=this;if("single"!==d.settings.mode){if(!(e=(0,r.$)(e)).length)return(0,r.$)(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if("mousedown"===(n=t&&t.type.toLowerCase())&&d.isShiftDown&&d.$activeItems.length){for(u=d.$control.children(".active:last"),(o=Array.prototype.indexOf.apply(d.$control[0].childNodes,[u[0]]))>(s=Array.prototype.indexOf.apply(d.$control[0].childNodes,[e[0]]))&&(c=o,o=s,s=c),i=o;i<=s;i++)l=d.$control[0].childNodes[i],-1===d.$activeItems.indexOf(l)&&((0,r.$)(l).addClass("active"),d.$activeItems.push(l));t.preventDefault()}else"mousedown"===n&&d.isCtrlDown||"keydown"===n&&this.isShiftDown?e.hasClass("active")?(a=d.$activeItems.indexOf(e[0]),d.$activeItems.splice(a,1),e.removeClass("active")):d.$activeItems.push(e.addClass("active")[0]):((0,r.$)(d.$activeItems).removeClass("active"),d.$activeItems=[e.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(e,t,n){var i,a,o,s,l,c=this;c.$activeOption&&(c.$activeOption.removeClass("active"),c.trigger("dropdown_item_deactivate",c.$activeOption.attr("data-value"))),c.$activeOption=null,(e=(0,r.$)(e)).length&&(c.$activeOption=e.addClass("active"),c.isOpen&&c.trigger("dropdown_item_activate",c.$activeOption.attr("data-value")),!t&&h(t)||(i=c.$dropdown_content.height(),a=c.$activeOption.outerHeight(!0),t=c.$dropdown_content.scrollTop()||0,s=o=c.$activeOption.offset().top-c.$dropdown_content.offset().top+t,l=o-i+a,o+a>i+t?c.$dropdown_content.stop().animate({scrollTop:l},n?c.settings.scrollDuration:0):o<t&&c.$dropdown_content.stop().animate({scrollTop:s},n?c.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;return e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0)),e},blur:function(e){return this.$control_input[0].blur(),this.onBlur(null,e),this},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}},search:function(e){var t,n,i,a=this,o=a.settings,s=this.getSearchOptions();if(o.score&&"function"!=typeof(i=a.settings.score.apply(this,[e])))throw new Error('Bmselectize "score" setting must be a function that returns a function');if(e!==a.lastQuery?(a.lastQuery=e,n=a.sifter.search(e,r.$.extend(s,{score:i})),a.currentResults=n):n=r.$.extend(!0,{},a.currentResults),o.hideSelected)for(t=n.items.length-1;t>=0;t--)-1!==a.items.indexOf(m(n.items[t].id))&&n.items.splice(t,1);return n},refreshOptions:function(e){var t,n,i,a,o,l,c,u,d,p,f,h,g,v,b,_;void 0===e&&(e=!0);var y,w,x=this,k=x.$control_input.val().trim(),$=x.search(k),C=x.$dropdown_content,T=x.$activeOption&&m(x.$activeOption.attr("data-value"));for(a=$.items.length,"number"==typeof x.settings.maxOptions&&(a=Math.min(a,x.settings.maxOptions)),o={},l=[],t=0;t<a;t++)for(c=x.options[$.items[t].id],u=x.render("option",c),d=c[x.settings.optgroupField]||"",n=0,i=(p=Array.isArray(d)?d:[d])&&p.length;n<i;n++)d=p[n],x.optgroups.hasOwnProperty(d)||(d=""),o.hasOwnProperty(d)||(o[d]=document.createDocumentFragment(),l.push(d)),o[d].appendChild(u);for(this.settings.lockOptgroupOrder&&l.sort((function(e,t){return(x.optgroups[e]&&x.optgroups[e].$order||0)-(x.optgroups[t]&&x.optgroups[t].$order||0)})),f=document.createDocumentFragment(),t=0,a=l.length;t<a;t++)d=l[t],x.optgroups.hasOwnProperty(d)&&o[d].childNodes.length?((h=document.createDocumentFragment()).appendChild(x.render("optgroup_header",x.optgroups[d])),h.appendChild(o[d]),f.appendChild(x.render("optgroup",r.$.extend({},x.optgroups[d],{html:(y=h,w=void 0,w=document.createElement("div"),w.appendChild(y.cloneNode(!0)),w.innerHTML),dom:h})))):f.appendChild(o[d]);if(C.html(f),x.settings.highlight&&(C.removeHighlight(),$.query.length&&$.tokens.length))for(t=0,a=$.tokens.length;t<a;t++)s(C,$.tokens[t].regex);if(!x.settings.hideSelected)for(x.$dropdown.find(".selected").removeClass("selected"),t=0,a=x.items.length;t<a;t++)x.getOption(x.items[t]).addClass("selected");(g=x.canCreate(k))&&x.settings.showAddOptionOnCreate&&(C.prepend(x.render("option_create",{input:k})),_=(0,r.$)(C[0].childNodes[0])),x.hasOptions=$.items.length>0||g&&x.settings.showAddOptionOnCreate,x.hasOptions?($.items.length>0?(b=T&&x.getOption(T),""!==$.query&&b&&b.length?v=b:"single"===x.settings.mode&&x.items.length&&(v=x.getOption(x.items[0])),v&&v.length||(v=_&&!x.settings.addPrecedence?x.getAdjacentOption(_,1):C.find("[data-selectable]:first"))):v=_,x.setActiveOption(v),e&&!x.isOpen&&x.open()):(x.setActiveOption(null),e&&x.isOpen&&x.close())},addOption:function(e){var t,n,i,r=this;if(Array.isArray(e))for(t=0,n=e.length;t<n;t++)r.addOption(e[t]);else(i=r.registerOption(e))&&(r.userOptions[i]=!0,r.lastQuery=null,r.trigger("option_add",i,e))},registerOption:function(e){var t=m(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=m(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var n,i,a,o,s,l,c,u=this;if(e=m(e),a=m(t[u.settings.valueField]),null!==e&&u.options.hasOwnProperty(e)){if("string"!=typeof a)throw new Error("Value must be set in option data");c=u.options[e].$order,a!==e&&(delete u.options[e],-1!==(o=u.items.indexOf(e))&&u.items.splice(o,1,a)),t.$order=t.$order||c,u.options[a]=t,s=u.renderCache.item,l=u.renderCache.option,s&&(delete s[e],delete s[a]),l&&(delete l[e],delete l[a]),-1!==u.items.indexOf(a)&&(n=u.getItem(e),i=(0,r.$)(u.render("item",t)),n.hasClass("active")&&i.addClass("active"),n.replaceWith(i)),u.lastQuery=null,u.isOpen&&u.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=m(e);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[e],r&&delete r[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(e){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={};var n=t.options;r.$.each(t.options,(function(e,i){-1==t.items.indexOf(e)&&delete n[e]})),t.options=t.sifter.items=n,t.lastQuery=null,t.trigger("option_clear"),t.clear(e)},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getFirstOption:function(){var e=this.$dropdown.find("[data-selectable]");return e.length>0?e.eq(0):(0,r.$)()},getAdjacentOption:function(e,t){var n=this.$dropdown.find("[data-selectable]"),i=n.index(e)+t;return i>=0&&i<n.length?n.eq(i):(0,r.$)()},getElementWithValue:function(e,t){if(null!=(e=m(e)))for(var n=0,i=t.length;n<i;n++)if(t[n].getAttribute("data-value")===e)return(0,r.$)(t[n]);return(0,r.$)()},getElementWithTextContent:function(e,t,n){if(null!=(e=m(e)))for(var i=0,a=n.length;i<a;i++){var o=n[i].textContent;if(1==t&&(o=null!==o?o.toLowerCase():null,e=e.toLowerCase()),o===e)return(0,r.$)(n[i])}return(0,r.$)()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},getFirstItemMatchedByTextContent:function(e,t){return t=null!==t&&!0===t,this.getElementWithTextContent(e,t,this.$dropdown_content.find("[data-selectable]"))},addItems:function(e,t){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,i=0;i<n.length;i++)this.buffer.appendChild(n[i]);for(var r=Array.isArray(e)?e:[e],a=(i=0,r.length);i<a;i++)this.isPending=i<a-1,this.addItem(r[i],t);var o=this.$control[0];o.insertBefore(this.buffer,o.firstChild),this.buffer=null},addItem:function(e,t){_(this,t?[]:["change"],(function(){var n,i,a,o,s,l=this,c=l.settings.mode;e=m(e),-1===l.items.indexOf(e)?l.options.hasOwnProperty(e)&&("single"===c&&l.clear(t),"multi"===c&&l.isFull()||(n=(0,r.$)(l.render("item",l.options[e])),s=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(n),(!l.isPending||!s&&l.isFull())&&l.refreshState(),l.isSetup&&(a=l.$dropdown_content.find("[data-selectable]"),l.isPending||(i=l.getOption(e),o=l.getAdjacentOption(i,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==c),o&&l.setActiveOption(l.getOption(o))),!a.length||l.isFull()?l.close():l.isPending||l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,n),l.isPending||l.updateOriginalInput({silent:t})))):"single"===c&&l.close()}))},removeItem:function(e,t){var n,i,a,o=this;n=e instanceof r.$?e:o.getItem(e),e=m(n.attr("data-value")),-1!==(i=o.items.indexOf(e))&&(o.trigger("item_before_remove",e,n),n.remove(),n.hasClass("active")&&(a=o.$activeItems.indexOf(n[0]),o.$activeItems.splice(a,1)),o.items.splice(i,1),o.lastQuery=null,!o.settings.persist&&o.userOptions.hasOwnProperty(e)&&o.removeOption(e,t),i<o.caretPos&&o.setCaret(o.caretPos-1),o.refreshState(),o.updatePlaceholder(),o.updateOriginalInput({silent:t}),o.positionDropdown(),o.trigger("item_remove",e,n))},createItem:function(e,t){var n=this,r=n.caretPos;e=e||(n.$control_input.val()||"").trim();var a=arguments[arguments.length-1];if("function"!=typeof a&&(a=function(){}),"boolean"!=typeof t&&(t=!0),!n.canCreate(e))return a(),!1;n.lock();var o="function"==typeof n.settings.create?this.settings.create:function(e){var t={};t[n.settings.labelField]=e;var r=e;if(n.settings.formatValueToKey&&"function"==typeof n.settings.formatValueToKey&&(null==(r=n.settings.formatValueToKey.apply(this,[r]))||"object"===(0,i.Z)(r)||"function"==typeof r))throw new Error('Bmselectize "formatValueToKey" setting must be a function that returns a value other than object or function.');return t[n.settings.valueField]=r,t},s=b((function(e){if(n.unlock(),!e||"object"!==(0,i.Z)(e))return a();var o=m(e[n.settings.valueField]);if("string"!=typeof o)return a();n.setTextboxValue(""),n.addOption(e),n.setCaret(r),n.addItem(o),n.refreshOptions(t&&"single"!==n.settings.mode),a(e)})),l=o.apply(this,[e,s]);return void 0!==l&&s(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var e=this,t=e.isFull(),n=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",n).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!r.$.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!t&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,r,a=this;if(e=e||{},1===a.tagType){for(i=[],t=0,n=a.items.length;t<n;t++)r=a.options[a.items[t]][a.settings.labelField]||"",i.push('<option value="'+g(a.items[t])+'" selected="selected">'+g(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),a.$input.html(i.join(""))}else a.$input.val(a.getValue()),a.$input.attr("value",a.$input.val());a.isSetup&&(e.silent||a.trigger("change",a.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&(e.hideInput(),e.isBlurring&&e.$control_input.blur()),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e[0].getBoundingClientRect().width,top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),n=e[0],i=this.buffer||this.$control[0];0===t?i.insertBefore(n,i.firstChild):i.insertBefore(n,i.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(e){var t,n,i,a,o,s,l,c,u,d=this;if(i=e&&8===e.keyCode?-1:1,a=y(d.$control_input[0]),d.$activeOption&&!d.settings.hideSelected&&(l="string"==typeof d.settings.deselectBehavior&&"top"===d.settings.deselectBehavior?d.getFirstOption().attr("data-value"):d.getAdjacentOption(d.$activeOption,-1).attr("data-value")),o=[],d.$activeItems.length){for(u=d.$control.children(".active:"+(i>0?"last":"first")),s=d.$control.children(":not(input)").index(u),i>0&&s++,t=0,n=d.$activeItems.length;t<n;t++)o.push((0,r.$)(d.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(d.isFocused||"single"===d.settings.mode)&&d.items.length&&(i<0&&0===a.start&&0===a.length?o.push(d.items[d.caretPos-1]):i>0&&a.start===d.$control_input.val().length&&o.push(d.items[d.caretPos]));if(!o.length||"function"==typeof d.settings.onDelete&&!1===d.settings.onDelete.apply(d,[o]))return!1;for(void 0!==s&&d.setCaret(s);o.length;)d.removeItem(o.pop());return d.showInput(),d.positionDropdown(),d.refreshOptions(!0),l&&(c=d.getOption(l)).length&&d.setActiveOption(c),!0},advanceSelection:function(e,t){var n,i,r,a,o,s=this;0!==e&&(s.rtl&&(e*=-1),n=e>0?"last":"first",i=y(s.$control_input[0]),s.isFocused&&!s.isInputHidden?(a=s.$control_input.val().length,(e<0?0===i.start&&0===i.length:i.start===a)&&!a&&s.advanceCaret(e,t)):(o=s.$control.children(".active:"+n)).length&&(r=s.$control.children(":not(input)").index(o),s.setActiveItem(null),s.setCaret(e>0?r+1:r)))},advanceCaret:function(e,t){var n,i,r=this;0!==e&&(n=e>0?"next":"prev",r.isShiftDown?(i=r.$control_input[n]()).length&&(r.hideInput(),r.setActiveItem(i),t&&t.preventDefault()):r.setCaret(r.caretPos+e))},setCaret:function(e){var t,n,i,a,o=this;if(e="single"===o.settings.mode?o.items.length:Math.max(0,Math.min(o.items.length,e)),!o.isPending)for(t=0,n=(i=o.$control.children(":not(input)")).length;t<n;t++)a=(0,r.$)(i[t]).detach(),t<e?o.$control_input.before(a):o.$control.append(a);o.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var e=this,t=e.eventNS,n=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("bmselectized").attr({tabindex:n.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("bmselectize"),0==--x.count&&x.$testInput&&(x.$testInput.remove(),x.$testInput=void 0),(0,r.$)(window).off(t),(0,r.$)(document).off(t),(0,r.$)(document.body).off(t),delete e.$input[0].bmselectize},render:function(e,t){var n,i,a="",o=!1,s=this;return"option"!==e&&"item"!==e||(o=!!(n=m(t[s.settings.valueField]))),o&&(h(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(n))?s.renderCache[e][n]:(a=(0,r.$)(s.settings.render[e].apply(this,[t,g])),"option"===e||"option_create"===e?t[s.settings.disabledField]||a.attr("data-selectable",""):"optgroup"===e&&(i=t[s.settings.optgroupValueField]||"",a.attr("data-group",i),t[s.settings.disabledField]&&a.attr("data-disabled","")),"option"!==e&&"item"!==e||a.attr("data-value",n||""),o&&(s.renderCache[e][n]=a[0]),a[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return e.length&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),x.count=0,x.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,showAddOptionOnCreate:!0,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!0,preload:!1,allowEmptyOption:!1,showEmptyOptionInDropdown:!1,emptyOptionLabel:"--",closeAfterSelect:!1,scrollDuration:60,deselectBehavior:"previous",loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"bmselectize-control",inputClass:"bmselectize-input",dropdownClass:"bmselectize-dropdown",dropdownContentClass:"bmselectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},r.$.fn.bmselectize=function(e){var t=r.$.fn.bmselectize.defaults,n=r.$.extend({},t,e),i=n.dataAttr,a=n.labelField,o=n.valueField,s=n.disabledField,l=n.optgroupField,c=n.optgroupLabelField,u=n.optgroupValueField;return this.each((function(){if(!this.bmselectize){var d=(0,r.$)(this),p=this.tagName.toLowerCase(),f=d.attr("placeholder")||d.attr("data-placeholder");if(f||n.allowEmptyOption||(f=d.children('option[value=""]').text()),n.allowEmptyOption&&n.showEmptyOptionInDropdown&&!d.children('option[value=""]').length){var h=d.html();d.html('<option value="">'+n.emptyOptionLabel+"</option>"+h)}var g={placeholder:f,options:[],optgroups:[],items:[]};"select"===p?function(e,t){var d,p,f,h,g=t.options,v={},b=function(e){var t=i&&e.attr(i);return"string"==typeof t&&t.length?JSON.parse(t):null},_=function(e,i){e=(0,r.$)(e);var c=m(e.val());if(c||n.allowEmptyOption)if(v.hasOwnProperty(c)){if(i){var u=v[c][l];u?r.$.isArray(u)?u.push(i):v[c][l]=[u,i]:v[c][l]=i}}else{var d=b(e)||{};d[a]=d[a]||e.text(),d[o]=d[o]||c,d[s]=d[s]||e.prop("disabled"),d[l]=d[l]||i,v[c]=d,g.push(d),e.is(":selected")&&t.items.push(c)}},y=function(e){var n,i,a,o,l;for((a=(e=(0,r.$)(e)).attr("label"))&&((o=b(e)||{})[c]=a,o[u]=a,o[s]=e.prop("disabled"),t.optgroups.push(o)),n=0,i=(l=(0,r.$)("option",e)).length;n<i;n++)_(l[n],a)};for(t.maxItems=e.attr("multiple")?null:1,d=0,p=(h=e.children()).length;d<p;d++)"optgroup"===(f=h[d].tagName.toLowerCase())?y(h[d]):"option"===f&&_(h[d])}(d,g):function(e,t){var s,l,c,u,d=e.attr(i);if(d)for(t.options=JSON.parse(d),s=0,l=t.options.length;s<l;s++)t.items.push(t.options[s][o]);else{var p=r.$.trim(e.val()||"");if(!n.allowEmptyOption&&!p.length)return;for(s=0,l=(c=p.split(n.delimiter)).length;s<l;s++)(u={})[a]=c[s],u[o]=c[s],t.options.push(u);t.items=c}}(d,g),new x(d,r.$.extend(!0,{},t,g,e))}}))},r.$.fn.bmselectize.defaults=x.defaults,r.$.fn.bmselectize.support={validity:f},x.define("auto_position",(function(){this.positionDropdown=function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0);var n=this.$dropdown.prop("scrollHeight")+5,i=this.$control.get(0).getBoundingClientRect().top+n+this.$wrapper.height()>window.innerHeight?"top":"bottom",r={width:e.outerWidth(),left:t.left};"top"===i?(Object.assign(r,{bottom:t.top,top:"unset",margin:"0 0 5px 0"}),this.$dropdown.addClass("bmselectize-position-top")):(Object.assign(r,{top:t.top,bottom:"unset",margin:"5px 0 0 0"}),this.$dropdown.removeClass("bmselectize-position-top")),this.$dropdown.css(r)}})),x.define("auto_select_on_type",(function(e){var t,n=this;n.onBlur=(t=n.onBlur,function(e){var i=n.getFirstItemMatchedByTextContent(n.lastValue,!0);return void 0!==i.attr("data-value")&&n.getValue()!==i.attr("data-value")&&n.setValue(i.attr("data-value")),t.apply(this,arguments)})})),x.define("autofill_disable",(function(e){var t,n=this;n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$control_input.attr({autocomplete:"new-password",autofill:"no"})})})),x.define("drag_drop",(function(e){if(!r.$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t,n=this;n.lock=(t=n.lock,function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var e=n.setup;return function(){e.apply(this,arguments);var t=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,n){n.placeholder.css("width",n.helper.css("width")),t.addClass("dragging")},stop:function(){t.removeClass("dragging");var e=n.$activeItems?n.$activeItems.slice():null,i=[];t.children("[data-value]").each((function(){i.push((0,r.$)(this).attr("data-value"))})),n.isFocused=!1,n.setValue(i),n.isFocused=!0,n.setActiveItem(e),n.positionDropdown()}})}}()}})),x.define("dropdown_header",(function(e){var t,n=this;e=r.$.extend({title:"Untitled",headerClass:"bmselectize-dropdown-header",titleRowClass:"bmselectize-dropdown-header-title",labelClass:"bmselectize-dropdown-header-label",closeClass:"bmselectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$dropdown_header=(0,r.$)(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)})})),x.define("optgroup_columns",(function(e){var t,n=this;e=r.$.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,t){var n=e.closest("[data-group]").find("[data-selectable]"),i=n.index(e)+t;return i>=0&&i<n.length?n.eq(i):(0,r.$)()},this.onKeyDown=(t=n.onKeyDown,function(e){var i,r,a,o;return!this.isOpen||37!==e.keyCode&&39!==e.keyCode?t.apply(this,arguments):(n.ignoreHover=!0,i=(o=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),void((r=(a=(o=37===e.keyCode?o.prev("[data-group]"):o.next("[data-group]")).find("[data-selectable]")).eq(Math.min(a.length-1,i))).length&&this.setActiveOption(r)))});var i=function e(){var t,n=e.width,i=document;return void 0===n&&((t=i.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,i.body.appendChild(t),n=e.width=t.offsetWidth-t.clientWidth,i.body.removeChild(t)),n},a=function(){var t,a,o,s,l,c,u;if((a=(u=(0,r.$)("[data-group]",n.$dropdown_content)).length)&&n.$dropdown_content.width()){if(e.equalizeHeight){for(o=0,t=0;t<a;t++)o=Math.max(o,u.eq(t).height());u.css({height:o})}e.equalizeWidth&&(c=n.$dropdown_content.innerWidth()-i(),s=Math.round(c/a),u.css({width:s}),a>1&&(l=c-s*(a-1),u.eq(a-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(v(this,"positionDropdown",a),v(this,"refreshOptions",a))})),x.define("remove_button",(function(e){e=r.$.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e),"single"!==this.settings.mode?function(e,t){var n,i=e,a='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+g(t.title)+'">'+t.label+"</a>",o=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};e.setup=(n=i.setup,function(){if(t.append){var s=i.settings.render.item;i.settings.render.item=function(t){return o(s.apply(e,arguments),a)}}n.apply(e,arguments),e.$control.on("click","."+t.className,(function(e){if(e.preventDefault(),!i.isLocked){var t=(0,r.$)(e.currentTarget).parent();return i.setActiveItem(t),i.deleteSelection()&&i.setCaret(i.items.length),!1}}))})}(this,e):function(e,t){t.className="remove-single";var n,i=e,a='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+g(t.title)+'">'+t.label+"</a>",o=function(e,t){return(0,r.$)("<span>").append(e).append(t)};e.setup=(n=i.setup,function(){if(t.append){var s=(0,r.$)(i.$input.context).attr("id"),l=((0,r.$)("#"+s),i.settings.render.item);i.settings.render.item=function(t){return o(l.apply(e,arguments),a)}}n.apply(e,arguments),e.$control.on("click","."+t.className,(function(e){e.preventDefault(),i.isLocked||i.clear()}))})}(this,e)})),x.define("restore_on_backspace",(function(e){var t;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=this.onKeyDown,function(n){var i,r;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(r=this.options[this.items[i]],this.deleteSelection(n)&&(this.setTextboxValue(e.text.apply(this,[r])),this.refreshOptions(!0)),void n.preventDefault()):t.apply(this,arguments)})})),x.define("select_on_focus",(function(e){var t,n,i=this;i.on("focus",(t=i.onFocus,function(e){var n=i.getItem(i.getValue()).text();return i.clear(),i.setTextboxValue(n),i.$control_input.select(),setTimeout((function(){i.settings.selectOnTab&&i.setActiveOption(i.getFirstItemMatchedByTextContent(n)),i.settings.score=null}),0),t.apply(this,arguments)})),i.onBlur=(n=i.onBlur,function(e){return""===i.getValue()&&i.lastValidValue!==i.getValue()&&i.setValue(i.lastValidValue),setTimeout((function(){i.settings.score=function(){return function(){return 1}}}),0),n.apply(this,arguments)}),i.settings.score=function(){return function(){return 1}}})),x.define("tag_limit",(function(e){var t,n=this;e.tagLimit=e.tagLimit,this.onBlur=(t=n.onBlur,function(n){if(t.apply(this,n),n){var i=this.$control,a=i.find(".item"),o=e.tagLimit;void 0===o||a.length<=o||(a.toArray().forEach((function(e,t){t<o||(0,r.$)(e).hide()})),i.append("<span><b>"+(a.length-o)+"</b></span>"))}}),this.onFocus=function(e){var t=n.onFocus;return function(e){if(t.apply(this,e),e){var n=this.$control;n.find(".item").show(),n.find("span").remove()}}}()}))},1766:(e,t)=>{var n;!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||r;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||r;if(e=parseFloat(e),t.ctx||p(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),a=0;a<i.length;a++){var o=t._howls[n]._soundById(i[a]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||r;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),a=0;a<i.length;a++){var o=t._howls[n]._soundById(i[a]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},stop:function(){for(var e=this||r,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||r,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator?e._navigator.userAgent:"",a=i.match(/OPR\/([0-6].)/g),o=a&&parseInt(a[0].split("/")[1],10)<33,s=-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome"),l=i.match(/Version\/(.*?) /),c=s&&l&&parseInt(l[1],10)<15;return e._codecs={mp3:!(o||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||r;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var i=new Audio;i._unlocked=!0,e._releaseHtml5Audio(i)}catch(n){e.noAudio=!0;break}for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var a=e._howls[r]._getSoundIds(),o=0;o<a.length;o++){var s=e._howls[r]._soundById(a[o]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||r;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||r;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&r.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&r.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var r=new i,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return r.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=r.usingWebAudio&&!t._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(r.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var i,a;if(e._format&&e._format[n])i=e._format[n];else{if("string"!=typeof(a=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(i=/^data:audio\/([^;,]+);/i.exec(a))||(i=/\.([^.]+)$/.exec(a.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&r.codecs(i)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&l(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,i=null;if("number"==typeof e)i=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var a=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(a++,i=n._sounds[o]._id);1===a?e=null:i=null}}var s=i?n._soundById(i):n._inactiveSound();if(!s)return null;if(i&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var l=s._id;return n._queue.push({event:"play",action:function(){n.play(l)}}),l}if(i&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&r._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),u=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),d=1e3*u/Math.abs(s._rate),p=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=p,s._stop=f,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=f)){var m=s._node;if(n._webAudio){var g=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;m.gain.setValueAtTime(e,r.ctx.currentTime),s._playStart=r.ctx.currentTime,void 0===m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,u):s._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,u),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===r.state&&"interrupted"!==r.ctx.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(s._id))}else{var v=function(){m.currentTime=c,m.muted=s._muted||n._muted||r._muted||m.muted,m.volume=s._volume*r.volume(),m.playbackRate=s._rate;try{var i=m.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(n._playLock=!0,h(),i.then((function(){n._playLock=!1,m._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),m.removeEventListener("ended",n._endTimers[s._id],!1)},m.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var b=window&&window.ejecta||!m.readyState&&r._navigator.isCocoonJS;if(m.readyState>=3||b)v();else{n._playLock=!0,n._state="loading";var _=function(){n._state="loaded",v(),m.removeEventListener(r._canPlayEvent,_,!1)};m.addEventListener(r._canPlayEvent,_,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),i=0;i<n.length;i++){t._clearTimer(n[i]);var r=t._soundById(n[i]);if(r&&!r._paused&&(r._seek=t.seek(n[i]),r._rateSeek=0,r._paused=!0,t._stopFade(n[i]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var i=n._getSoundIds(e),r=0;r<i.length;r++){n._clearTimer(i[r]);var a=n._soundById(i[r]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(i[r]),a._node&&(n._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&n._clearSound(a._node))),t||n._emit("stop",a._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var i=n._getSoundIds(t),a=0;a<i.length;a++){var o=n._soundById(i[a]);o&&(o._muted=e,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,r.ctx.currentTime):o._node&&(o._node.muted=!!r._muted||e),n._emit("mute",o._id))}return n},volume:function(){var e,t,n,i=this,a=arguments;if(0===a.length)return i._volume;if(1===a.length||2===a.length&&void 0===a[1]){var o=i._getSoundIds(),s=o.indexOf(a[0]);s>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else a.length>=2&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?i._soundById(t):i._sounds[0])?n._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,a)}}),i;void 0===t&&(i._volume=e),t=i._getSoundIds(t);for(var l=0;l<t.length;l++)(n=i._soundById(t[l]))&&(n._volume=e,a[2]||i._stopFade(t[l]),i._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,r.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*r.volume()),i._emit("volume",n._id));return i},fade:function(e,t,n,i){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,n,i)}}),a;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),a.volume(e,i);for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var l=a._soundById(o[s]);if(l){if(i||a._stopFade(o[s]),a._webAudio&&!l._muted){var c=r.ctx.currentTime,u=c+n/1e3;l._volume=e,l._node.gain.setValueAtTime(e,c),l._node.gain.linearRampToValueAtTime(t,u)}a._startFadeInterval(l,e,t,n,o[s],void 0===i)}}return a},_startFadeInterval:function(e,t,n,i,r,a){var o=this,s=t,l=n-t,c=Math.abs(l/.01),u=Math.max(4,c>0?i/c:i),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var r=(Date.now()-d)/i;d=Date.now(),s+=l*r,s=Math.round(100*s)/100,s=l<0?Math.max(n,s):Math.min(n,s),o._webAudio?e._volume=s:o.volume(s,e._id,!0),a&&(o._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,o.volume(n,e._id),o._emit("fade",e._id))}),u)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,i=this,r=arguments;if(0===r.length)return i._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=i._soundById(parseInt(r[0],10)))&&n._loop;e=r[0],i._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var a=i._getSoundIds(t),o=0;o<a.length;o++)(n=i._soundById(a[o]))&&(n._loop=e,i._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,i.playing(a[o])&&(i.pause(a[o],!0),i.play(a[o],!0)))));return i},rate:function(){var e,t,n,i=this,a=arguments;if(0===a.length)t=i._sounds[0]._id;else if(1===a.length){var o=i._getSoundIds(),s=o.indexOf(a[0]);s>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else 2===a.length&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if("number"!=typeof e)return(n=i._soundById(t))?n._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,a)}}),i;void 0===t&&(i._rate=e),t=i._getSoundIds(t);for(var l=0;l<t.length;l++)if(n=i._soundById(t[l])){i.playing(t[l])&&(n._rateSeek=i.seek(t[l]),n._playStart=i._webAudio?r.ctx.currentTime:n._playStart),n._rate=e,i._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,r.ctx.currentTime):n._node&&(n._node.playbackRate=e);var c=i.seek(t[l]),u=(i._sprite[n._sprite][0]+i._sprite[n._sprite][1])/1e3-c,d=1e3*u/Math.abs(n._rate);!i._endTimers[t[l]]&&n._paused||(i._clearTimer(t[l]),i._endTimers[t[l]]=setTimeout(i._ended.bind(i,n),d)),i._emit("rate",n._id)}return i},seek:function(){var e,t,n=this,i=arguments;if(0===i.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===i.length){var a=n._getSoundIds(),o=a.indexOf(i[0]);o>=0?t=parseInt(i[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(i[0]))}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,i)}}),n;var s=n._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var l=n.playing(t)?r.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+l*Math.abs(s._rate))}return s._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),s._seek=e,s._ended=!1,n._clearTimer(t),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var d=function(){u&&n.play(t,!0),n._emit("seek",t)};if(u&&!n._webAudio){var p=function(){n._playLock?setTimeout(p,0):d()};setTimeout(p,0)}else d()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var i=0;i<t._sounds.length;i++)if(!t._sounds[i]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,i=t._soundById(e);return i&&(n=t._sprite[i._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(r._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),r._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var i=r._howls.indexOf(e);i>=0&&r._howls.splice(i,1);var a=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===e._src||e._src.indexOf(r._howls[n]._src)>=0){a=!1;break}return s&&a&&delete s[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,i){var r=this["_on"+e];return"function"==typeof t&&r.push(i?{id:n,fn:t,once:i}:{id:n,fn:t}),this},off:function(e,t,n){var i=this,r=i["_on"+e],a=0;if("number"==typeof t&&(n=t,t=null),t||n)for(a=0;a<r.length;a++){var o=n===r[a].id;if(t===r[a].fn&&o||!t&&o){r.splice(a,1);break}}else if(e)i["_on"+e]=[];else{var s=Object.keys(i);for(a=0;a<s.length;a++)0===s[a].indexOf("_on")&&Array.isArray(i[s[a]])&&(i[s[a]]=[])}return i},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var i=this,r=i["_on"+e],a=r.length-1;a>=0;a--)r[a].id&&r[a].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(i,r[a].fn),0),r[a].once&&i.off(e,r[a].fn,r[a].id));return i._loadQueue(e),i},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var i=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&i&&t.stop(e._id,!0).play(e._id),t._webAudio&&i){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),r._autoSuspend()),t._webAudio||i||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new o(e)},_drain:function(){var e=this,t=e._pool,n=0,i=0;if(!(e._sounds.length<t)){for(i=0;i<e._sounds.length;i++)e._sounds[i]._ended&&n++;for(i=e._sounds.length-1;i>=0;i--){if(n<=t)return;e._sounds[i]._ended&&(e._webAudio&&e._sounds[i]._node&&e._sounds[i]._node.disconnect(0),e._sounds.splice(i,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=s[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime),this},_cleanBuffer:function(e){var t=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=r._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=r._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),e._node.gain.setValueAtTime(n,r.ctx.currentTime),e._node.paused=!0,e._node.connect(r.masterGain)):r.noAudio||(e._node=r._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(r._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*r.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(r._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var s={},l=function(e){var t=e._src;if(s[t])return e._duration=s[t].duration,void d(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);u(i.buffer,e)}else{var a=new XMLHttpRequest;a.open(e._xhr.method,t,!0),a.withCredentials=e._xhr.withCredentials,a.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){a.setRequestHeader(t,e._xhr.headers[t])})),a.onload=function(){var t=(a.status+"")[0];"0"===t||"2"===t||"3"===t?u(a.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete s[t],e.load())},c(a)}},c=function(e){try{e.send()}catch(t){e.onerror()}},u=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},i=function(e){e&&t._sounds.length>0?(s[t._src]=e,d(t,e)):n()};"undefined"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(e).then(i).catch(n):r.ctx.decodeAudioData(e,i,n)},d=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(r.usingWebAudio){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(e){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),t=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var i=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!i&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};void 0===(n=function(){return{Howler:r,Howl:a}}.apply(t,[]))||(e.exports=n),t.Howler=r,t.Howl=a,"undefined"!=typeof global?(global.HowlerGlobal=i,global.Howler=r,global.Howl=a,global.Sound=o):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=r,window.Howl=a,window.Sound=o)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var i=this;return i.ctx&&i.ctx.listener?(t="number"!=typeof t?i._pos[1]:t,n="number"!=typeof n?i._pos[2]:n,"number"!=typeof e?i._pos:(i._pos=[e,t,n],void 0!==i.ctx.listener.positionX?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]),i)):i},HowlerGlobal.prototype.orientation=function(e,t,n,i,r,a){var o=this;if(!o.ctx||!o.ctx.listener)return o;var s=o._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,i="number"!=typeof i?s[3]:i,r="number"!=typeof r?s[4]:r,a="number"!=typeof a?s[5]:a,"number"!=typeof e?s:(o._orientation=[e,t,n,i,r,a],void 0!==o.ctx.listener.forwardX?(o.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),o.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),o.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),o.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):o.ctx.listener.setOrientation(e,t,n,i,r,a),o)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(e,n)}}),i;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0]}for(var a=i._getSoundIds(n),o=0;o<a.length;o++){var s=i._soundById(a[o]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,r),"spatial"===r?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),i._emit("stereo",s._id)}}return i},Howl.prototype.pos=function(e,n,i,r){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"pos",action:function(){a.pos(e,n,i,r)}}),a;if(n="number"!=typeof n?0:n,i="number"!=typeof i?-.5:i,void 0===r){if("number"!=typeof e)return a._pos;a._pos=[e,n,i]}for(var o=a._getSoundIds(r),s=0;s<o.length;s++){var l=a._soundById(o[s]);if(l){if("number"!=typeof e)return l._pos;l._pos=[e,n,i],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setPosition(e,n,i)),a._emit("pos",l._id)}}return a},Howl.prototype.orientation=function(e,n,i,r){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"orientation",action:function(){a.orientation(e,n,i,r)}}),a;if(n="number"!=typeof n?a._orientation[1]:n,i="number"!=typeof i?a._orientation[2]:i,void 0===r){if("number"!=typeof e)return a._orientation;a._orientation=[e,n,i]}for(var o=a._getSoundIds(r),s=0;s<o.length;s++){var l=a._soundById(o[s]);if(l){if("number"!=typeof e)return l._orientation;l._orientation=[e,n,i],l._node&&(l._panner||(l._pos||(l._pos=a._pos||[0,0,-.5]),t(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,i)),a._emit("orientation",l._id)}}return a},Howl.prototype.pannerAttr=function(){var e,n,i,r=this,a=arguments;if(!r._webAudio)return r;if(0===a.length)return r._pannerAttr;if(1===a.length){if("object"!=typeof a[0])return(i=r._soundById(parseInt(a[0],10)))?i._pannerAttr:r._pannerAttr;e=a[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),r._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:r._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:r._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:r._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:r._panningModel})}else 2===a.length&&(e=a[0],n=parseInt(a[1],10));for(var o=r._getSoundIds(n),s=0;s<o.length;s++)if(i=r._soundById(o[s])){var l=i._pannerAttr;l={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:l.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:l.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:l.panningModel};var c=i._panner;c?(c.coneInnerAngle=l.coneInnerAngle,c.coneOuterAngle=l.coneOuterAngle,c.coneOuterGain=l.coneOuterGain,c.distanceModel=l.distanceModel,c.maxDistance=l.maxDistance,c.refDistance=l.refDistance,c.rolloffFactor=l.rolloffFactor,c.panningModel=l.panningModel):(i._pos||(i._pos=r._pos||[0,0,-.5]),t(i,"spatial"))}return r},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},5281:function(e,t,n){var i;(function(){void 0===(i=function(){return s={},n=document,c=!1,u="active",a=6e4,r=!1,m={},h="__ceGUID",t={add:function(e,t,n){return e[h]=void 0,e[h]||(e[h]="ifvisible.object.event.identifier"),m[e[h]]||(m[e[h]]={}),m[e[h]][t]||(m[e[h]][t]=[]),m[e[h]][t].push(n)},remove:function(e,t,n){var i,r,a,o,s;if(n){if(e[h]&&m[e[h]]&&m[e[h]][t])for(r=a=0,o=(s=m[e[h]][t]).length;a<o;r=++a)if((i=s[r])===n)return m[e[h]][t].splice(r,1),i}else if(e[h]&&m[e[h]]&&m[e[h]][t])return delete m[e[h]][t]},fire:function(e,t,n){var i,r,a,o,s;if(e[h]&&m[e[h]]&&m[e[h]][t]){for(s=[],r=0,a=(o=m[e[h]][t]).length;r<a;r++)i=o[r],s.push(i(n||{}));return s}}},f=!1,e=function(e,t,n){return f||(f=e.addEventListener?function(e,t,n){return e.addEventListener(t,n,!1)}:e.attachEvent?function(e,t,n){return e.attachEvent("on"+t,n,!1)}:function(e,t,n){return e["on"+t]=n}),f(e,t,n)},o=function(){var e,t,i,r;for(r=3,i=n.createElement("div"),e=i.getElementsByTagName("i"),t=function(){return i.innerHTML="\x3c!--[if gt IE "+ ++r+"]><i></i><![endif]--\x3e",e[0]};t(););return r>4?r:void 0}(),i=!1,p=void 0,void 0!==n.hidden?(i="hidden",p="visibilitychange"):void 0!==n.mozHidden?(i="mozHidden",p="mozvisibilitychange"):void 0!==n.msHidden?(i="msHidden",p="msvisibilitychange"):void 0!==n.webkitHidden&&(i="webkitHidden",p="webkitvisibilitychange"),d=function(){var t,i;return t=!1,(i=function(){return clearTimeout(t),"active"!==u&&s.wakeup(),r=+new Date,t=setTimeout((function(){if("active"===u)return s.idle()}),a)})(),e(n,"mousemove",i),e(n,"keyup",i),e(n,"touchstart",i),e(window,"scroll",i),s.focus(i),s.wakeup(i)},l=function(){var t;return!!c||(!1===i?(t="blur",o<9&&(t="focusout"),e(window,t,(function(){return s.blur()})),e(window,"focus",(function(){return s.focus()}))):e(n,p,(function(){return n[i]?s.blur():s.focus()})),c=!0,d())},s={setIdleDuration:function(e){return a=1e3*e},getIdleDuration:function(){return a},getIdleInfo:function(){var e,t;return e=+new Date,t={},"idle"===u?(t.isIdle=!0,t.idleFor=e-r,t.timeLeft=0,t.timeLeftPer=100):(t.isIdle=!1,t.idleFor=e-r,t.timeLeft=r+a-e,t.timeLeftPer=(100-100*t.timeLeft/a).toFixed(2)),t},focus:function(e){return"function"==typeof e?this.on("focus",e):(u="active",t.fire(this,"focus"),t.fire(this,"wakeup"),t.fire(this,"statusChanged",{status:u})),this},blur:function(e){return"function"==typeof e?this.on("blur",e):(u="hidden",t.fire(this,"blur"),t.fire(this,"idle"),t.fire(this,"statusChanged",{status:u})),this},idle:function(e){return"function"==typeof e?this.on("idle",e):(u="idle",t.fire(this,"idle"),t.fire(this,"statusChanged",{status:u})),this},wakeup:function(e){return"function"==typeof e?this.on("wakeup",e):(u="active",t.fire(this,"wakeup"),t.fire(this,"statusChanged",{status:u})),this},on:function(e,n){return l(),t.add(this,e,n),this},off:function(e,n){return l(),t.remove(this,e,n),this},onEvery:function(e,t){var n,i;return l(),n=!1,t&&(i=setInterval((function(){if("active"===u&&!1===n)return t()}),1e3*e)),{stop:function(){return clearInterval(i)},pause:function(){return n=!0},resume:function(){return n=!1},code:i,callback:t}},now:function(e){return l(),u===(e||"active")}};var e,t,n,i,r,a,o,s,l,c,u,d,p,f,h,m}.call(t,n,t,e))||(e.exports=i)}).call(this)},6252:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){var e={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,r,a=this,o=[];if(a.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;n<i;n++)"string"==typeof e[n]?o.push(e[n]):(a.plugins.settings[e[n].name]=e[n].options,o.push(e[n].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(a.plugins.settings[r]=e[r],o.push(r));for(;o.length;)a.require(o.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,r=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=r.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}}},t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})?i.call(t,n,t,e):i)||(e.exports=r)},1332:(e,t,n)=>{var i=n(7199).z;n(2362),n(2485),n(1604),n(1703),n(7111);n(6217).$;t.z=i},7111:(e,t,n)=>{var i=n(7199).z;!function(){var e=i,t=e.lib.BlockCipher,n=e.algo,r=[],a=[],o=[],s=[],l=[],c=[],u=[],d=[],p=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,i=0;for(t=0;t<256;t++){var h=i^i<<1^i<<2^i<<3^i<<4;h=h>>>8^255&h^99,r[n]=h,a[h]=n;var m=e[n],g=e[m],v=e[g],b=257*e[h]^16843008*h;o[n]=b<<24|b>>>8,s[n]=b<<16|b>>>16,l[n]=b<<8|b>>>24,c[n]=b,b=16843009*v^65537*g^257*m^16843008*n,u[h]=b<<24|b>>>8,d[h]=b<<16|b>>>16,p[h]=b<<8|b>>>24,f[h]=b,n?(n=m^e[e[e[v^m]]],i^=e[e[i]]):n=i=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],o=0;o<i;o++)if(o<n)a[o]=t[o];else{var s=a[o-1];o%n?n>6&&o%n==4&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=h[o/n|0]<<24),a[o]=a[o-n]^s}for(var l=this._invKeySchedule=[],c=0;c<i;c++)o=i-c,s=c%4?a[o]:a[o-4],l[c]=c<4||o<=4?s:u[r[s>>>24]]^d[r[s>>>16&255]]^p[r[s>>>8&255]]^f[r[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,l,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,p,f,a),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,a,o,s){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],p=e[t+3]^n[3],f=4,h=1;h<l;h++){var m=i[c>>>24]^r[u>>>16&255]^a[d>>>8&255]^o[255&p]^n[f++],g=i[u>>>24]^r[d>>>16&255]^a[p>>>8&255]^o[255&c]^n[f++],v=i[d>>>24]^r[p>>>16&255]^a[c>>>8&255]^o[255&u]^n[f++],b=i[p>>>24]^r[c>>>16&255]^a[u>>>8&255]^o[255&d]^n[f++];c=m,u=g,d=v,p=b}m=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^n[f++],g=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&c])^n[f++],v=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^n[f++],b=(s[p>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^n[f++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=b},keySize:8});e.AES=t._createHelper(m)}()},1703:(e,t,n)=>{var i,r,a,o,s,l,c,u,d,p,f,h,m,g,v,b,_,y,w=n(7199).z;w.lib.Cipher||(a=(r=(i=w).lib).Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,(l=i.enc).Utf8,c=l.Base64,u=i.algo.EvpKDF,d=r.Cipher=s.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:b}return function(t){return{encrypt:function(n,i,r){return e(i).encrypt(t,n,i,r)},decrypt:function(n,i,r){return e(i).decrypt(t,n,i,r)}}}}()}),r.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),p=i.mode={},f=r.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=p.CBC=function(){var e=f.extend();function t(e,t,n){var i=this._iv;if(i){var r=i;this._iv=void 0}else r=this._prevBlock;for(var a=0;a<n;a++)e[t+a]^=r[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize;t.call(this,e,n,r),i.encryptBlock(e,n),this._prevBlock=e.slice(n,n+r)}}),e.Decryptor=e.extend({processBlock:function(e,n){var i=this._cipher,r=i.blockSize,a=e.slice(n,n+r);i.decryptBlock(e,n),t.call(this,e,n,r),this._prevBlock=a}}),e}(),m=(i.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,i=n-e.sigBytes%n,r=i<<24|i<<16|i<<8|i,a=[],s=0;s<i;s+=4)a.push(r);var l=o.create(a,i);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.BlockCipher=d.extend({cfg:d.cfg.extend({mode:h,padding:m}),reset:function(){d.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=n.createEncryptor;else i=n.createDecryptor,this._minBufferSize=1;this._mode=i.call(n,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),g=r.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var i=o.create([1398893684,1701076831]).concat(n).concat(t);else i=t;return i.toString(c)},parse:function(e){var t=c.parse(e),n=t.words;if(1398893684==n[0]&&1701076831==n[1]){var i=o.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return g.create({ciphertext:t,salt:i})}},b=r.SerializableCipher=a.extend({cfg:a.extend({format:v}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i),a=r.finalize(t),o=r.cfg;return g.create({ciphertext:a,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(i.kdf={}).OpenSSL={execute:function(e,t,n,i){i||(i=o.random(8));var r=u.create({keySize:t+n}).compute(e,i),a=o.create(r.words.slice(t),4*n);return r.sigBytes=4*t,g.create({key:r,iv:a,salt:i})}},y=r.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:_}),encrypt:function(e,t,n,i){var r=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize);i.iv=r.iv;var a=b.encrypt.call(this,e,t,r.key,i);return a.mixIn(r),a},decrypt:function(e,t,n,i){i=this.cfg.extend(i),t=this._parse(t,i.format);var r=i.kdf.execute(n,e.keySize,e.ivSize,t.salt);return i.iv=r.iv,b.decrypt.call(this,e,t,r.key,i)}}))},7199:(e,t)=>{var n=n||function(e,t){var n={},i=n.lib={},r=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=i.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var a=0;a<r;a++){var o=n[a>>>2]>>>24-a%4*8&255;t[i+a>>>2]|=o<<24-(i+a)%4*8}else if(n.length>65535)for(a=0;a<r;a+=4)t[i+a>>>2]=n[a>>>2];else t.push.apply(t,n);return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var a=t[r>>>2]>>>24-r%4*8&255;i.push((a>>>4).toString(16)),i.push((15&a).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},l=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var a=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},c=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*l,r);if(l){for(var u=0;u<l;u+=o)this._doProcessBlock(i,u);var d=i.splice(0,l);n.sigBytes-=c}return new a.init(d,c)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(i.Hasher=u.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);t.z=n},2362:(e,t,n)=>{var i,r,a=n(7199).z;r=(i=a).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)r.push(i.charAt(o>>>6*(3-s)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(e){var t=e.length,n=this._map,i=n.charAt(64);if(i){var a=e.indexOf(i);-1!=a&&(t=a)}for(var o=[],s=0,l=0;l<t;l++)if(l%4){var c=n.indexOf(e.charAt(l-1))<<l%4*2,u=n.indexOf(e.charAt(l))>>>6-l%4*2;o[s>>>2]|=(c|u)<<24-s%4*8,s++}return r.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},1604:(e,t,n)=>{var i,r,a,o,s,l,c;a=(r=(i=n(7199).z).lib).Base,o=r.WordArray,l=(s=i.algo).MD5,c=s.EvpKDF=a.extend({cfg:a.extend({keySize:4,hasher:l,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=n.hasher.create(),r=o.create(),a=r.words,s=n.keySize,l=n.iterations;a.length<s;){c&&i.update(c);var c=i.update(e).finalize(t);i.reset();for(var u=1;u<l;u++)c=i.finalize(c),i.reset();r.concat(c)}return r.sigBytes=4*s,r}}),i.EvpKDF=function(e,t,n){return c.create(n).compute(e,t)}},6217:(e,t,n)=>{var i=n(7199).z,r={stringify:function(e){var t={ct:e.ciphertext.toString(i.enc.Base64)};return e.iv&&(t.iv=e.iv.toString()),e.salt&&(t.s=e.salt.toString()),JSON.stringify(t)},parse:function(e){var t=JSON.parse(e),n=i.lib.CipherParams.create({ciphertext:i.enc.Base64.parse(t.ct)});return t.iv&&(n.iv=i.enc.Hex.parse(t.iv)),t.s&&(n.salt=i.enc.Hex.parse(t.s)),n}};t.$=r},2485:(e,t,n)=>{var i=n(7199).z;!function(e){var t=i,n=t.lib,r=n.WordArray,a=n.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var i=t+n,r=e[i];e[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var a=this._hash.words,o=e[t+0],l=e[t+1],f=e[t+2],h=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],b=e[t+7],_=e[t+8],y=e[t+9],w=e[t+10],x=e[t+11],k=e[t+12],$=e[t+13],C=e[t+14],T=e[t+15],O=a[0],S=a[1],A=a[2],P=a[3];O=c(O,S,A,P,o,7,s[0]),P=c(P,O,S,A,l,12,s[1]),A=c(A,P,O,S,f,17,s[2]),S=c(S,A,P,O,h,22,s[3]),O=c(O,S,A,P,m,7,s[4]),P=c(P,O,S,A,g,12,s[5]),A=c(A,P,O,S,v,17,s[6]),S=c(S,A,P,O,b,22,s[7]),O=c(O,S,A,P,_,7,s[8]),P=c(P,O,S,A,y,12,s[9]),A=c(A,P,O,S,w,17,s[10]),S=c(S,A,P,O,x,22,s[11]),O=c(O,S,A,P,k,7,s[12]),P=c(P,O,S,A,$,12,s[13]),A=c(A,P,O,S,C,17,s[14]),O=u(O,S=c(S,A,P,O,T,22,s[15]),A,P,l,5,s[16]),P=u(P,O,S,A,v,9,s[17]),A=u(A,P,O,S,x,14,s[18]),S=u(S,A,P,O,o,20,s[19]),O=u(O,S,A,P,g,5,s[20]),P=u(P,O,S,A,w,9,s[21]),A=u(A,P,O,S,T,14,s[22]),S=u(S,A,P,O,m,20,s[23]),O=u(O,S,A,P,y,5,s[24]),P=u(P,O,S,A,C,9,s[25]),A=u(A,P,O,S,h,14,s[26]),S=u(S,A,P,O,_,20,s[27]),O=u(O,S,A,P,$,5,s[28]),P=u(P,O,S,A,f,9,s[29]),A=u(A,P,O,S,b,14,s[30]),O=d(O,S=u(S,A,P,O,k,20,s[31]),A,P,g,4,s[32]),P=d(P,O,S,A,_,11,s[33]),A=d(A,P,O,S,x,16,s[34]),S=d(S,A,P,O,C,23,s[35]),O=d(O,S,A,P,l,4,s[36]),P=d(P,O,S,A,m,11,s[37]),A=d(A,P,O,S,b,16,s[38]),S=d(S,A,P,O,w,23,s[39]),O=d(O,S,A,P,$,4,s[40]),P=d(P,O,S,A,o,11,s[41]),A=d(A,P,O,S,h,16,s[42]),S=d(S,A,P,O,v,23,s[43]),O=d(O,S,A,P,y,4,s[44]),P=d(P,O,S,A,k,11,s[45]),A=d(A,P,O,S,T,16,s[46]),O=p(O,S=d(S,A,P,O,f,23,s[47]),A,P,o,6,s[48]),P=p(P,O,S,A,b,10,s[49]),A=p(A,P,O,S,C,15,s[50]),S=p(S,A,P,O,g,21,s[51]),O=p(O,S,A,P,k,6,s[52]),P=p(P,O,S,A,h,10,s[53]),A=p(A,P,O,S,w,15,s[54]),S=p(S,A,P,O,l,21,s[55]),O=p(O,S,A,P,_,6,s[56]),P=p(P,O,S,A,T,10,s[57]),A=p(A,P,O,S,v,15,s[58]),S=p(S,A,P,O,$,21,s[59]),O=p(O,S,A,P,m,6,s[60]),P=p(P,O,S,A,x,10,s[61]),A=p(A,P,O,S,f,15,s[62]),S=p(S,A,P,O,y,21,s[63]),a[0]=a[0]+O|0,a[1]=a[1]+S|0,a[2]=a[2]+A|0,a[3]=a[3]+P|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var a=e.floor(i/4294967296),o=i;n[15+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,i,r,a,o){var s=e+(t&n|~t&i)+r+o;return(s<<a|s>>>32-a)+t}function u(e,t,n,i,r,a,o){var s=e+(t&i|n&~i)+r+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,i,r,a,o){var s=e+(t^n^i)+r+o;return(s<<a|s>>>32-a)+t}function p(e,t,n,i,r,a,o){var s=e+(n^(t|~i))+r+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(l),t.HmacMD5=a._createHmacHelper(l)}(Math)},2408:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator;var n={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i=Object.assign,r={};function a(e,t,i){this.props=e,this.context=t,this.refs=r,this.updater=i||n}function o(){}function s(e,t,i){this.props=e,this.context=t,this.refs=r,this.updater=i||n}a.prototype.isReactComponent={},a.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},a.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=a.prototype;var l=s.prototype=new o;l.constructor=s,i(l,a.prototype),l.isPureReactComponent=!0;Array.isArray,Object.prototype.hasOwnProperty;t.Component=a},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},5666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,a=Object.create(r.prototype),o=new S(i||[]);return a._invoke=function(e,t,n){var i=d;return function(r,a){if(i===f)throw new Error("Generator is already running");if(i===h){if("throw"===r)throw a;return P()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var l=u(e,t,n);if("normal"===l.type){if(i=n.done?h:p,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=h,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function b(){}var _={};l(_,a,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(A([])));w&&w!==n&&i.call(w,a)&&(_=w);var x=b.prototype=g.prototype=Object.create(_);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function $(e,t){function n(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var r;this._invoke=function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}}function C(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return v.prototype=b,l(x,"constructor",b),l(b,"constructor",v),v.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k($.prototype),l($.prototype,o,(function(){return this})),e.AsyncIterator=$,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new $(c(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(x),l(x,s,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:A(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},5069:function(e,t,n){var i,r;i=function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];var t,n,i,o,l=[],c=e.split(/ +/);for(t=0,n=c.length;t<n;t++){if(i=a(c[t]),this.settings.diacritics)for(o in s)s.hasOwnProperty(o)&&(i=i.replace(new RegExp(o,"g"),s[o]));l.push({string:c[t],regex:new RegExp(i,"i")})}return l},e.prototype.iterator=function(e,t){var n;n=o(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,r,a,o;e=this.prepareSearch(e,t),r=e.tokens,n=e.options.fields,a=r.length,o=e.options.nesting;var s,l=function(e,t){var n,i;return e?-1===(i=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===i&&(n+=.5),n):0},c=(s=n.length)?1===s?function(e,t){return l(i(t,n[0],o),e)}:function(e,t){for(var r=0,a=0;r<s;r++)a+=l(i(t,n[r],o),e);return a/s}:function(){return 0};return a?1===a?function(e){return c(r[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;n<a;n++){if((t=c(r[n],e))<=0)return 0;i+=t}return i/a}:function(e){for(var t=0,n=0;t<a;t++)n+=c(r[t],e);return n/a}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var r,a,o,s,l,c,u,d,p,f,h;if(h=!(e=(o=this).prepareSearch(e,n)).query&&n.sort_empty||n.sort,p=function(e,t){return"$score"===e?t.score:i(o.items[t.id],e,n.nesting)},l=[],h)for(r=0,a=h.length;r<a;r++)(e.query||"$score"!==h[r].field)&&l.push(h[r]);if(e.query){for(f=!0,r=0,a=l.length;r<a;r++)if("$score"===l[r].field){f=!1;break}f&&l.unshift({field:"$score",direction:"desc"})}else for(r=0,a=l.length;r<a;r++)if("$score"===l[r].field){l.splice(r,1);break}for(d=[],r=0,a=l.length;r<a;r++)d.push("desc"===l[r].direction?-1:1);return(c=l.length)?1===c?(s=l[0].field,u=d[0],function(e,n){return u*t(p(s,e),p(s,n))}):function(e,n){var i,r,a;for(i=0;i<c;i++)if(a=l[i].field,r=d[i]*t(p(a,e),p(a,n)))return r;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var i=(t=n({},t)).fields,r=t.sort,a=t.sort_empty;return i&&!o(i)&&(t.fields=[i]),r&&!o(r)&&(t.sort=[r]),a&&!o(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,r,a,o=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,a=t.score||o.getScoreFunction(i),e.length?o.iterator(o.items,(function(e,r){n=a(e),(!1===t.filter||n>0)&&i.items.push({score:n,id:r})})):o.iterator(o.items,(function(e,t){i.items.push({score:1,id:t})})),(r=o.getSortFunction(i,t))&&i.items.sort(r),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=l(String(e||"")))>(t=l(String(t||"")))?1:t>e?-1:0},n=function(e,t){var n,i,r,a;for(n=1,i=arguments.length;n<i;n++)if(a=arguments[n])for(r in a)a.hasOwnProperty(r)&&(e[r]=a[r]);return e},i=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},a=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[a]",b:"[bB]",c:"[cCc]",d:"[dDd]",e:"[e]",f:"[f]",g:"[g]",h:"[h]",i:"[iiI]",j:"[j]",k:"[k]",l:"[l]",n:"[nNn]",o:"[o]",p:"[p]",q:"[qq]",r:"[r]",s:"[sSs]",t:"[t]",u:"[u]",v:"[v]",w:"[w]",x:"[x]",y:"[y]",z:"[z]"},l=function(){var e,t,n,i,r="",a={};for(n in s)if(s.hasOwnProperty(n))for(r+=i=s[n].substring(2,s[n].length-1),e=0,t=i.length;e<t;e++)a[i.charAt(e)]=n;var o=new RegExp("["+r+"]","g");return function(e){return e.replace(o,(function(e){return a[e]})).toLowerCase()}}();return e},void 0===(r=i.call(t,n,t,e))||(e.exports=r)},8971:(e,t,n)=>{var i=n(2195),r=n(9015),a=[n(9257)];e.exports=i.createStore(r,a)},9257:(e,t,n)=>{e.exports=function(){return n(5703),{}}},5703:()=>{"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,i,r,a,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,n=0;n<a;n+=1)o[n]=str(n,l)||"null";return r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(r=str(i=rep[n],l))&&o.push(quote(i)+(gap?": ":":")+r);else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l))&&o.push(quote(i)+(gap?": ":":")+r);return r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(void 0!==(i=walk(r,n))?r[n]=i:delete r[n]);return reviver.call(e,t,r)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},2195:(e,t,n)=>{var i=n(9078),r=i.slice,a=i.pluck,o=i.each,s=i.bind,l=i.create,c=i.isList,u=i.isFunction,d=i.isObject;e.exports={createStore:f};var p={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,i){e.call(t,t._deserialize(n),(i||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return f.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return f(this.storage,this.plugins,e)}};function f(e,t,n){n||(n=""),e&&!c(e)&&(e=[e]),t&&!c(t)&&(t=[t]);var i=n?"__storejs_"+n+"_":"",f=n?new RegExp("^"+i):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var h={_namespacePrefix:i,_namespaceRegexp:f,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=r(arguments,0),i=this;function a(){if(n)return o(arguments,(function(e,n){t[n]=e})),n.apply(i,t)}var s=[a].concat(t);return e.apply(i,s)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(c(e))o(e,(function(e){t._addPlugin(e)}));else if(!a(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!u(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!d(n))throw new Error("Plugins must return an object of function properties");o(n,(function(n,i){if(!u(n))throw new Error("Bad plugin property: "+i+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,i)}))}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},m=l(h,p,{plugins:[]});return m.raw={},o(m,(function(e,t){u(e)&&(m.raw[t]=s(m,e))})),o(e,(function(e){m._addStorage(e)})),o(t,(function(e){m._addPlugin(e)})),m}},9078:e=>{var t=Object.assign?Object.assign:function(e,t,n,i){for(var r=1;r<arguments.length;r++)o(Object(arguments[r]),(function(t,n){e[n]=t}));return e},n=function(){if(Object.create)return function(e,n,i,r){var o=a(arguments,1);return t.apply(this,[Object.create(e)].concat(o))};{function e(){}return function(n,i,r,o){var s=a(arguments,1);return e.prototype=n,t.apply(this,[new e].concat(s))}}}(),i=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},r="undefined"!=typeof window?window:global;function a(e,t){return Array.prototype.slice.call(e,t||0)}function o(e,t){s(e,(function(e,n){return t(e,n),!1}))}function s(e,t){if(l(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var i in e)if(e.hasOwnProperty(i)&&t(e[i],i))return e[i]}function l(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}e.exports={assign:t,create:n,trim:i,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:a,each:o,map:function(e,t){var n=l(e)?[]:{};return s(e,(function(e,i){return n[i]=t(e,i),!1})),n},pluck:s,isList:l,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:r}},9015:(e,t,n)=>{e.exports=[n(9627),n(5347),n(4524),n(5580),n(8855),n(8728)]},5580:(e,t,n)=>{var i=n(9078),r=i.Global,a=i.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!c(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(o.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){e&&(o.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},each:s,remove:l,clearAll:function(){s((function(e,t){l(t)}))}};var o=r.document;function s(e){for(var t=o.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(a(t[n])){var i=t[n].split("="),r=unescape(i[0]);e(unescape(i[1]),r)}}function l(e){e&&c(e)&&(o.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function c(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(o.cookie)}},9627:(e,t,n)=>{var i=n(9078).Global;function r(){return i.localStorage}function a(e){return r().getItem(e)}e.exports={name:"localStorage",read:a,write:function(e,t){return r().setItem(e,t)},each:function(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(a(n),n)}},remove:function(e){return r().removeItem(e)},clearAll:function(){return r().clear()}}},8728:e=>{e.exports={name:"memoryStorage",read:function(e){return t[e]},write:function(e,n){t[e]=n},each:function(e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},remove:function(e){delete t[e]},clearAll:function(e){t={}}};var t={}},5347:(e,t,n)=>{var i=n(9078).Global;e.exports={name:"oldFF-globalStorage",read:function(e){return r[e]},write:function(e,t){r[e]=t},each:a,remove:function(e){return r.removeItem(e)},clearAll:function(){a((function(e,t){delete r[e]}))}};var r=i.globalStorage;function a(e){for(var t=r.length-1;t>=0;t--){var n=r.key(t);e(r[n],n)}}},4524:(e,t,n)=>{var i=n(9078).Global;e.exports={name:"oldIE-userDataStorage",write:function(e,t){if(!s){var n=c(e);o((function(e){e.setAttribute(n,t),e.save(r)}))}},read:function(e){if(!s){var t=c(e),n=null;return o((function(e){n=e.getAttribute(t)})),n}},each:function(e){o((function(t){for(var n=t.XMLDocument.documentElement.attributes,i=n.length-1;i>=0;i--){var r=n[i];e(t.getAttribute(r.name),r.name)}}))},remove:function(e){var t=c(e);o((function(e){e.removeAttribute(t),e.save(r)}))},clearAll:function(){o((function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(r)}))}};var r="storejs",a=i.document,o=function(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e,t,n;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(t){n=a.createElement("div"),e=a.body}return function(t){var i=[].slice.call(arguments,0);i.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(r),t.apply(this,i),e.removeChild(n)}}(),s=(i.navigator?i.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function c(e){return e.replace(/^\d/,"___$&").replace(l,"___")}},8855:(e,t,n)=>{var i=n(9078).Global;function r(){return i.sessionStorage}function a(e){return r().getItem(e)}e.exports={name:"sessionStorage",read:a,write:function(e,t){return r().setItem(e,t)},each:function(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(a(n),n)}},remove:function(e){return r().removeItem(e)},clearAll:function(){return r().clear()}}},1002:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>i})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(9729),t=__webpack_require__(3334),n=__webpack_require__(9805),i=__webpack_require__(4069),r=__webpack_require__(3050),a=__webpack_require__(6674),o=__webpack_require__(1155),s=__webpack_require__(3936),l=__webpack_require__(2819),c=__webpack_require__(6469),u=__webpack_require__(1592),d=t.x6.url.split("?")[1]?"&":"?";function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;"function"==typeof window.BMAppErrorToast?window.BMAppErrorToast("",e,t):(0,i.x)(e,t)}!function(i){if(t.h.enabled&&"1"===t.x6.realtime){var f=t.h.get("bp-better-messages-last-unread");void 0!==f&&parseInt(t.x6.total_unread)!==parseInt(f)&&(0,e.PE)(f)}function h(e){void 0!==e[0].BPemojioneArea&&e[0].BPemojioneArea.trigger("change");var t=e.val();if(0===i(e).next(".bp-emojionearea").length&&0===i(e).prev(".bm-mobile-area").length)return t;var n=function(e){"<p>"!==(e=e.replace(/<p><\/p>/g,"")).substring(0,3)&&(e="<p>"+e),"</p>"!==e.substring(e.length-4)&&(e+="</p>"),e=(e=e.replace(/<div>/g,"<p>")).replace(/<\/div>/g,"</p>");var t=i.parseHTML(e);i.each(t,(function(e,t){var n=i(this);i.each(n.find("img.emojioneemoji,img.emojione"),(function(){var e=i(this);e.replaceWith(e.attr("alt"))})),n.BPBMremoveAttributes(),n.find("*:not(.bm-medium-editor-mention-at)").BPBMremoveAttributes()}));var n="";return i.each(t,(function(){n+=this.outerHTML})),"<p></p>"===n&&(n=""),n=(n=(n=n.replace(/&amp;/g,"&")).replace(/<font>/g,"")).replace(/<\/font>/g,"")}(t);return e.val(n),n}t.Eq.setIdleDuration(3),i.fn.BPBMremoveAttributes=function(){return this.each((function(){var e=i.map(this.attributes,(function(e){return e.name})),t=i(this);i.each(e,(function(e,n){t.removeAttr(n)}))}))},i(window).on("click",(function(){i(".bp-messages-wrap .expandingButtons.expandingButtonsOpen").removeClass("expandingButtonsOpen")})),t.tq&&(i(window).on("touchstart",(function(){})),i(window).on("touchend",(function(){})),t.x6.miniChats="0");var m="bp-better-messages-mobile-holder";t.h.enabled&&(t.Rl.openThreads=t.h.get("bp-better-messages-open-threads")||{},t.Rl.miniChats=t.h.get("bp-better-messages-mini-chats")||{},t.Rl.miniMessages=t.h.get("bp-better-messages-mini-messages")||!1,setInterval(e.v2,1e3)),i(document).ready((function(){!function(){t.Rl.isRtl=0!==i('html[dir="rtl"]').length,t.Rl.bpMessagesWrap=i(".bp-messages-wrap:not(.bp-better-messages-list, .bm-threads-list, #bp-better-messages-mini-mobile-open,.bp-better-messages-secondary)"),t.Rl.miniMobileContainer=i("#bp-better-messages-mini-mobile-container"),t.Rl.mobileViewContainer="#bp-better-messages-mobile-view-container",t.Rl.mobileOpenButton=i("#bp-better-messages-mini-mobile-open"),t.tq||t.Rl.mobileOpenButton.hide();var f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;function m(){if(f)return!1}t.tq&&"0"!==t.x6.mobileFullScreen&&(i(document).on("touchmove",".bp-messages-wrap .chat-header,.bp-messages-wrap .reply",(function(e){t.Rl.blockScroll&&e.preventDefault()})),i(document).on("focus blur",".bp-messages-wrap textarea, .bp-messages-wrap input",(function(t){setTimeout((function(){m(),(0,e.xq)()}),300)})),i(window).resize((function(){t.Rl.bpMessagesWrap.hasClass("bp-messages-mobile")&&m()})),t.Rl.bpMessagesWrap.addClass("mobile-ready"),"0"===t.x6.disableTapToOpen?(t.Rl.bpMessagesWrap.find(".bp-messages-mobile-tap").css("line-height",t.Rl.bpMessagesWrap.height()+"px"),t.Rl.bpMessagesWrap.on("touchend",".bp-messages-mobile-tap",(function(e){if(1!=t.Rl.touchmoved&&!1===t.Rl.blockOpen){var n=i(e.target).closest(".bp-messages-wrap");n.hasClass("bp-messages-mobile")||(e.preventDefault(),e.stopImmediatePropagation(),(0,o.Q4)(n))}})).on("touchmove",(function(e){t.Rl.touchmoved=!0})).on("touchstart",(function(e){t.Rl.touchmoved=!1}))):t.Rl.bpMessagesWrap.on("touchend",(function(e){if(1!=t.Rl.touchmoved&&!1===t.Rl.blockOpen){var n=i(e.target).closest(".bp-messages-wrap");if(!n.hasClass("bp-messages-mobile")){e.preventDefault(),e.stopImmediatePropagation(),(0,o.Q4)(n);var r=i(e.originalEvent.target).closest(".thread");r.length>0&&r.click()}}})).on("touchmove",(function(e){t.Rl.touchmoved=!0})).on("touchstart",(function(e){t.Rl.touchmoved=!1}))),i(document).on("click",".bp-messages-wrap .bpbm-gif .bpbm-gif-play",(function(e){t.Rl.blockSelect=!0;var n=i(this),r=i(this).parent().find("video");n.remove(),r[0].play(),setTimeout((function(){t.Rl.blockSelect=!1}),500)})),i(document).on("click",".bp-messages-wrap .expandingButtons",(function(e){e.stopPropagation(),i(this).toggleClass("expandingButtonsOpen")})),t.Rl.mobileOpenButton.on("click",(function(e){e.preventDefault();var n=i(".bp-messages-wrap.bp-messages-wrap-main");n.length>0?(0,o.Q4)(n):t.Rl.mobileOpenButton.hasClass("loading")||(t.Rl.mobileOpenButton.addClass("loading"),(0,o.Ld)(t.x6.baseUrl))}));var g=!1,b=!1;if(i(".bp-messages-wrap:not(.bp-better-messages-mini,.bp-better-messages-list,.bp-better-messages-secondary) .thread.scroller.bm-infodiv[data-id]").length>0?g=i(".bp-messages-wrap:not(.bp-better-messages-mini,.bp-better-messages-list,.bp-better-messages-secondary) .thread.bm-infodiv").attr("data-id"):i(".bp-messages-wrap:not(.bp-better-messages-mini,.bp-better-messages-list,.bp-better-messages-secondary,#bp-better-messages-mini-mobile-container,.bm-threads-list) .threads-list").length>0&&(b=!0),t.tq&&"1"===t.x6.autoFullScreen){if(g||b){var _=i(".bp-messages-wrap.mobile-ready.bp-messages-wrap-main, .bp-messages-wrap.mobile-ready.bp-messages-group-thread");(0,o.Q4)(_)}else(_=i(".bp-messages-wrap.bp-messages-wrap-bulk.mobile-ready")).length>0&&(0,o.Q4)(_);!function e(){y++,i(".bp-messages-wrap.bbapp_hide_all, .bp-messages-wrap.bbapp_hide_all *").removeClass("bbapp_hide_all"),y<10&&setTimeout((function(){e()}),500)}()}var y=0;"1"===t.x6.blockScroll&&i(".bp-messages-wrap").on("mousewheel DOMMouseScroll",".bpbm-os-viewport",(function(e){var t=e.originalEvent,n=t.wheelDelta||-t.detail,r=e.currentTarget.scrollHeight-i(e.currentTarget).height();n>0?this.scrollTop<5&&e.preventDefault():r-this.scrollTop<5&&e.preventDefault()})),(0,a.hM)(),void 0===t.x6.socket_server&&setInterval((function(){i.post(t.x6.ajaxUrl,{action:"bp_messages_last_activity_refresh"})}),3e5),t.Rl.bpMessagesWrap.on("click",".threads-list .thread:not(.blocked)",(function(t){if(0===i(t.target).closest(".pic").length&&0===i(t.target).closest(".delete").length&&0===i(t.target).closest(".deleted").length){t.preventDefault();var n=i(this).attr("data-href"),r=i(this).closest(".bp-messages-wrap");(0,e.fy)(n,r)}})),i(document).on("click",t.St+" span.delete",(function(e){e.preventDefault(),e.stopPropagation();var n=i(this).parent().parent(),r=(n.parent().parent(),i(n).attr("data-id")),a=i(n).height(),o=i(this).attr("data-nonce");i.post(t.x6.ajaxUrl,{action:"bp_messages_delete_thread",thread_id:r,nonce:o},(function(e){if(e.result){var t=n.position().top;i(n).addClass("blocked"),i(n).find(".deleted").show().css({height:a,"line-height":a+"px",top:t+"px"})}else p(e.errors[0])}))})),i(document).on("click",t.St+" a.undelete",(function(e){e.preventDefault(),e.stopPropagation();var n=i(this).parent().parent(),r=i(n).attr("data-id");i(n).removeClass("blocked");var a=i(this).attr("data-nonce");i.post(t.x6.ajaxUrl,{action:"bp_messages_un_delete_thread",thread_id:r,nonce:a},(function(e){e.result?(i(n).removeClass("blocked"),i(n).find(".deleted").hide()):p(e.errors[0])}))})),t.Rl.bpMessagesWrap.on("click",".messages-list li .favorite",(function(e){e.preventDefault(),e.stopPropagation();var n=i(this).parentsUntil(".messages-list","li").attr("data-id"),r="star";i(this).hasClass("active")&&(r="unstar"),i(this).toggleClass("active"),i.post(t.x6.ajaxUrl,{action:"bp_messages_favorite",message_id:n,thread_id:t.Rl.thread,type:r,nonce:t.x6.userNonce})})),t.Rl.bpMessagesWrap.on("click",".messages-list li .bpbm-reply",(function(e){e.preventDefault(),e.stopPropagation();var n=i(this).closest("li"),a=n.closest(".messages-stack"),o=a.closest(".bp-messages-threads-wrapper"),s=n.attr("data-id"),l=a.find(".content .info .name a").text(),c="",u="",d=n.find(".bpbm-replied-message-reply");d.length>0?c+=d.text():c+=n.find(".message-content").text();var p=n.find(".message-content > [data-desc]");p.length>0&&p.each((function(){var e=i(this).attr("data-desc");void 0!==e&&(u+='<span class="bpbm-preview-desc">'+atob(e)+"</span>")}));var f='<div class="bpbm-preview-message bpbm-reply-message" style="display:none" data-message-id="'+s+'"><div class="bpbm-preview-message-cancel"><i class="far fa-times-circle"></i></div><div class="bpbm-preview-message-content"><span class="bpbm-preview-message-name"></span><div class="bpbm-preview-message-text"></div></div></div>',h=o.find(".bpbm-preview-message");h.length>0?(h=h.replaceWith(f),(h=o.find(".bpbm-preview-message")).show(),(0,r.zo)()):(h=i(f).insertBefore(o.find(".reply"))).slideDown(100,(function(){(0,r.zo)()})),h.find(".bpbm-preview-message-name").text(l),h.find(".bpbm-preview-message-text").text(c),h.find(".bpbm-preview-message-text").append(u),h.find(".bpbm-gifs-icon").html(t.ci.gif)})),t.Rl.bpMessagesWrap.on("click",".bpbm-preview-message-cancel",(function(e){e.preventDefault(),e.stopPropagation();var t=i(this).closest(".bpbm-preview-message");t.slideUp(100,(function(){t.remove(),(0,r.zo)()}))}));var w,x,k,$=!1,C="";t.Rl.bpMessagesWrap.on("submit",".reply > form",(function(a){if(a.preventDefault(),a.stopImmediatePropagation(),t.Eq.focus(),!0!==$){var o=i(this);if(o.serialize()===C)return!1;var c=i(this).find('textarea[name="message"]');c.trigger("change");var d=h(c),f=i(this).serialize();i(this).find("textarea, .bp-emojionearea-editor").html("").val(""),i(this).find(".bm-mobile-area").html("").addClass("bpbm-medium-editor-placeholder"),c.trigger("change");var m=o.find('input[name="thread_id"]').val(),g=!1,v=!1,b=i(this).parent().parent(),_=b.find(".thread.bm-infodiv"),y=b.find(".bpbm-preview-message.bpbm-reply-message");y.length>0&&(v=!0,f+="&reply=1&message_id="+parseInt(y.attr("data-message-id")));var x=b.find(".bpbm-preview-message.bpbm-edit-message");x.length>0&&(g=!0,f+="&edit=1&message_id="+parseInt(x.attr("data-message-id"))),i(this).closest(".bp-better-messages-mini").length>0&&(m=i(this).closest(".chat").attr("data-thread"));var k="1"===t.x6.realtime;if(!1!==t.Rl.badWords&&t.Rl.badWords.some((function(e){return d.indexOf(e)>=0}))&&(k=!1),d=JSON.stringify({message:d,me:t.x6.me}),"1"===t.x6.encryption){var T=_.data("secret");d=u.encrypt(d,T)}m&&k&&!g&&!v?n.Wb.emit("fast_message",m,d,"",(function(n){C=f,window.clearInterval(w),w=window.setInterval((function(){C=""}),3e3),document.dispatchEvent(new CustomEvent("bp-better-messages-message-sent")),void 0!==s.jX.sent&&s.jX.sent.play(),(0,e.xq)('.bp-messages-wrap[data-thread-id="'+m+'"]'),(0,e.xq)('.bp-better-messages-mini .chats .chat[data-thread="'+m+'"]'),f+="&tempID="+n,i.post(t.x6.ajaxUrl,f,(function(t){void 0!==t.result&&(i.each(t.errors,(function(){p(this)})),void 0!==t.redirect&&"refresh"===t.redirect&&(o.closest(".bp-messages-wrap").hasClass("bp-better-messages-mini")?(i('.bp-better-messages-mini .chats .chat[data-thread="'+m+'"]').remove(),(0,r.TK)(m,!0)):(0,e.fy)(location.href,o.closest(".bp-messages-wrap"))))})).always((function(){$=!1}))})):i.post(t.x6.ajaxUrl,f,(function(n){void 0!==n.result&&(!1!==n.result?((0,l.z9)(),document.dispatchEvent(new CustomEvent("bp-better-messages-message-sent")),g||(void 0!==s.jX.sent&&s.jX.sent.play(),(0,e.xq)('.bp-messages-wrap[data-thread-id="'+m+'"]'),(0,e.xq)('.bp-better-messages-mini .chats .chat[data-thread="'+m+'"]')),C=f,clearInterval(w),w=window.setInterval((function(){C=""}),3e3),v&&y.find(".bpbm-preview-message-cancel").click(),g&&(x.find(".bpbm-preview-message-cancel").click(),"1"!=t.x6.realtime&&(0,e.fy)(location.href,o.closest(".bp-messages-wrap")))):(i.each(n.errors,(function(){p(this)})),void 0!==n.redirect&&"refresh"===n.redirect&&(0,e.fy)(location.href,o.closest(".bp-messages-wrap"))))})).always((function(){$=!1})),document.dispatchEvent(new CustomEvent("bp-better-messages-message-sent-end"))}})),t.Rl.bpMessagesWrap.on("click ",".bpbm-stickers-selector .bpbm-stickers-selector-sticker",(function(n){n.preventDefault(),n.stopPropagation();var r=i(this),a=r.closest(".bpbm-stickers-selector"),o=a.parent().find(".reply form"),s=r.data("sticker-id"),l=r.find("img").attr("src"),c=o.find('input[name="thread_id"]').val(),u=o.find('input[name="_wpnonce"]').val();a.hide(),(0,e.Q2)(),i.post(t.x6.ajaxUrl,{action:"bpbm_messages_send_sticker",thread_id:c,sticker_id:s,sticker_img:l,_wpnonce:u})})),t.Rl.bpMessagesWrap.on("click ",".bpbm-gifs-selector .bpbm-gifs-selector-gif",(function(n){n.preventDefault(),n.stopPropagation();var r=i(this),a=r.closest(".bpbm-gifs-selector"),o=a.parent().find(".reply form"),s=r.data("gif-id"),l=o.find('input[name="thread_id"]').val(),c=o.find('input[name="_wpnonce"]').val();a.hide(),(0,e.Q2)(),i.post(t.x6.ajaxUrl,{action:"bpbm_messages_send_gif",thread_id:l,gif_id:s,_wpnonce:c})})),t.Rl.bpMessagesWrap.on("click touchstartPassive",".reply .bpbm-stickers-btn",(function(e){var t=i(this).closest(".reply"),n=t.parent(),r=t.find("form").find("textarea"),a=n.find(".bpbm-stickers-selector");r.blur(),a.is(":visible")||a.show()})),t.Rl.bpMessagesWrap.on("click touchstartPassive",".reply .bpbm-gifs-btn",(function(e){var t=i(this).closest(".reply"),n=t.parent(),r=t.find("form").find("textarea"),a=n.find(".bpbm-gifs-selector");r.blur(),a.is(":visible")||(a.show(),a.find('.bpbm-gifs-tabs span[data-package-id="trending"]').click())})),t.Rl.bpMessagesWrap.on("click",".bpbm-gifs-selector .bpbm-gifs-close",(function(e){e.preventDefault(),e.stopPropagation();var t=i(this).closest(".bpbm-gifs-selector");t.hide(),t.find(".bpbm-gifs-tabs .bpbm-gifs-tabs-active").removeClass("bpbm-gifs-tabs-active"),t.find(".bpbm-gifs-selector-gif-list").html("")})),t.Rl.bpMessagesWrap.on("click",".bpbm-gifs-selector .bpbm-gifs-head .bpbm-gifs-tabs span",(function(e){e.preventDefault(),e.stopPropagation();var n="bpbm-gifs-tabs-active",r=i(this),a=r.closest(".bpbm-gifs-selector"),o=a.find(".bpbm-gifs-selector-gif-container");if(!r.hasClass(n)){a.find(".bpbm-gifs-tabs span").removeClass(n),r.addClass(n),o.html(t.Rl.loadingHtml);var s=r.data("package-id");i.post(t.x6.ajaxUrl,{action:"bpbm_messages_get_gif_tab",package:s},(function(e){if(o.html(e),"trending"===s){var n="bpbm-loading-gifs";o.on("scroll",(function(e){e.stopImmediatePropagation();var r=i(e.currentTarget),a=r.outerHeight()+150;if(r[0].scrollHeight-r.scrollTop()<=a){var l=o.find(".bpbm-gifs-selector-gif-list");if(!l.hasClass(n)){var c=l.data("pages"),u=l.data("pages-loaded")+1;u<c&&(l.addClass(n),x=i.post(t.x6.ajaxUrl,{action:"bpbm_messages_get_gif_tab",package:s,page:u},(function(e){l.data("pages-loaded",u),i(e).appendTo(l),l.removeClass(n)})))}}}))}}))}})),t.Rl.bpMessagesWrap.on("click",".bpbm-stickers-selector .bpbm-stickers-close",(function(e){e.preventDefault(),e.stopPropagation();var t=i(this).closest(".bpbm-stickers-selector");t.parent(),t.hide()})),t.Rl.bpMessagesWrap.on("click",".bpbm-stickers-selector .bpbm-stickers-head .bpbm-stickers-tabs span",(function(e){e.preventDefault(),e.stopPropagation();var n=i(this),r=n.closest(".bpbm-stickers-selector"),a=r.find(".bpbm-stickers-selector-sticker-container");r.find(".bpbm-stickers-tabs span").removeClass("bpbm-stickers-tabs-active"),n.addClass("bpbm-stickers-tabs-active"),a.html(t.Rl.loadingHtml);var o=n.data("package-id");i.post(t.x6.ajaxUrl,{action:"bpbm_messages_get_sticker_tab",package:o},(function(e){a.html(e)}))})),t.Rl.bpMessagesWrap.on("keyup change",'.bpbm-gifs-tabs input[name="search"]',(function(e){e.preventDefault(),e.stopPropagation();var n=i(this),r=n.closest(".bpbm-gifs-selector"),a=r.find(".bpbm-gifs-selector-gif-container"),o=r.find(".bpbm-gifs-selector-gif-list"),s=n.data("search-term"),l=n.val();if(s!==l){n.data("search-term",l),x&&x.abort();var c="bpbm-loading-gifs";o.addClass(c),x=i.post(t.x6.ajaxUrl,{action:"bpbm_messages_search_gifs",search:l},(function(e){o.replaceWith(e),a.on("scroll",(function(e){e.stopImmediatePropagation();var n=i(e.currentTarget),a=n.outerHeight()+150;if(n[0].scrollHeight-n.scrollTop()<=a&&!(o=r.find(".bpbm-gifs-selector-gif-list")).hasClass(c)){var s=o.data("pages"),u=o.data("pages-loaded")+1;u<s&&(o.addClass(c),x=i.post(t.x6.ajaxUrl,{action:"bpbm_messages_search_gifs",search:l,page:u},(function(e){o.data("pages-loaded",u),i(e).appendTo(o),o.removeClass(c)})))}}))}))}})),t.Rl.bpMessagesWrap.on("keyup change",".bpbm-stickers-selector .bpbm-stickers-search input",(function(e){e.preventDefault(),e.stopPropagation();var n=i(this),r=n.closest(".bpbm-stickers-search"),a=n.closest(".bpbm-stickers-selector"),o=a.find(".bpbm-stickers-selector-sticker-list"),s=r.data("search-term"),l=n.val();s!==l&&(r.data("search-term",l),k&&k.abort(),k=i.post(t.x6.ajaxUrl,{action:"bpbm_messages_search_stickers",search:l},(function(e){o.replaceWith(e),(o=a.find(".bpbm-stickers-selector-sticker-list")).BPBMoverlayScrollbars({sizeAutoCapable:!1,callbacks:{onScroll:function(e){var n=this.scroll(),r=n.position.y;if(n.max.y-r<=10){var a=this.getElements(),o=i(a.host),s="bpbm-loading-stickers";if(!o.hasClass(s)){var c=o.data("pages"),u=o.data("pages-loaded")+1;u<=c&&(o.addClass(s),i.post(t.x6.ajaxUrl,{action:"bpbm_messages_search_stickers",search:l,page:u},(function(e){o.data("pages-loaded",u),i(e).appendTo(i(a.content)),o.removeClass(s)})))}}}}})})))})),t.Rl.bpMessagesWrap.on("submit",".new-message form",(function(n){n.preventDefault(),n.stopPropagation();var a=i(n.target).closest(".bp-messages-wrap"),o=a.hasClass("bp-better-messages-mini");o?(0,e.q7)(i(n.target).closest(".chat")):(0,e.q7)(a);var s=i(this).find('textarea[name="message"]');s.trigger("change"),h(s);var l=i(this),c=l.serialize();document.dispatchEvent(new CustomEvent("bp-better-messages-new-thread-start")),i.post(t.x6.ajaxUrl,c,(function(n){n.result?(document.dispatchEvent(new CustomEvent("bp-better-messages-new-thread-created")),o&&"1"===t.x6.miniChats?(l.closest(".chat").remove(),(0,r.TK)(n.result,!0)):(0,e.fy)(t.x6.threadUrl+n.result,a)):(document.dispatchEvent(new CustomEvent("bp-better-messages-new-thread-error")),l.closest(".bp-messages-wrap").find(".preloader").hide(),i.each(n.errors,(function(){p(this)}))),document.dispatchEvent(new CustomEvent("bp-better-messages-new-thread-end"))})).fail((function(){l.closest(".bp-messages-wrap").find(".preloader").hide(),o&&"1"===t.x6.miniChats&&l.closest(".chat").find(".preloader").hide(),document.dispatchEvent(new CustomEvent("bp-better-messages-new-thread-end"))}))})),t.Rl.bpMessagesWrap.on("click","a.ajax",(function(t){t.preventDefault(),t.stopPropagation();var n=i(this).attr("href"),r=i(this).closest(".bp-messages-wrap");(0,e.fy)(n,r)})),t.Rl.bpMessagesWrap.on("click",".bpbm-search a.search",(function(e){e.preventDefault(),e.stopPropagation(),i(this).hide(),i(".bpbm-search form").show(),i(".bpbm-search form input").trigger("focus"),t.tq&&i(".bp-messages-wrap .chat-header .settings").hide()})),t.Rl.bpMessagesWrap.on("click",".bpbm-search form span.close",(function(e){e.preventDefault(),e.stopPropagation();var t=i(this).closest(".bpbm-search"),n=t.find("form input");t.closest(".bp-messages-side-threads").length>0?(n.val(""),n.trigger("change"),t.find("form .close").hide()):(t.find("form").hide(),t.find("a.search").show(),n.val(""))})),t.Rl.bpMessagesWrap.on("submit",".bpbm-search form",(function(n){n.preventDefault();var r=i(this).closest(".bp-messages-wrap");(0,e.fy)(t.x6.url+d+i(this).serialize(),r)})),!1===("1"===t.x6.disableEnterForTouch&&t.tq||"1"===t.x6.disableEnterForDesktop&&!t.tq)&&(t.Rl.bpMessagesWrap.on("keydown",".reply .bp-emojionearea-editor",(function(e){e.shiftKey||13!=e.keyCode||(e.preventDefault(),e.stopImmediatePropagation(),i(this).trigger("blur"),i(this).parent().parent().trigger("submit"),i(this).trigger("focus"))})),t.Rl.bpMessagesWrap.on("keyup",".reply .bp-emojionearea-editor",(function(e){e.shiftKey||13!=e.keyCode||(e.preventDefault(),e.stopImmediatePropagation())}))),t.Rl.bpMessagesWrap.on("change",".new-message .send-to-input",(function(t){t.preventDefault(),t.stopPropagation();var n=i(this).attr("href"),r=i(this).closest(".bp-messages-wrap");(0,e.fy)(n,r)})),t.tq?t.Rl.bpMessagesWrap.on("touchend",".scroller.starred .messages-list li, .scroller.search .messages-list li",(function(n){if(1!=t.Rl.touchmoved&&!1===t.Rl.blockOpen){n.preventDefault(),n.stopPropagation();var r=i(this).attr("data-thread"),a=i(this).attr("data-id");(0,e.fy)(t.x6.threadUrl+r+"&message_id="+a,i(this).closest(".bp-messages-wrap"))}})).on("touchmove",(function(){t.Rl.touchmoved=!0})).on("touchstart",(function(){t.Rl.touchmoved=!1})):t.Rl.bpMessagesWrap.on("click",".scroller.starred .messages-list li, .scroller.search .messages-list li",(function(n){n.preventDefault(),n.stopPropagation();var r=i(this).attr("data-thread"),a=i(this).attr("data-id");(0,e.fy)(t.x6.threadUrl+r+"&message_id="+a,i(this).closest(".bp-messages-wrap"))})),t.Rl.bpMessagesWrap.on("click",".participants-panel .bp-messages-user-list .user .actions a.remove-from-thread",(function(n){n.preventDefault();var r=i(this).closest(".bp-messages-wrap"),a=i(this).parent().parent(),o=a.data("id"),s=a.data("thread-id"),l=a.find(".name").text(),c=t.x6.strings.exclude;r.hasClass("bp-messages-wrap-chat")&&(c=t.x6.strings.exclude_chat),c=c.replace("%s",l),confirm(c)&&i.post(t.x6.ajaxUrl,{action:"bp_better_messages_exclude_user_from_thread",user_id:o,thread_id:s,nonce:t.x6.userNonce},(function(n){if(!0===n.result){var a=t.x6.url+d+i.param({thread_id:s,participants:"1"});(0,e.fy)(a,r)}}))})),t.Rl.bpMessagesWrap.on("click",".bpbm-mute-thread",(function(n){n.preventDefault();var a,o=i(this).closest(".bp-messages-wrap"),s=i(this).closest(".bp-better-messages-mini").length>0,l=location.href;if(s?a=i(this).closest(".chat").attr("data-thread"):(a=o.attr("data-thread-id"),o.is("#bp-better-messages-mini-mobile-container")&&(a=o.attr("data-thread"),l=t.x6.baseUrl+"?thread_id="+a)),void 0===a)return!1;-1===l.indexOf("?thread_id=")&&(l=t.x6.baseUrl+"?thread_id="+a),confirm(t.x6.strings.mute_thread)&&(s?(0,e.q7)(i(this).closest(".chat")):(0,e.q7)(o),i.post(t.x6.ajaxUrl,{action:"bp_messages_mute_thread",thread_id:a,nonce:t.x6.userNonce},(function(n){s?(0,r.TK)(a,!0,!0):(0,e.fy)(l,o),i(t.St+'[data-id="'+a+'"] .bpbm-counter-row').prepend('<span class="bpbm-thread-muted"><i class="fas fa-bell-slash"></i></span>'),t.x6.mutedThreads[a]=Date.now()})).always((function(){})))})),t.Rl.bpMessagesWrap.on("click",".bpbm-block-user",(function(n){n.preventDefault();var a,o=i(this).closest(".bp-messages-wrap"),s=i(this).closest(".bp-better-messages-mini").length>0,l=location.href,c=parseInt(i(this).attr("data-user-id"));if(s?a=i(this).closest(".chat").attr("data-thread"):(a=o.attr("data-thread-id"),o.is("#bp-better-messages-mini-mobile-container")&&(a=o.attr("data-thread"),l=t.x6.baseUrl+"?thread_id="+a)),void 0===a)return!1;-1===l.indexOf("?thread_id=")&&(l=t.x6.baseUrl+"?thread_id="+a),confirm(t.x6.strings.user_block)&&(s?(0,e.q7)(i(this).closest(".chat")):(0,e.q7)(o),i.post(t.x6.ajaxUrl,{action:"bp_messages_block_user",user_id:c,nonce:t.x6.userNonce},(function(){s?(0,r.TK)(a,!0,!0):(0,e.fy)(l,o)})).always((function(){})))})),t.Rl.bpMessagesWrap.on("click",".bpbm-unblock-user",(function(n){n.preventDefault();var a,o=i(this).closest(".bp-messages-wrap"),s=i(this).closest(".bp-better-messages-mini").length>0,l=location.href,c=parseInt(i(this).attr("data-user-id"));if(s?a=i(this).closest(".chat").attr("data-thread"):(a=o.attr("data-thread-id"),o.is("#bp-better-messages-mini-mobile-container")&&(a=o.attr("data-thread"),l=t.x6.baseUrl+"?thread_id="+a)),void 0===a)return!1;-1===l.indexOf("?thread_id=")&&(l=t.x6.baseUrl+"?thread_id="+a),confirm(t.x6.strings.user_unblock)&&(s?(0,e.q7)(i(this).closest(".chat")):(0,e.q7)(o),i.post(t.x6.ajaxUrl,{action:"bp_messages_unblock_user",user_id:c,nonce:t.x6.userNonce},(function(){s?(0,r.TK)(a,!0,!0):(0,e.fy)(l,o)})).always((function(){})))})),t.Rl.bpMessagesWrap.on("click",".bpbm-leave-thread",(function(r){r.preventDefault();var a,o=i(this).closest(".bp-messages-wrap"),s=i(this).closest(".bp-better-messages-mini").length>0;if(location.href,s?a=i(this).closest(".chat").attr("data-thread"):(a=o.attr("data-thread-id"),o.is("#bp-better-messages-mini-mobile-container")&&(a=o.attr("data-thread"),t.x6.baseUrl)),void 0===a)return!1;confirm(t.x6.strings.leave_thread)&&(s?(0,e.q7)(i(this).closest(".chat")):(0,e.q7)(o),i.post(t.x6.ajaxUrl,{action:"bp_messages_leave_thread",thread_id:a,nonce:t.x6.userNonce},(function(r){r?(void 0!==n.Wb&&(0,e.HL)(a),i(t.St+'[data-id="'+a+'"]').remove(),s?i('.bp-better-messages-mini .chats .chat[data-thread="'+a+'"] > .head .close').click():(0,e.fy)(t.x6.baseUrl,o)):o.find(".preloader").hide()})))})),t.Rl.bpMessagesWrap.on("click",".bpbm-delete-thread",(function(n){n.preventDefault();var r,a=i(this).closest(".bp-messages-wrap"),o=i(this).closest(".bp-better-messages-mini").length>0,s=location.href;if(o?r=i(this).closest(".chat").attr("data-thread"):(r=a.attr("data-thread-id"),a.is("#bp-better-messages-mini-mobile-container")&&(r=a.attr("data-thread"),s=t.x6.baseUrl)),void 0===r)return!1;-1!==s.indexOf("?thread_id=")&&(s=t.x6.baseUrl),confirm(t.x6.strings.delete_thread)&&(o?(0,e.q7)(i(this).closest(".chat")):(0,e.q7)(a),i.post(t.x6.ajaxUrl,{action:"bp_messages_erase_thread",thread_id:r,_wpnonce:t.x6.userNonce},(function(){i('.bp-messages-wrap .threads-list .thread[data-id="'+r+'"]').remove(),i('.bp-better-messages-mini .chats .chat[data-thread="'+r+'"] .head span.close').click(),o||(0,e.fy)(s,a)})).always((function(){})))})),t.Rl.bpMessagesWrap.on("click",".bpbm-clear-thread",(function(n){n.preventDefault();var a,o=i(this).closest(".bp-messages-wrap"),s=o.hasClass("bp-messages-wrap-chat"),l=o.hasClass("bp-messages-group-thread"),c=i(this).closest(".bp-better-messages-mini").length>0,u=location.href;if(c?a=i(this).closest(".chat").attr("data-thread"):(a=o.attr("data-thread-id"),o.is("#bp-better-messages-mini-mobile-container")&&(a=o.attr("data-thread"),u=t.x6.baseUrl)),void 0===a)return!1;-1===u.indexOf("?thread_id=")&&(u=t.x6.baseUrl),(s||l)&&(u=t.x6.baseUrl+"?thread_id="+a),confirm(t.x6.strings.clear_chat_thread)&&(c?(0,e.q7)(i(this).closest(".chat")):(0,e.q7)(o),i.post(t.x6.ajaxUrl,{action:"bp_messages_clear_thread",thread_id:a,_wpnonce:t.x6.userNonce},(function(){c?(0,r.TK)(a,!0,!0):(0,e.fy)(u,o)})).always((function(){})))})),t.Rl.bpMessagesWrap.on("click",".chat-header .bpbm-invite-thread",(function(e){e.preventDefault();var t=i(this).closest(".bp-messages-wrap"),n=t.find(".add-user-panel"),r=t.find(".scroller.thread"),a=t.find(".reply"),o=t.find(".participants-panel");n.hasClass("open")||(n.addClass("open"),o.removeClass("open"),r.hide(),a.hide())})),t.Rl.bpMessagesWrap.on("click",".chat-header .participants",(function(e){e.preventDefault();var n=i(this).closest(".bp-messages-wrap"),r=n.find(".participants-panel"),a=n.find(".scroller.thread"),o=n.find(".add-user-panel"),s=n.find(".reply"),l=parseInt(n.attr("data-thread-id")),c=r.find(".bp-messages-user-list");isNaN(l)&&(l=parseInt(n.attr("data-thread"))),r.hasClass("participants-loaded")||(r.addClass("participants-loaded"),i.post(t.x6.ajaxUrl,{action:"bp_messages_load_thread_participants",thread_id:l},(function(e){c.html(e.html),e.loadMore&&i(e.loadMore).insertAfter(c)})).always((function(){}))),r.hasClass("open")?(r.removeClass("open"),a.show(),s.show()):(r.addClass("open"),o.removeClass("open"),a.hide(),s.hide(),r.BPBMoverlayScrollbars({sizeAutoCapable:!1,overflowBehavior:{x:"hidden"}}))})),t.Rl.bpMessagesWrap.on("click",".bpbm-unmute-thread",(function(n){n.preventDefault();var a,o=i(this).closest(".bp-messages-wrap"),s=i(this).closest(".bp-better-messages-mini").length>0,l=location.href;s?a=i(this).closest(".chat").attr("data-thread"):(a=o.attr("data-thread-id"),o.is("#bp-better-messages-mini-mobile-container")&&(a=o.attr("data-thread"),l=t.x6.baseUrl+"?thread_id="+a)),confirm(t.x6.strings.unmute_thread)&&(s?(0,e.q7)(i(this).closest(".chat")):(0,e.q7)(o),i.post(t.x6.ajaxUrl,{action:"bp_messages_unmute_thread",thread_id:a,nonce:t.x6.userNonce},(function(){void 0!==t.x6.mutedThreads[a]&&delete t.x6.mutedThreads[a],i(t.St+'[data-id="'+a+'"] .bpbm-counter-row .bpbm-thread-muted').remove(),s?(0,r.TK)(a,!0,!0):(0,e.fy)(l,o)})).always((function(){})))})),t.Rl.bpMessagesWrap.on("click",'.add-user button[type="submit"]',(function(n){n.preventDefault();var r=i(this).closest(".bp-messages-wrap"),a=i(this).closest(".add-user"),o=a.data("thread-id"),s=[];a.find('input[name="recipients[]"]').each((function(){s.push(i(this).val())})),(0,e.q7)(r),i.post(t.x6.ajaxUrl,{action:"bp_better_messages_add_user_to_thread",users:s,thread_id:o,nonce:t.x6.userNonce},(function(){var n=t.x6.url+d+i.param({thread_id:o,participants:"1"});(0,e.fy)(n,r)}))})),t.Rl.bpMessagesWrap.on("click",".add-user button.bpbm-close",(function(e){e.preventDefault();var t=i(this).closest(".bp-messages-wrap"),n=t.find(".add-user-panel"),r=t.find(".scroller.thread"),a=t.find(".reply");n.hasClass("open")&&(n.removeClass("open"),r.show(),a.show())})),t.Rl.bpMessagesWrap.on("click",".bpbm-join-to-chat-button",(function(n){n.preventDefault();var r=i(this).closest(".bp-messages-wrap"),a=r.data("chat-id"),o=r.data("thread-id");(0,e.q7)(r),i.post(t.x6.ajaxUrl,{action:"bp_better_messages_join_chat",chat_id:a,nonce:t.x6.userNonce},(function(){var n=t.x6.url+d+i.param({thread_id:o});(0,e.fy)(n,r)}))})),t.Rl.bpMessagesWrap.on("click",".bpbm-leave-chat-room",(function(n){n.preventDefault();var r=i(this).closest(".bp-messages-wrap"),a=r.data("chat-id"),o=r.data("thread-id");(0,e.q7)(r),i.post(t.x6.ajaxUrl,{action:"bp_better_messages_leave_chat",chat_id:a,nonce:t.x6.userNonce},(function(){var n=t.x6.url+d+i.param({thread_id:o});(0,e.fy)(n,r)}))})),t.Rl.bpMessagesWrap.on("click",".participants-panel .bm-load-more-participants",(function(e){e.preventDefault();var n=i(this),r=n.closest(".bp-messages-wrap"),a=n.data("page"),o=n.data("thread-id"),s=n.closest(".bm-load-more-participants-div");n.replaceWith('<i class="fas fa-spinner fa-spin"></i>');var l=r.find(".bp-messages-user-list");i.post(t.x6.ajaxUrl,{action:"bp_messages_load_thread_participants",thread_id:o,page:a},(function(e){l.append(e.html),e.loadMore?s.replaceWith(e.loadMore):s.remove()})).always((function(){}))})),i(document).on("click",".bm-threads-list .threads-list .thread:not(.blocked)",(function(n){n.preventDefault();var o=i(this),s=o.data("id");if("1"==t.x6.miniChats){var l=o.parent().parent(),c=i(o).height(),u=o.position().top;u+=l.scrollTop(),o.addClass("blocked loading"),i(o).find(".loading").css({height:c,"line-height":c+"px",top:u+"px"}),(0,r.TK)(s,!0).always((function(){(0,a.hM)(),o.removeClass("blocked loading")}))}else{var d=t.x6.threadUrl+s+"&scrollToContainer";if(t.tq){var p=i("#bp-better-messages-mini-mobile-open");if(p.length>0){var f=t.x6.baseUrl;t.x6.baseUrl=t.x6.threadUrl+s,p.click(),t.x6.baseUrl=f}else location.href=d}else{var h=i(".bp-messages-wrap.bp-messages-wrap-main");h.length>0?(0,e.fy)(d,h):location.href=d}}})),i(document).on("click",".bp-messages-wrap .chat-tabs > div",(function(n){n.preventDefault();var r=i(this),a=r.closest(".chat-tabs"),o=a.parent(),s=r.data("tab");i(this).hasClass("active")||(a.find("> div").removeClass("active"),r.addClass("active"),a.find("> div").each((function(){var e=i(this).data("tab");o.find("."+e).hide()})),function(n){n.hasClass("bpbm-friends-list")&&(n.hasClass("bpbm-loaded")||(n.addClass("bpbm-loaded"),i.post(t.x6.ajaxUrl,{action:"bp_messages_load_friends_list",nonce:t.x6.userNonce},(function(t){n.html(t),(0,e.a_)(),(0,e.D8)()})))),n.hasClass("bpbm-groups-list")&&(n.hasClass("bpbm-loaded")||(n.addClass("bpbm-loaded"),i.post(t.x6.ajaxUrl,{action:"bp_messages_load_groups_list",nonce:t.x6.userNonce},(function(e){n.html(e)})))),n.hasClass("bpbm-ps-groups-list")&&(n.hasClass("bpbm-loaded")||(n.addClass("bpbm-loaded"),i.post(t.x6.ajaxUrl,{action:"bp_messages_load_ps_groups_list",nonce:t.x6.userNonce},(function(e){n.html(e)})))),n.hasClass("bpbm-bmum-groups-list")&&(n.hasClass("bpbm-loaded")||(n.addClass("bpbm-loaded"),i.post(t.x6.ajaxUrl,{action:"bp_messages_load_um_groups_list",nonce:t.x6.userNonce},(function(e){n.html(e)})))),n.hasClass("bpbm-um-friends-list")&&(n.hasClass("bpbm-loaded")||(n.addClass("bpbm-loaded"),i.post(t.x6.ajaxUrl,{action:"bp_messages_load_um_friends_list",nonce:t.x6.userNonce},(function(t){n.html(t),(0,e.a_)(),(0,e.D8)()})))),n.hasClass("bpbm-ps-friends-list")&&(n.hasClass("bpbm-loaded")||(n.addClass("bpbm-loaded"),i.post(t.x6.ajaxUrl,{action:"bp_messages_load_ps_friends_list",nonce:t.x6.userNonce},(function(t){n.html(t),(0,e.a_)(),(0,e.D8)()})))),n.show()}(o.find("."+s)))})),i(document).on("click",".bp-better-messages-list .tabs > div",(function(n){n.preventDefault();var r=i(this).data("tab");"bpbm-close"===r?(i(".bp-better-messages-list .tabs > div, .bp-better-messages-list .tabs-content > div").removeClass("active"),i('.bp-better-messages-list .tabs > div[data-tab="bpbm-close"]').hide(),t.Rl.miniMessages=!1):i(this).hasClass("active")?(i(this).removeClass("active"),i(".bp-better-messages-list .tabs-content ."+r).removeClass("active"),i('.bp-better-messages-list .tabs > div[data-tab="bpbm-close"]').hide(),t.Rl.miniMessages=!1):(i(".bp-better-messages-list .tabs > div, .bp-better-messages-list .tabs-content > div").removeClass("active"),i(this).addClass("active"),i(".bp-better-messages-list .tabs-content ."+r).addClass("active"),t.Rl.miniMessages=r,i('.bp-better-messages-list .tabs > div[data-tab="bpbm-close"]').show()),(0,c.e)(t.Rl.miniMessages),(0,e.Wj)("bp-better-messages-mini-messages",t.Rl.miniMessages)})),i(document).on("click",".bpbm-deleted-user-link",(function(e){e.preventDefault()})),i(document).on("click",".bp-better-messages-list .new-message",(function(n){var r=i(".bp-messages-wrap.bp-messages-wrap-main"),o=i(".bp-messages-wrap.bp-better-messages-mini");if(r.length>0)n.preventDefault(),(0,e.fy)(i(this).attr("href"),r);else if(o.length>0){n.preventDefault();var s=t.x6.ajaxUrl+"?action=bp_messages_load_via_ajax&new-message&mini=1";i.get(s,(function(n){void 0!==n.total_unread&&(0,e.PE)(n.total_unread),void 0!==n.errors&&i.each(n.errors,(function(){p(this)}));var r=n.html,o=i(r);o.find(".chat-header").remove();var s=o.find("#bm-new-thread-title"),l=s.text();s.remove();var c="chat open";"1"===t.x6.disableEnterForDesktop&&(c+=" enter-disabled");var u='<div class="'+c+'" data-thread="0" style="">';u+='<div class="head"><span class="unread-count count-0"></span><span class="title"><strong>'+l+"</strong></span>",u+='<div class="controls">\n<span class="open" title="'+t.x6.strings.maximize+'"><i class="fas fa-window-maximize" aria-hidden="true"></i></span>\n<span class="close" title="'+t.x6.strings.close+'"><i class="fas fa-times" aria-hidden="true"></i></span>\n</div></div>',u+=o.html(),u+="</div>";var d=i('.bp-better-messages-mini .chats .chat[data-thread="0"]');d.length>0?d.replaceWith(u):i(u).appendTo(".bp-messages-wrap.bp-better-messages-mini .chats"),(0,a.hM)()}),"json")}})),i(document).on("click",".bp-messages-group-list .group:not(.blocked)",(function(n){if(i(n.target).is("div")){n.preventDefault();var a=i(this);if(a.hasClass("bpbm-messages-disabled"))location.href=a.find(".open-group").attr("href");else{var o=a.closest(".bp-messages-column").length>0||a.closest(".bp-messages-side-threads").length>0,s=(a.data("group-id"),a.data("thread-id")),l=a.find(".actions .open-group").attr("href");"1"===t.x6.enableGroups&&(l+=t.x6.groupsSlug+"/?scrollToContainer");var c=a.attr("data-url");void 0!==c&&(l=c);var u=a.parent().parent(),d=a.height(),p=a.position().top;if(p+=u.scrollTop(),a.find(".loading").css({height:d,"line-height":d+"px",top:p+"px"}),o){var f=a.closest(".bp-messages-wrap");f.length>0&&(0,e.fy)(t.x6.threadUrl+s,f)}else"1"===t.x6.enableGroups&&"1"==t.x6.miniChats&&s?(a.addClass("blocked loading"),(0,r.TK)(s,!0).always((function(){a.removeClass("blocked loading")}))):(a.addClass("blocked loading"),location.href=l)}}})),i(document).on("click",".bp-messages-user-list .user:not(.blocked)",(function(n){if(i(n.target).is("div")){n.preventDefault();var r=i(this),a=i(this).data("id"),o=i(this).data("username");if(r.closest(".bp-messages-column").length>0||r.closest(".bp-messages-side-threads").length>0){var s=t.x6.url+d+"new-message&to="+o;"1"===t.x6.fastStart&&(s+="&fast=1"),(p=r.closest(".bp-messages-wrap")).length>0&&(0,e.fy)(s,p)}else if("1"===t.x6.miniChats&&"1"===t.x6.fastStart){var l=r.parent().parent(),c=i(r).height(),u=r.position().top;u+=l.scrollTop(),i(r).find(".loading").css({height:c,"line-height":c+"px",top:u+"px"}),r.addClass("blocked loading"),v(a).always((function(){r.removeClass("blocked loading")}))}else{var p;s=t.x6.url+d+"new-message&to="+o,"1"===t.x6.fastStart&&(s+="&fast=1&scrollToContainer"),(p=i(".bp-messages-wrap.bp-messages-wrap-main")).length>0?(0,e.fy)(s,p):location.href=s}}})),i(document).on("click",".bp-messages-wrap .bpbm-user-me",(function(e){e.preventDefault(),i(this).toggleClass("bpbm-open")})),i(document).on("click",".bp-messages-wrap .bpbm-user-me .bpbm-user-me-popup .bpbm-user-me-popup-list-item",(function(e){e.stopImmediatePropagation(),i(this).is("a")||e.preventDefault()}))}()})),i(document).on("click",".bp-messages-wrap .chat-header .bpbm-maximize",(function(n){n.preventDefault();var r=i(this).closest(".bp-messages-wrap");0===i("."+m).length&&i('<div class="'+m+'"></div>').insertBefore(r);var a=r;a.addClass("bp-messages-full-screen");var o=window.innerHeight;i("html").addClass("bp-messages-full-screen").css("overflow","hidden"),i("body").addClass("bp-messages-full-screen").css("min-height",o),i(".bp-better-messages-mini .chats .chat.open").removeClass("open");var s=a.appendTo(i("body"));s.find(".user-scrolled").removeClass("user-scrolled"),s.show(),(0,e.CL)(s),i(window).trigger("resize"),t.Rl.blockScroll=!0})),i(document).on("click",".bp-messages-wrap .chat-header .bpbm-minimize",(function(n){n.preventDefault();var r=i(this).closest(".bp-messages-wrap");if(r.hasClass("bp-messages-full-screen")){n.preventDefault(),n.stopImmediatePropagation(),i("html").removeClass("bp-messages-full-screen").css("overflow","auto"),r.removeClass("bp-messages-full-screen").css("min-height",""),i("body").removeClass("bp-messages-full-screen").css("min-height",""),t.Rl.blockScroll=!1;var a=r;a.removeClass("bp-messages-full-screen"),a.removeAttr("id");var o=i("."+m);a.insertBefore(o),a.find(".user-scrolled").removeClass("user-scrolled"),o.remove(),i(window).trigger("resize"),(0,e.CL)(a)}t.Rl.blockScroll=!1})),i(document).on("bp-better-messages-update-unread",(function(t){var n=i(".bp-better-messages-unread"),r=parseInt(t.originalEvent.detail.unread);if((isNaN(r)||r<0)&&(r=0),(0,e.Wj)("bp-better-messages-last-unread",r),n.each((function(){var e=i(this),t=e.hasClass("bpbmuc");e.text(r),t?e.attr("data-count",r):0===r?e.addClass("no-count"):e.removeClass("no-count")})),i("body").hasClass("my-account")){var a=i("#user-bp_better_messages_tab");if(a.length>0){var o=a.find("span.count");r>0?o.length>0?o.text(r):i('<span class="count">'+r+"</span>").appendTo(a):o.remove()}}})),jQuery(document).on("bp-better-messages-reinit",(function(e){(0,a.hM)()})),jQuery(document).on("bp-better-messages-ajax-refresh",(function(t){var n=t.originalEvent.detail.url,i=t.originalEvent.detail.container;(0,e.fy)(n,i)})),i(document).on("submit",".side-header > .bpbm-search form",(function(e){e.preventDefault(),e.stopImmediatePropagation()}));var g=!1;function v(e){var n=new i.Deferred;return i.post(t.x6.ajaxUrl,{action:"bp_messages_get_pm_thread",user_id:e},(function(e){if("1"!==t.x6.miniChats||t.tq&&"1"===t.x6.mobileFullScreen){var i=t.x6.threadUrl+e;location.href=i}else(0,r.TK)(e,!0).always((function(){n.resolve(!0)}))})),n.promise()}i(document).on("change keyup",'.side-header > .bpbm-search input[name="search"]',(function(n){var r=i(this),a=r.val().trim(),o=r.closest("form").find(".close"),s=r.closest(".bp-messages-side-threads"),l=s.find(".bpbm-search-results"),c=l.parent().find("> *:not(.bpbm-search-results)"),u=s.find(".chat-tabs");r.data("search-term")!==a&&(""===a?(c.removeClass("bpbm-display-none"),u.show(),l.hide(),o.hide(),r.data("search-term",a)):(l.show(),o.show(),c.addClass("bpbm-display-none"),u.hide(),g&&g.abort(),0===l.find(".loading-messages").length&&l.html(t.Rl.loadingHtml),r.data("search-term",a),g=i.post(t.x6.ajaxUrl,{action:"bp_messages_thread_search",search:a},(function(n){l.html(n),g=!1,(0,e.a_)(),i(".bpbm-gifs-icon").html(t.ci.gif)}))))})),i(document).on("change keyup",".bpbm-search-in-list > input",(function(e){var t=i(this),n=t.val().trim().toLowerCase(),r=t.parent().next();r.hasClass("threads-list")||r.find("> div").each((function(){var e=i(this);-1===e.find(".name").text().toLowerCase().indexOf(n)?e.hide():e.show()}))})),i(document).on("click",".bpbm-send-files.bpbm-has-files",(function(e){var t=i(this).closest(".uppy-Dashboard"),n=parseInt(t.attr("data-thread-id")),r=i("#bpbm-upload-btn-"+n);t.find(".uppy-Dashboard-close").click(),r.closest("form").submit()})),i(document).on("bp-better-messages-open-mini-chat",(function(e,t,n){(0,r.TK)(t,n)})),i(document).on("bp-better-messages-open-private-thread",(function(e,t){v(t)}))}(t.$),window.BBPMOpenMiniChat=function(e,n){(0,t.$)(document).trigger("bp-better-messages-open-mini-chat",[e,n])},window.BBPMOpenPeepsoPrivateThread=function(e){(0,t.$)(document).trigger("bp-better-messages-open-private-thread",[e])},window.BPBMGetOnlineUsers=function(){return n.CH}})()})();